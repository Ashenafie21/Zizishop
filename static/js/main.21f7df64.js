/*! For license information please see main.21f7df64.js.LICENSE.txt */
(()=>{var e={764:function(e,t,n){!function(e,t){"use strict";function n(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function r(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){s(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function i(e){return i="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){if(null==e)return{};var n,r,i={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}function a(e,t){if(null==e)return{};var n,r,i=o(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function l(e,t){return c(e)||u(e,t)||d(e,t)||f()}function c(e){if(Array.isArray(e))return e}function u(e,t){var n=e&&("undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null!=n){var r,i,s=[],o=!0,a=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(s.push(r.value),!t||s.length!==t);o=!0);}catch(l){a=!0,i=l}finally{try{o||null==n.return||n.return()}finally{if(a)throw i}}return s}}function d(e,t){if(e){if("string"===typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?h(e,t):void 0}}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function f(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function p(e,t){return e(t={exports:{}},t.exports),t.exports}t=t&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t;var m="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";function g(){}function y(){}y.resetWarningCache=g;var v=function(){function e(e,t,n,r,i,s){if(s!==m){var o=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw o.name="Invariant Violation",o}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:y,resetWarningCache:g};return n.PropTypes=n,n},w=p((function(e){e.exports=v()})),b=function(e){var n=t.useRef(e);return t.useEffect((function(){n.current=e}),[e]),n.current},_=function(e){return null!==e&&"object"===i(e)},S=function(e){return _(e)&&"function"===typeof e.then},E=function(e){return _(e)&&"function"===typeof e.elements&&"function"===typeof e.createToken&&"function"===typeof e.createPaymentMethod&&"function"===typeof e.confirmCardPayment},x="[object Object]",T=function e(t,n){if(!_(t)||!_(n))return t===n;var r=Array.isArray(t);if(r!==Array.isArray(n))return!1;var i=Object.prototype.toString.call(t)===x;if(i!==(Object.prototype.toString.call(n)===x))return!1;if(!i&&!r)return t===n;var s=Object.keys(t),o=Object.keys(n);if(s.length!==o.length)return!1;for(var a={},l=0;l<s.length;l+=1)a[s[l]]=!0;for(var c=0;c<o.length;c+=1)a[o[c]]=!0;var u=Object.keys(a);if(u.length!==s.length)return!1;var d=t,h=n,f=function(t){return e(d[t],h[t])};return u.every(f)},k=function(e,t,n){return _(e)?Object.keys(e).reduce((function(i,o){var a=!_(t)||!T(e[o],t[o]);return n.includes(o)?(a&&console.warn("Unsupported prop change: options.".concat(o," is not a mutable property.")),i):a?r(r({},i||{}),{},s({},o,e[o])):i}),null):null},I="Invalid prop `stripe` supplied to `Elements`. We recommend using the `loadStripe` utility from `@stripe/stripe-js`. See https://stripe.com/docs/stripe-js/react#elements-props-stripe for details.",C=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:I;if(null===e||E(e))return e;throw new Error(t)},N=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:I;if(S(e))return{tag:"async",stripePromise:Promise.resolve(e).then((function(e){return C(e,t)}))};var n=C(e,t);return null===n?{tag:"empty"}:{tag:"sync",stripe:n}},A=function(e){e&&e._registerWrapper&&e.registerAppInfo&&(e._registerWrapper({name:"react-stripe-js",version:"2.4.0"}),e.registerAppInfo({name:"react-stripe-js",version:"2.4.0",url:"https://stripe.com/docs/stripe-js/react"}))},O=["on","session"],P=t.createContext(null);P.displayName="CustomCheckoutSdkContext";var D=function(e,t){if(!e)throw new Error("Could not find CustomCheckoutProvider context; You need to wrap the part of your app that ".concat(t," in an <CustomCheckoutProvider> provider."));return e},R=t.createContext(null);R.displayName="CustomCheckoutContext";var M=function(e,t){if(!e)return null;e.on,e.session;var n=a(e,O);return r(r({},n),t||e.session())},L="Invalid prop `stripe` supplied to `CustomCheckoutProvider`. We recommend using the `loadStripe` utility from `@stripe/stripe-js`. See https://stripe.com/docs/stripe-js/react#elements-props-stripe for details.",j=function(e){var n=e.stripe,r=e.options,i=e.children,s=t.useMemo((function(){return N(n,L)}),[n]),o=l(t.useState(null),2),a=o[0],c=o[1],u=l(t.useState((function(){return{stripe:"sync"===s.tag?s.stripe:null,customCheckoutSdk:null}})),2),d=u[0],h=u[1],f=function(e,t){h((function(n){return n.stripe&&n.customCheckoutSdk?n:{stripe:e,customCheckoutSdk:t}}))},p=t.useRef(!1);t.useEffect((function(){var e=!0;return"async"!==s.tag||d.stripe?"sync"===s.tag&&s.stripe&&!p.current&&(p.current=!0,s.stripe.initCustomCheckout(r).then((function(e){e&&(f(s.stripe,e),e.on("change",c))}))):s.stripePromise.then((function(t){t&&e&&!p.current&&(p.current=!0,t.initCustomCheckout(r).then((function(e){e&&(f(t,e),e.on("change",c))})))})),function(){e=!1}}),[s,d,r,c]);var m=b(n);t.useEffect((function(){null!==m&&m!==n&&console.warn("Unsupported prop change on CustomCheckoutProvider: You cannot change the `stripe` prop after setting it.")}),[m,n]);var g=b(r);t.useEffect((function(){var e,t;if(d.customCheckoutSdk){!r.clientSecret||_(g)||T(r.clientSecret,g.clientSecret)||console.warn("Unsupported prop change: options.client_secret is not a mutable property.");var n=null===g||void 0===g||null===(e=g.elementsOptions)||void 0===e?void 0:e.appearance,i=null===r||void 0===r||null===(t=r.elementsOptions)||void 0===t?void 0:t.appearance;i&&!T(i,n)&&d.customCheckoutSdk.changeAppearance(i)}}),[r,g,d.customCheckoutSdk]),t.useEffect((function(){A(d.stripe)}),[d.stripe]);var y=t.useMemo((function(){return M(d.customCheckoutSdk,a)}),[d.customCheckoutSdk,a]);return d.customCheckoutSdk?t.createElement(P.Provider,{value:d},t.createElement(R.Provider,{value:y},i)):null};j.propTypes={stripe:w.any,options:w.shape({clientSecret:w.string.isRequired,elementsOptions:w.object}).isRequired};var F=function(e){var n=t.useContext(P);return D(n,e)},U=function(e){var n=t.useContext(P),r=t.useContext(z);if(n&&r)throw new Error("You cannot wrap the part of your app that ".concat(e," in both <CustomCheckoutProvider> and <Elements> providers."));return n?D(n,e):B(r,e)},V=function(){F("calls useCustomCheckout()");var e=t.useContext(R);if(!e)throw new Error("Could not find CustomCheckout Context; You need to wrap the part of your app that calls useCustomCheckout() in an <CustomCheckoutProvider> provider.");return e},z=t.createContext(null);z.displayName="ElementsContext";var B=function(e,t){if(!e)throw new Error("Could not find Elements context; You need to wrap the part of your app that ".concat(t," in an <Elements> provider."));return e},q=t.createContext(null);q.displayName="CartElementContext";var W=function(e,t){if(!e)throw new Error("Could not find Elements context; You need to wrap the part of your app that ".concat(t," in an <Elements> provider."));return e},G=function(e){var n=e.stripe,r=e.options,i=e.children,s=t.useMemo((function(){return N(n)}),[n]),o=l(t.useState(null),2),a=o[0],c=o[1],u=l(t.useState(null),2),d=u[0],h=u[1],f=l(t.useState((function(){return{stripe:"sync"===s.tag?s.stripe:null,elements:"sync"===s.tag?s.stripe.elements(r):null}})),2),p=f[0],m=f[1];t.useEffect((function(){var e=!0,t=function(e){m((function(t){return t.stripe?t:{stripe:e,elements:e.elements(r)}}))};return"async"!==s.tag||p.stripe?"sync"!==s.tag||p.stripe||t(s.stripe):s.stripePromise.then((function(n){n&&e&&t(n)})),function(){e=!1}}),[s,p,r]);var g=b(n);t.useEffect((function(){null!==g&&g!==n&&console.warn("Unsupported prop change on Elements: You cannot change the `stripe` prop after setting it.")}),[g,n]);var y=b(r);return t.useEffect((function(){if(p.elements){var e=k(r,y,["clientSecret","fonts"]);e&&p.elements.update(e)}}),[r,y,p.elements]),t.useEffect((function(){A(p.stripe)}),[p.stripe]),t.createElement(z.Provider,{value:p},t.createElement(q.Provider,{value:{cart:a,setCart:c,cartState:d,setCartState:h}},i))};G.propTypes={stripe:w.any,options:w.object};var H=function(e){var n=t.useContext(z);return B(n,e)},Y={cart:null,cartState:null,setCart:function(){},setCartState:function(){}},K=function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=t.useContext(q);return n?Y:W(r,e)},Q=function(){return H("calls useElements()").elements},X=function(){return U("calls useStripe()").stripe},J=function(){return K("calls useCartElement()").cart},$=function(){return K("calls useCartElementState()").cartState},Z=function(e){return(0,e.children)(H("mounts <ElementsConsumer>"))};Z.propTypes={children:w.func.isRequired};var ee=function(e,n,r){var i=!!r,s=t.useRef(r);t.useEffect((function(){s.current=r}),[r]),t.useEffect((function(){if(!i||!e)return function(){};var t=function(){s.current&&s.current.apply(s,arguments)};return e.on(n,t),function(){e.off(n,t)}}),[i,n,e,s])},te=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},ne=function(e,n){var r="".concat(te(e),"Element"),i=n?function(e){var n=U("mounts <".concat(r,">"));K("mounts <".concat(r,">"),"customCheckoutSdk"in n);var i=e.id,s=e.className;return t.createElement("div",{id:i,className:s})}:function(n){var i,s=n.id,o=n.className,a=n.options,c=void 0===a?{}:a,u=n.onBlur,d=n.onFocus,h=n.onReady,f=n.onChange,p=n.onEscape,m=n.onClick,g=n.onLoadError,y=n.onLoaderStart,v=n.onNetworksChange,w=n.onCheckout,_=n.onLineItemClick,S=n.onConfirm,E=n.onCancel,x=n.onShippingAddressChange,T=n.onShippingRateChange,I=U("mounts <".concat(r,">")),C="elements"in I?I.elements:null,N="customCheckoutSdk"in I?I.customCheckoutSdk:null,A=l(t.useState(null),2),O=A[0],P=A[1],D=t.useRef(null),R=t.useRef(null),M=K("mounts <".concat(r,">"),"customCheckoutSdk"in I),L=M.setCart,j=M.setCartState;ee(O,"blur",u),ee(O,"focus",d),ee(O,"escape",p),ee(O,"click",m),ee(O,"loaderror",g),ee(O,"loaderstart",y),ee(O,"networkschange",v),ee(O,"lineitemclick",_),ee(O,"confirm",S),ee(O,"cancel",E),ee(O,"shippingaddresschange",x),ee(O,"shippingratechange",T),"cart"===e?i=function(e){j(e),h&&h(e)}:h&&(i="expressCheckout"===e?h:function(){h(O)}),ee(O,"ready",i),ee(O,"change","cart"===e?function(e){j(e),f&&f(e)}:f),ee(O,"checkout","cart"===e?function(e){j(e),w&&w(e)}:w),t.useLayoutEffect((function(){if(null===D.current&&null!==R.current&&(C||N)){var t=null;N?t=N.createElement(e,c):C&&(t=C.create(e,c)),"cart"===e&&L&&L(t),D.current=t,P(t),t&&t.mount(R.current)}}),[C,N,c,L]);var F=b(c);return t.useEffect((function(){if(D.current){var e=k(c,F,["paymentRequest"]);e&&D.current.update(e)}}),[c,F]),t.useLayoutEffect((function(){return function(){if(D.current&&"function"===typeof D.current.destroy)try{D.current.destroy(),D.current=null}catch(e){}}}),[]),t.createElement("div",{id:s,className:o,ref:R})};return i.propTypes={id:w.string,className:w.string,onChange:w.func,onBlur:w.func,onFocus:w.func,onReady:w.func,onEscape:w.func,onClick:w.func,onLoadError:w.func,onLoaderStart:w.func,onNetworksChange:w.func,onCheckout:w.func,onLineItemClick:w.func,onConfirm:w.func,onCancel:w.func,onShippingAddressChange:w.func,onShippingRateChange:w.func,options:w.object},i.displayName=r,i.__elementType=e,i},re="undefined"===typeof window,ie=t.createContext(null);ie.displayName="EmbeddedCheckoutProviderContext";var se=function(){var e=t.useContext(ie);if(!e)throw new Error("<EmbeddedCheckout> must be used within <EmbeddedCheckoutProvider>");return e},oe="Invalid prop `stripe` supplied to `EmbeddedCheckoutProvider`. We recommend using the `loadStripe` utility from `@stripe/stripe-js`. See https://stripe.com/docs/stripe-js/react#elements-props-stripe for details.",ae=function(e){var n=e.stripe,r=e.options,i=e.children,s=t.useMemo((function(){return N(n,oe)}),[n]),o=t.useRef(null),a=t.useRef(null),c=l(t.useState({embeddedCheckout:null}),2),u=c[0],d=c[1];t.useEffect((function(){if(!a.current&&!o.current){var e=function(e){a.current||o.current||(a.current=e,o.current=a.current.initEmbeddedCheckout(r).then((function(e){d({embeddedCheckout:e})})))};"async"===s.tag&&!a.current&&r.clientSecret?s.stripePromise.then((function(t){t&&e(t)})):"sync"===s.tag&&!a.current&&r.clientSecret&&e(s.stripe)}}),[s,r,u,a]),t.useEffect((function(){return function(){u.embeddedCheckout?(o.current=null,u.embeddedCheckout.destroy()):o.current&&o.current.then((function(){o.current=null,u.embeddedCheckout&&u.embeddedCheckout.destroy()}))}}),[u.embeddedCheckout]),t.useEffect((function(){A(a)}),[a]);var h=b(n);t.useEffect((function(){null!==h&&h!==n&&console.warn("Unsupported prop change on EmbeddedCheckoutProvider: You cannot change the `stripe` prop after setting it.")}),[h,n]);var f=b(r);return t.useEffect((function(){null!=f&&(null!=r?(null!=f.clientSecret&&r.clientSecret!==f.clientSecret&&console.warn("Unsupported prop change on EmbeddedCheckoutProvider: You cannot change the client secret after setting it. Unmount and create a new instance of EmbeddedCheckoutProvider instead."),null!=f.onComplete&&r.onComplete!==f.onComplete&&console.warn("Unsupported prop change on EmbeddedCheckoutProvider: You cannot change the onComplete option after setting it.")):console.warn("Unsupported prop change on EmbeddedCheckoutProvider: You cannot unset options after setting them."))}),[f,r]),t.createElement(ie.Provider,{value:u},i)},le=function(e){var n=e.id,r=e.className,i=se().embeddedCheckout,s=t.useRef(!1),o=t.useRef(null);return t.useLayoutEffect((function(){return!s.current&&i&&null!==o.current&&(i.mount(o.current),s.current=!0),function(){if(s.current&&i)try{i.unmount(),s.current=!1}catch(e){}}}),[i]),t.createElement("div",{ref:o,id:n,className:r})},ce=function(e){var n=e.id,r=e.className;return se(),t.createElement("div",{id:n,className:r})},ue=re?ce:le,de=ne("auBankAccount",re),he=ne("card",re),fe=ne("cardNumber",re),pe=ne("cardExpiry",re),me=ne("cardCvc",re),ge=ne("fpxBank",re),ye=ne("iban",re),ve=ne("idealBank",re),we=ne("p24Bank",re),be=ne("epsBank",re),_e=ne("payment",re),Se=ne("expressCheckout",re),Ee=ne("paymentRequestButton",re),xe=ne("linkAuthentication",re),Te=ne("address",re),ke=ne("shippingAddress",re),Ie=ne("cart",re),Ce=ne("paymentMethodMessaging",re),Ne=ne("affirmMessage",re),Ae=ne("afterpayClearpayMessage",re);e.AddressElement=Te,e.AffirmMessageElement=Ne,e.AfterpayClearpayMessageElement=Ae,e.AuBankAccountElement=de,e.CardCvcElement=me,e.CardElement=he,e.CardExpiryElement=pe,e.CardNumberElement=fe,e.CartElement=Ie,e.CustomCheckoutProvider=j,e.Elements=G,e.ElementsConsumer=Z,e.EmbeddedCheckout=ue,e.EmbeddedCheckoutProvider=ae,e.EpsBankElement=be,e.ExpressCheckoutElement=Se,e.FpxBankElement=ge,e.IbanElement=ye,e.IdealBankElement=ve,e.LinkAuthenticationElement=xe,e.P24BankElement=we,e.PaymentElement=_e,e.PaymentMethodMessagingElement=Ce,e.PaymentRequestButtonElement=Ee,e.ShippingAddressElement=ke,e.useCartElement=J,e.useCartElementState=$,e.useCustomCheckout=V,e.useElements=Q,e.useStripe=X,Object.defineProperty(e,"__esModule",{value:!0})}(t,n(791))},426:function(e,t,n){(e=n.nmd(e)).exports=function(){"use strict";var t,n;function r(){return t.apply(null,arguments)}function i(e){t=e}function s(e){return e instanceof Array||"[object Array]"===Object.prototype.toString.call(e)}function o(e){return null!=e&&"[object Object]"===Object.prototype.toString.call(e)}function a(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function l(e){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(e).length;var t;for(t in e)if(a(e,t))return!1;return!0}function c(e){return void 0===e}function u(e){return"number"===typeof e||"[object Number]"===Object.prototype.toString.call(e)}function d(e){return e instanceof Date||"[object Date]"===Object.prototype.toString.call(e)}function h(e,t){var n,r=[],i=e.length;for(n=0;n<i;++n)r.push(t(e[n],n));return r}function f(e,t){for(var n in t)a(t,n)&&(e[n]=t[n]);return a(t,"toString")&&(e.toString=t.toString),a(t,"valueOf")&&(e.valueOf=t.valueOf),e}function p(e,t,n,r){return Kn(e,t,n,r,!0).utc()}function m(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function g(e){return null==e._pf&&(e._pf=m()),e._pf}function y(e){if(null==e._isValid){var t=g(e),r=n.call(t.parsedDateParts,(function(e){return null!=e})),i=!isNaN(e._d.getTime())&&t.overflow<0&&!t.empty&&!t.invalidEra&&!t.invalidMonth&&!t.invalidWeekday&&!t.weekdayMismatch&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&r);if(e._strict&&(i=i&&0===t.charsLeftOver&&0===t.unusedTokens.length&&void 0===t.bigHour),null!=Object.isFrozen&&Object.isFrozen(e))return i;e._isValid=i}return e._isValid}function v(e){var t=p(NaN);return null!=e?f(g(t),e):g(t).userInvalidated=!0,t}n=Array.prototype.some?Array.prototype.some:function(e){var t,n=Object(this),r=n.length>>>0;for(t=0;t<r;t++)if(t in n&&e.call(this,n[t],t,n))return!0;return!1};var w=r.momentProperties=[],b=!1;function _(e,t){var n,r,i,s=w.length;if(c(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),c(t._i)||(e._i=t._i),c(t._f)||(e._f=t._f),c(t._l)||(e._l=t._l),c(t._strict)||(e._strict=t._strict),c(t._tzm)||(e._tzm=t._tzm),c(t._isUTC)||(e._isUTC=t._isUTC),c(t._offset)||(e._offset=t._offset),c(t._pf)||(e._pf=g(t)),c(t._locale)||(e._locale=t._locale),s>0)for(n=0;n<s;n++)c(i=t[r=w[n]])||(e[r]=i);return e}function S(e){_(this,e),this._d=new Date(null!=e._d?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===b&&(b=!0,r.updateOffset(this),b=!1)}function E(e){return e instanceof S||null!=e&&null!=e._isAMomentObject}function x(e){!1===r.suppressDeprecationWarnings&&"undefined"!==typeof console&&console.warn&&console.warn("Deprecation warning: "+e)}function T(e,t){var n=!0;return f((function(){if(null!=r.deprecationHandler&&r.deprecationHandler(null,e),n){var i,s,o,l=[],c=arguments.length;for(s=0;s<c;s++){if(i="","object"===typeof arguments[s]){for(o in i+="\n["+s+"] ",arguments[0])a(arguments[0],o)&&(i+=o+": "+arguments[0][o]+", ");i=i.slice(0,-2)}else i=arguments[s];l.push(i)}x(e+"\nArguments: "+Array.prototype.slice.call(l).join("")+"\n"+(new Error).stack),n=!1}return t.apply(this,arguments)}),t)}var k,I={};function C(e,t){null!=r.deprecationHandler&&r.deprecationHandler(e,t),I[e]||(x(t),I[e]=!0)}function N(e){return"undefined"!==typeof Function&&e instanceof Function||"[object Function]"===Object.prototype.toString.call(e)}function A(e){var t,n;for(n in e)a(e,n)&&(N(t=e[n])?this[n]=t:this["_"+n]=t);this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function O(e,t){var n,r=f({},e);for(n in t)a(t,n)&&(o(e[n])&&o(t[n])?(r[n]={},f(r[n],e[n]),f(r[n],t[n])):null!=t[n]?r[n]=t[n]:delete r[n]);for(n in e)a(e,n)&&!a(t,n)&&o(e[n])&&(r[n]=f({},r[n]));return r}function P(e){null!=e&&this.set(e)}r.suppressDeprecationWarnings=!1,r.deprecationHandler=null,k=Object.keys?Object.keys:function(e){var t,n=[];for(t in e)a(e,t)&&n.push(t);return n};var D={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function R(e,t,n){var r=this._calendar[e]||this._calendar.sameElse;return N(r)?r.call(t,n):r}function M(e,t,n){var r=""+Math.abs(e),i=t-r.length;return(e>=0?n?"+":"":"-")+Math.pow(10,Math.max(0,i)).toString().substr(1)+r}var L=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,j=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,F={},U={};function V(e,t,n,r){var i=r;"string"===typeof r&&(i=function(){return this[r]()}),e&&(U[e]=i),t&&(U[t[0]]=function(){return M(i.apply(this,arguments),t[1],t[2])}),n&&(U[n]=function(){return this.localeData().ordinal(i.apply(this,arguments),e)})}function z(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function B(e){var t,n,r=e.match(L);for(t=0,n=r.length;t<n;t++)U[r[t]]?r[t]=U[r[t]]:r[t]=z(r[t]);return function(t){var i,s="";for(i=0;i<n;i++)s+=N(r[i])?r[i].call(t,e):r[i];return s}}function q(e,t){return e.isValid()?(t=W(t,e.localeData()),F[t]=F[t]||B(t),F[t](e)):e.localeData().invalidDate()}function W(e,t){var n=5;function r(e){return t.longDateFormat(e)||e}for(j.lastIndex=0;n>=0&&j.test(e);)e=e.replace(j,r),j.lastIndex=0,n-=1;return e}var G={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function H(e){var t=this._longDateFormat[e],n=this._longDateFormat[e.toUpperCase()];return t||!n?t:(this._longDateFormat[e]=n.match(L).map((function(e){return"MMMM"===e||"MM"===e||"DD"===e||"dddd"===e?e.slice(1):e})).join(""),this._longDateFormat[e])}var Y="Invalid date";function K(){return this._invalidDate}var Q="%d",X=/\d{1,2}/;function J(e){return this._ordinal.replace("%d",e)}var $={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function Z(e,t,n,r){var i=this._relativeTime[n];return N(i)?i(e,t,n,r):i.replace(/%d/i,e)}function ee(e,t){var n=this._relativeTime[e>0?"future":"past"];return N(n)?n(t):n.replace(/%s/i,t)}var te={};function ne(e,t){var n=e.toLowerCase();te[n]=te[n+"s"]=te[t]=e}function re(e){return"string"===typeof e?te[e]||te[e.toLowerCase()]:void 0}function ie(e){var t,n,r={};for(n in e)a(e,n)&&(t=re(n))&&(r[t]=e[n]);return r}var se={};function oe(e,t){se[e]=t}function ae(e){var t,n=[];for(t in e)a(e,t)&&n.push({unit:t,priority:se[t]});return n.sort((function(e,t){return e.priority-t.priority})),n}function le(e){return e%4===0&&e%100!==0||e%400===0}function ce(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function ue(e){var t=+e,n=0;return 0!==t&&isFinite(t)&&(n=ce(t)),n}function de(e,t){return function(n){return null!=n?(fe(this,e,n),r.updateOffset(this,t),this):he(this,e)}}function he(e,t){return e.isValid()?e._d["get"+(e._isUTC?"UTC":"")+t]():NaN}function fe(e,t,n){e.isValid()&&!isNaN(n)&&("FullYear"===t&&le(e.year())&&1===e.month()&&29===e.date()?(n=ue(n),e._d["set"+(e._isUTC?"UTC":"")+t](n,e.month(),Ze(n,e.month()))):e._d["set"+(e._isUTC?"UTC":"")+t](n))}function pe(e){return N(this[e=re(e)])?this[e]():this}function me(e,t){if("object"===typeof e){var n,r=ae(e=ie(e)),i=r.length;for(n=0;n<i;n++)this[r[n].unit](e[r[n].unit])}else if(N(this[e=re(e)]))return this[e](t);return this}var ge,ye=/\d/,ve=/\d\d/,we=/\d{3}/,be=/\d{4}/,_e=/[+-]?\d{6}/,Se=/\d\d?/,Ee=/\d\d\d\d?/,xe=/\d\d\d\d\d\d?/,Te=/\d{1,3}/,ke=/\d{1,4}/,Ie=/[+-]?\d{1,6}/,Ce=/\d+/,Ne=/[+-]?\d+/,Ae=/Z|[+-]\d\d:?\d\d/gi,Oe=/Z|[+-]\d\d(?::?\d\d)?/gi,Pe=/[+-]?\d+(\.\d{1,3})?/,De=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i;function Re(e,t,n){ge[e]=N(t)?t:function(e,r){return e&&n?n:t}}function Me(e,t){return a(ge,e)?ge[e](t._strict,t._locale):new RegExp(Le(e))}function Le(e){return je(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,(function(e,t,n,r,i){return t||n||r||i})))}function je(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}ge={};var Fe={};function Ue(e,t){var n,r,i=t;for("string"===typeof e&&(e=[e]),u(t)&&(i=function(e,n){n[t]=ue(e)}),r=e.length,n=0;n<r;n++)Fe[e[n]]=i}function Ve(e,t){Ue(e,(function(e,n,r,i){r._w=r._w||{},t(e,r._w,r,i)}))}function ze(e,t,n){null!=t&&a(Fe,e)&&Fe[e](t,n._a,n,e)}var Be,qe=0,We=1,Ge=2,He=3,Ye=4,Ke=5,Qe=6,Xe=7,Je=8;function $e(e,t){return(e%t+t)%t}function Ze(e,t){if(isNaN(e)||isNaN(t))return NaN;var n=$e(t,12);return e+=(t-n)/12,1===n?le(e)?29:28:31-n%7%2}Be=Array.prototype.indexOf?Array.prototype.indexOf:function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1},V("M",["MM",2],"Mo",(function(){return this.month()+1})),V("MMM",0,0,(function(e){return this.localeData().monthsShort(this,e)})),V("MMMM",0,0,(function(e){return this.localeData().months(this,e)})),ne("month","M"),oe("month",8),Re("M",Se),Re("MM",Se,ve),Re("MMM",(function(e,t){return t.monthsShortRegex(e)})),Re("MMMM",(function(e,t){return t.monthsRegex(e)})),Ue(["M","MM"],(function(e,t){t[We]=ue(e)-1})),Ue(["MMM","MMMM"],(function(e,t,n,r){var i=n._locale.monthsParse(e,r,n._strict);null!=i?t[We]=i:g(n).invalidMonth=e}));var et="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),tt="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),nt=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,rt=De,it=De;function st(e,t){return e?s(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||nt).test(t)?"format":"standalone"][e.month()]:s(this._months)?this._months:this._months.standalone}function ot(e,t){return e?s(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[nt.test(t)?"format":"standalone"][e.month()]:s(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function at(e,t,n){var r,i,s,o=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],r=0;r<12;++r)s=p([2e3,r]),this._shortMonthsParse[r]=this.monthsShort(s,"").toLocaleLowerCase(),this._longMonthsParse[r]=this.months(s,"").toLocaleLowerCase();return n?"MMM"===t?-1!==(i=Be.call(this._shortMonthsParse,o))?i:null:-1!==(i=Be.call(this._longMonthsParse,o))?i:null:"MMM"===t?-1!==(i=Be.call(this._shortMonthsParse,o))||-1!==(i=Be.call(this._longMonthsParse,o))?i:null:-1!==(i=Be.call(this._longMonthsParse,o))||-1!==(i=Be.call(this._shortMonthsParse,o))?i:null}function lt(e,t,n){var r,i,s;if(this._monthsParseExact)return at.call(this,e,t,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),r=0;r<12;r++){if(i=p([2e3,r]),n&&!this._longMonthsParse[r]&&(this._longMonthsParse[r]=new RegExp("^"+this.months(i,"").replace(".","")+"$","i"),this._shortMonthsParse[r]=new RegExp("^"+this.monthsShort(i,"").replace(".","")+"$","i")),n||this._monthsParse[r]||(s="^"+this.months(i,"")+"|^"+this.monthsShort(i,""),this._monthsParse[r]=new RegExp(s.replace(".",""),"i")),n&&"MMMM"===t&&this._longMonthsParse[r].test(e))return r;if(n&&"MMM"===t&&this._shortMonthsParse[r].test(e))return r;if(!n&&this._monthsParse[r].test(e))return r}}function ct(e,t){var n;if(!e.isValid())return e;if("string"===typeof t)if(/^\d+$/.test(t))t=ue(t);else if(!u(t=e.localeData().monthsParse(t)))return e;return n=Math.min(e.date(),Ze(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,n),e}function ut(e){return null!=e?(ct(this,e),r.updateOffset(this,!0),this):he(this,"Month")}function dt(){return Ze(this.year(),this.month())}function ht(e){return this._monthsParseExact?(a(this,"_monthsRegex")||pt.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(a(this,"_monthsShortRegex")||(this._monthsShortRegex=rt),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)}function ft(e){return this._monthsParseExact?(a(this,"_monthsRegex")||pt.call(this),e?this._monthsStrictRegex:this._monthsRegex):(a(this,"_monthsRegex")||(this._monthsRegex=it),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)}function pt(){function e(e,t){return t.length-e.length}var t,n,r=[],i=[],s=[];for(t=0;t<12;t++)n=p([2e3,t]),r.push(this.monthsShort(n,"")),i.push(this.months(n,"")),s.push(this.months(n,"")),s.push(this.monthsShort(n,""));for(r.sort(e),i.sort(e),s.sort(e),t=0;t<12;t++)r[t]=je(r[t]),i[t]=je(i[t]);for(t=0;t<24;t++)s[t]=je(s[t]);this._monthsRegex=new RegExp("^("+s.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+i.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+r.join("|")+")","i")}function mt(e){return le(e)?366:365}V("Y",0,0,(function(){var e=this.year();return e<=9999?M(e,4):"+"+e})),V(0,["YY",2],0,(function(){return this.year()%100})),V(0,["YYYY",4],0,"year"),V(0,["YYYYY",5],0,"year"),V(0,["YYYYYY",6,!0],0,"year"),ne("year","y"),oe("year",1),Re("Y",Ne),Re("YY",Se,ve),Re("YYYY",ke,be),Re("YYYYY",Ie,_e),Re("YYYYYY",Ie,_e),Ue(["YYYYY","YYYYYY"],qe),Ue("YYYY",(function(e,t){t[qe]=2===e.length?r.parseTwoDigitYear(e):ue(e)})),Ue("YY",(function(e,t){t[qe]=r.parseTwoDigitYear(e)})),Ue("Y",(function(e,t){t[qe]=parseInt(e,10)})),r.parseTwoDigitYear=function(e){return ue(e)+(ue(e)>68?1900:2e3)};var gt=de("FullYear",!0);function yt(){return le(this.year())}function vt(e,t,n,r,i,s,o){var a;return e<100&&e>=0?(a=new Date(e+400,t,n,r,i,s,o),isFinite(a.getFullYear())&&a.setFullYear(e)):a=new Date(e,t,n,r,i,s,o),a}function wt(e){var t,n;return e<100&&e>=0?((n=Array.prototype.slice.call(arguments))[0]=e+400,t=new Date(Date.UTC.apply(null,n)),isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e)):t=new Date(Date.UTC.apply(null,arguments)),t}function bt(e,t,n){var r=7+t-n;return-(7+wt(e,0,r).getUTCDay()-t)%7+r-1}function _t(e,t,n,r,i){var s,o,a=1+7*(t-1)+(7+n-r)%7+bt(e,r,i);return a<=0?o=mt(s=e-1)+a:a>mt(e)?(s=e+1,o=a-mt(e)):(s=e,o=a),{year:s,dayOfYear:o}}function St(e,t,n){var r,i,s=bt(e.year(),t,n),o=Math.floor((e.dayOfYear()-s-1)/7)+1;return o<1?r=o+Et(i=e.year()-1,t,n):o>Et(e.year(),t,n)?(r=o-Et(e.year(),t,n),i=e.year()+1):(i=e.year(),r=o),{week:r,year:i}}function Et(e,t,n){var r=bt(e,t,n),i=bt(e+1,t,n);return(mt(e)-r+i)/7}function xt(e){return St(e,this._week.dow,this._week.doy).week}V("w",["ww",2],"wo","week"),V("W",["WW",2],"Wo","isoWeek"),ne("week","w"),ne("isoWeek","W"),oe("week",5),oe("isoWeek",5),Re("w",Se),Re("ww",Se,ve),Re("W",Se),Re("WW",Se,ve),Ve(["w","ww","W","WW"],(function(e,t,n,r){t[r.substr(0,1)]=ue(e)}));var Tt={dow:0,doy:6};function kt(){return this._week.dow}function It(){return this._week.doy}function Ct(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),"d")}function Nt(e){var t=St(this,1,4).week;return null==e?t:this.add(7*(e-t),"d")}function At(e,t){return"string"!==typeof e?e:isNaN(e)?"number"===typeof(e=t.weekdaysParse(e))?e:null:parseInt(e,10)}function Ot(e,t){return"string"===typeof e?t.weekdaysParse(e)%7||7:isNaN(e)?null:e}function Pt(e,t){return e.slice(t,7).concat(e.slice(0,t))}V("d",0,"do","day"),V("dd",0,0,(function(e){return this.localeData().weekdaysMin(this,e)})),V("ddd",0,0,(function(e){return this.localeData().weekdaysShort(this,e)})),V("dddd",0,0,(function(e){return this.localeData().weekdays(this,e)})),V("e",0,0,"weekday"),V("E",0,0,"isoWeekday"),ne("day","d"),ne("weekday","e"),ne("isoWeekday","E"),oe("day",11),oe("weekday",11),oe("isoWeekday",11),Re("d",Se),Re("e",Se),Re("E",Se),Re("dd",(function(e,t){return t.weekdaysMinRegex(e)})),Re("ddd",(function(e,t){return t.weekdaysShortRegex(e)})),Re("dddd",(function(e,t){return t.weekdaysRegex(e)})),Ve(["dd","ddd","dddd"],(function(e,t,n,r){var i=n._locale.weekdaysParse(e,r,n._strict);null!=i?t.d=i:g(n).invalidWeekday=e})),Ve(["d","e","E"],(function(e,t,n,r){t[r]=ue(e)}));var Dt="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Rt="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Mt="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),Lt=De,jt=De,Ft=De;function Ut(e,t){var n=s(this._weekdays)?this._weekdays:this._weekdays[e&&!0!==e&&this._weekdays.isFormat.test(t)?"format":"standalone"];return!0===e?Pt(n,this._week.dow):e?n[e.day()]:n}function Vt(e){return!0===e?Pt(this._weekdaysShort,this._week.dow):e?this._weekdaysShort[e.day()]:this._weekdaysShort}function zt(e){return!0===e?Pt(this._weekdaysMin,this._week.dow):e?this._weekdaysMin[e.day()]:this._weekdaysMin}function Bt(e,t,n){var r,i,s,o=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],r=0;r<7;++r)s=p([2e3,1]).day(r),this._minWeekdaysParse[r]=this.weekdaysMin(s,"").toLocaleLowerCase(),this._shortWeekdaysParse[r]=this.weekdaysShort(s,"").toLocaleLowerCase(),this._weekdaysParse[r]=this.weekdays(s,"").toLocaleLowerCase();return n?"dddd"===t?-1!==(i=Be.call(this._weekdaysParse,o))?i:null:"ddd"===t?-1!==(i=Be.call(this._shortWeekdaysParse,o))?i:null:-1!==(i=Be.call(this._minWeekdaysParse,o))?i:null:"dddd"===t?-1!==(i=Be.call(this._weekdaysParse,o))||-1!==(i=Be.call(this._shortWeekdaysParse,o))||-1!==(i=Be.call(this._minWeekdaysParse,o))?i:null:"ddd"===t?-1!==(i=Be.call(this._shortWeekdaysParse,o))||-1!==(i=Be.call(this._weekdaysParse,o))||-1!==(i=Be.call(this._minWeekdaysParse,o))?i:null:-1!==(i=Be.call(this._minWeekdaysParse,o))||-1!==(i=Be.call(this._weekdaysParse,o))||-1!==(i=Be.call(this._shortWeekdaysParse,o))?i:null}function qt(e,t,n){var r,i,s;if(this._weekdaysParseExact)return Bt.call(this,e,t,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),r=0;r<7;r++){if(i=p([2e3,1]).day(r),n&&!this._fullWeekdaysParse[r]&&(this._fullWeekdaysParse[r]=new RegExp("^"+this.weekdays(i,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[r]=new RegExp("^"+this.weekdaysShort(i,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[r]=new RegExp("^"+this.weekdaysMin(i,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[r]||(s="^"+this.weekdays(i,"")+"|^"+this.weekdaysShort(i,"")+"|^"+this.weekdaysMin(i,""),this._weekdaysParse[r]=new RegExp(s.replace(".",""),"i")),n&&"dddd"===t&&this._fullWeekdaysParse[r].test(e))return r;if(n&&"ddd"===t&&this._shortWeekdaysParse[r].test(e))return r;if(n&&"dd"===t&&this._minWeekdaysParse[r].test(e))return r;if(!n&&this._weekdaysParse[r].test(e))return r}}function Wt(e){if(!this.isValid())return null!=e?this:NaN;var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=e?(e=At(e,this.localeData()),this.add(e-t,"d")):t}function Gt(e){if(!this.isValid())return null!=e?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,"d")}function Ht(e){if(!this.isValid())return null!=e?this:NaN;if(null!=e){var t=Ot(e,this.localeData());return this.day(this.day()%7?t:t-7)}return this.day()||7}function Yt(e){return this._weekdaysParseExact?(a(this,"_weekdaysRegex")||Xt.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(a(this,"_weekdaysRegex")||(this._weekdaysRegex=Lt),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)}function Kt(e){return this._weekdaysParseExact?(a(this,"_weekdaysRegex")||Xt.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(a(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=jt),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function Qt(e){return this._weekdaysParseExact?(a(this,"_weekdaysRegex")||Xt.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(a(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Ft),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function Xt(){function e(e,t){return t.length-e.length}var t,n,r,i,s,o=[],a=[],l=[],c=[];for(t=0;t<7;t++)n=p([2e3,1]).day(t),r=je(this.weekdaysMin(n,"")),i=je(this.weekdaysShort(n,"")),s=je(this.weekdays(n,"")),o.push(r),a.push(i),l.push(s),c.push(r),c.push(i),c.push(s);o.sort(e),a.sort(e),l.sort(e),c.sort(e),this._weekdaysRegex=new RegExp("^("+c.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+l.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+a.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+o.join("|")+")","i")}function Jt(){return this.hours()%12||12}function $t(){return this.hours()||24}function Zt(e,t){V(e,0,0,(function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)}))}function en(e,t){return t._meridiemParse}function tn(e){return"p"===(e+"").toLowerCase().charAt(0)}V("H",["HH",2],0,"hour"),V("h",["hh",2],0,Jt),V("k",["kk",2],0,$t),V("hmm",0,0,(function(){return""+Jt.apply(this)+M(this.minutes(),2)})),V("hmmss",0,0,(function(){return""+Jt.apply(this)+M(this.minutes(),2)+M(this.seconds(),2)})),V("Hmm",0,0,(function(){return""+this.hours()+M(this.minutes(),2)})),V("Hmmss",0,0,(function(){return""+this.hours()+M(this.minutes(),2)+M(this.seconds(),2)})),Zt("a",!0),Zt("A",!1),ne("hour","h"),oe("hour",13),Re("a",en),Re("A",en),Re("H",Se),Re("h",Se),Re("k",Se),Re("HH",Se,ve),Re("hh",Se,ve),Re("kk",Se,ve),Re("hmm",Ee),Re("hmmss",xe),Re("Hmm",Ee),Re("Hmmss",xe),Ue(["H","HH"],He),Ue(["k","kk"],(function(e,t,n){var r=ue(e);t[He]=24===r?0:r})),Ue(["a","A"],(function(e,t,n){n._isPm=n._locale.isPM(e),n._meridiem=e})),Ue(["h","hh"],(function(e,t,n){t[He]=ue(e),g(n).bigHour=!0})),Ue("hmm",(function(e,t,n){var r=e.length-2;t[He]=ue(e.substr(0,r)),t[Ye]=ue(e.substr(r)),g(n).bigHour=!0})),Ue("hmmss",(function(e,t,n){var r=e.length-4,i=e.length-2;t[He]=ue(e.substr(0,r)),t[Ye]=ue(e.substr(r,2)),t[Ke]=ue(e.substr(i)),g(n).bigHour=!0})),Ue("Hmm",(function(e,t,n){var r=e.length-2;t[He]=ue(e.substr(0,r)),t[Ye]=ue(e.substr(r))})),Ue("Hmmss",(function(e,t,n){var r=e.length-4,i=e.length-2;t[He]=ue(e.substr(0,r)),t[Ye]=ue(e.substr(r,2)),t[Ke]=ue(e.substr(i))}));var nn=/[ap]\.?m?\.?/i,rn=de("Hours",!0);function sn(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"}var on,an={calendar:D,longDateFormat:G,invalidDate:Y,ordinal:Q,dayOfMonthOrdinalParse:X,relativeTime:$,months:et,monthsShort:tt,week:Tt,weekdays:Dt,weekdaysMin:Mt,weekdaysShort:Rt,meridiemParse:nn},ln={},cn={};function un(e,t){var n,r=Math.min(e.length,t.length);for(n=0;n<r;n+=1)if(e[n]!==t[n])return n;return r}function dn(e){return e?e.toLowerCase().replace("_","-"):e}function hn(e){for(var t,n,r,i,s=0;s<e.length;){for(t=(i=dn(e[s]).split("-")).length,n=(n=dn(e[s+1]))?n.split("-"):null;t>0;){if(r=pn(i.slice(0,t).join("-")))return r;if(n&&n.length>=t&&un(i,n)>=t-1)break;t--}s++}return on}function fn(e){return null!=e.match("^[^/\\\\]*$")}function pn(t){var n=null;if(void 0===ln[t]&&e&&e.exports&&fn(t))try{n=on._abbr,Object(function(){var e=new Error("Cannot find module 'undefined'");throw e.code="MODULE_NOT_FOUND",e}()),mn(n)}catch(r){ln[t]=null}return ln[t]}function mn(e,t){var n;return e&&((n=c(t)?vn(e):gn(e,t))?on=n:"undefined"!==typeof console&&console.warn&&console.warn("Locale "+e+" not found. Did you forget to load it?")),on._abbr}function gn(e,t){if(null!==t){var n,r=an;if(t.abbr=e,null!=ln[e])C("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),r=ln[e]._config;else if(null!=t.parentLocale)if(null!=ln[t.parentLocale])r=ln[t.parentLocale]._config;else{if(null==(n=pn(t.parentLocale)))return cn[t.parentLocale]||(cn[t.parentLocale]=[]),cn[t.parentLocale].push({name:e,config:t}),null;r=n._config}return ln[e]=new P(O(r,t)),cn[e]&&cn[e].forEach((function(e){gn(e.name,e.config)})),mn(e),ln[e]}return delete ln[e],null}function yn(e,t){if(null!=t){var n,r,i=an;null!=ln[e]&&null!=ln[e].parentLocale?ln[e].set(O(ln[e]._config,t)):(null!=(r=pn(e))&&(i=r._config),t=O(i,t),null==r&&(t.abbr=e),(n=new P(t)).parentLocale=ln[e],ln[e]=n),mn(e)}else null!=ln[e]&&(null!=ln[e].parentLocale?(ln[e]=ln[e].parentLocale,e===mn()&&mn(e)):null!=ln[e]&&delete ln[e]);return ln[e]}function vn(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return on;if(!s(e)){if(t=pn(e))return t;e=[e]}return hn(e)}function wn(){return k(ln)}function bn(e){var t,n=e._a;return n&&-2===g(e).overflow&&(t=n[We]<0||n[We]>11?We:n[Ge]<1||n[Ge]>Ze(n[qe],n[We])?Ge:n[He]<0||n[He]>24||24===n[He]&&(0!==n[Ye]||0!==n[Ke]||0!==n[Qe])?He:n[Ye]<0||n[Ye]>59?Ye:n[Ke]<0||n[Ke]>59?Ke:n[Qe]<0||n[Qe]>999?Qe:-1,g(e)._overflowDayOfYear&&(t<qe||t>Ge)&&(t=Ge),g(e)._overflowWeeks&&-1===t&&(t=Xe),g(e)._overflowWeekday&&-1===t&&(t=Je),g(e).overflow=t),e}var _n=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Sn=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,En=/Z|[+-]\d\d(?::?\d\d)?/,xn=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],Tn=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],kn=/^\/?Date\((-?\d+)/i,In=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,Cn={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function Nn(e){var t,n,r,i,s,o,a=e._i,l=_n.exec(a)||Sn.exec(a),c=xn.length,u=Tn.length;if(l){for(g(e).iso=!0,t=0,n=c;t<n;t++)if(xn[t][1].exec(l[1])){i=xn[t][0],r=!1!==xn[t][2];break}if(null==i)return void(e._isValid=!1);if(l[3]){for(t=0,n=u;t<n;t++)if(Tn[t][1].exec(l[3])){s=(l[2]||" ")+Tn[t][0];break}if(null==s)return void(e._isValid=!1)}if(!r&&null!=s)return void(e._isValid=!1);if(l[4]){if(!En.exec(l[4]))return void(e._isValid=!1);o="Z"}e._f=i+(s||"")+(o||""),zn(e)}else e._isValid=!1}function An(e,t,n,r,i,s){var o=[On(e),tt.indexOf(t),parseInt(n,10),parseInt(r,10),parseInt(i,10)];return s&&o.push(parseInt(s,10)),o}function On(e){var t=parseInt(e,10);return t<=49?2e3+t:t<=999?1900+t:t}function Pn(e){return e.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function Dn(e,t,n){return!e||Rt.indexOf(e)===new Date(t[0],t[1],t[2]).getDay()||(g(n).weekdayMismatch=!0,n._isValid=!1,!1)}function Rn(e,t,n){if(e)return Cn[e];if(t)return 0;var r=parseInt(n,10),i=r%100;return(r-i)/100*60+i}function Mn(e){var t,n=In.exec(Pn(e._i));if(n){if(t=An(n[4],n[3],n[2],n[5],n[6],n[7]),!Dn(n[1],t,e))return;e._a=t,e._tzm=Rn(n[8],n[9],n[10]),e._d=wt.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),g(e).rfc2822=!0}else e._isValid=!1}function Ln(e){var t=kn.exec(e._i);null===t?(Nn(e),!1===e._isValid&&(delete e._isValid,Mn(e),!1===e._isValid&&(delete e._isValid,e._strict?e._isValid=!1:r.createFromInputFallback(e)))):e._d=new Date(+t[1])}function jn(e,t,n){return null!=e?e:null!=t?t:n}function Fn(e){var t=new Date(r.now());return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}function Un(e){var t,n,r,i,s,o=[];if(!e._d){for(r=Fn(e),e._w&&null==e._a[Ge]&&null==e._a[We]&&Vn(e),null!=e._dayOfYear&&(s=jn(e._a[qe],r[qe]),(e._dayOfYear>mt(s)||0===e._dayOfYear)&&(g(e)._overflowDayOfYear=!0),n=wt(s,0,e._dayOfYear),e._a[We]=n.getUTCMonth(),e._a[Ge]=n.getUTCDate()),t=0;t<3&&null==e._a[t];++t)e._a[t]=o[t]=r[t];for(;t<7;t++)e._a[t]=o[t]=null==e._a[t]?2===t?1:0:e._a[t];24===e._a[He]&&0===e._a[Ye]&&0===e._a[Ke]&&0===e._a[Qe]&&(e._nextDay=!0,e._a[He]=0),e._d=(e._useUTC?wt:vt).apply(null,o),i=e._useUTC?e._d.getUTCDay():e._d.getDay(),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[He]=24),e._w&&"undefined"!==typeof e._w.d&&e._w.d!==i&&(g(e).weekdayMismatch=!0)}}function Vn(e){var t,n,r,i,s,o,a,l,c;null!=(t=e._w).GG||null!=t.W||null!=t.E?(s=1,o=4,n=jn(t.GG,e._a[qe],St(Qn(),1,4).year),r=jn(t.W,1),((i=jn(t.E,1))<1||i>7)&&(l=!0)):(s=e._locale._week.dow,o=e._locale._week.doy,c=St(Qn(),s,o),n=jn(t.gg,e._a[qe],c.year),r=jn(t.w,c.week),null!=t.d?((i=t.d)<0||i>6)&&(l=!0):null!=t.e?(i=t.e+s,(t.e<0||t.e>6)&&(l=!0)):i=s),r<1||r>Et(n,s,o)?g(e)._overflowWeeks=!0:null!=l?g(e)._overflowWeekday=!0:(a=_t(n,r,i,s,o),e._a[qe]=a.year,e._dayOfYear=a.dayOfYear)}function zn(e){if(e._f!==r.ISO_8601)if(e._f!==r.RFC_2822){e._a=[],g(e).empty=!0;var t,n,i,s,o,a,l,c=""+e._i,u=c.length,d=0;for(l=(i=W(e._f,e._locale).match(L)||[]).length,t=0;t<l;t++)s=i[t],(n=(c.match(Me(s,e))||[])[0])&&((o=c.substr(0,c.indexOf(n))).length>0&&g(e).unusedInput.push(o),c=c.slice(c.indexOf(n)+n.length),d+=n.length),U[s]?(n?g(e).empty=!1:g(e).unusedTokens.push(s),ze(s,n,e)):e._strict&&!n&&g(e).unusedTokens.push(s);g(e).charsLeftOver=u-d,c.length>0&&g(e).unusedInput.push(c),e._a[He]<=12&&!0===g(e).bigHour&&e._a[He]>0&&(g(e).bigHour=void 0),g(e).parsedDateParts=e._a.slice(0),g(e).meridiem=e._meridiem,e._a[He]=Bn(e._locale,e._a[He],e._meridiem),null!==(a=g(e).era)&&(e._a[qe]=e._locale.erasConvertYear(a,e._a[qe])),Un(e),bn(e)}else Mn(e);else Nn(e)}function Bn(e,t,n){var r;return null==n?t:null!=e.meridiemHour?e.meridiemHour(t,n):null!=e.isPM?((r=e.isPM(n))&&t<12&&(t+=12),r||12!==t||(t=0),t):t}function qn(e){var t,n,r,i,s,o,a=!1,l=e._f.length;if(0===l)return g(e).invalidFormat=!0,void(e._d=new Date(NaN));for(i=0;i<l;i++)s=0,o=!1,t=_({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._f=e._f[i],zn(t),y(t)&&(o=!0),s+=g(t).charsLeftOver,s+=10*g(t).unusedTokens.length,g(t).score=s,a?s<r&&(r=s,n=t):(null==r||s<r||o)&&(r=s,n=t,o&&(a=!0));f(e,n||t)}function Wn(e){if(!e._d){var t=ie(e._i),n=void 0===t.day?t.date:t.day;e._a=h([t.year,t.month,n,t.hour,t.minute,t.second,t.millisecond],(function(e){return e&&parseInt(e,10)})),Un(e)}}function Gn(e){var t=new S(bn(Hn(e)));return t._nextDay&&(t.add(1,"d"),t._nextDay=void 0),t}function Hn(e){var t=e._i,n=e._f;return e._locale=e._locale||vn(e._l),null===t||void 0===n&&""===t?v({nullInput:!0}):("string"===typeof t&&(e._i=t=e._locale.preparse(t)),E(t)?new S(bn(t)):(d(t)?e._d=t:s(n)?qn(e):n?zn(e):Yn(e),y(e)||(e._d=null),e))}function Yn(e){var t=e._i;c(t)?e._d=new Date(r.now()):d(t)?e._d=new Date(t.valueOf()):"string"===typeof t?Ln(e):s(t)?(e._a=h(t.slice(0),(function(e){return parseInt(e,10)})),Un(e)):o(t)?Wn(e):u(t)?e._d=new Date(t):r.createFromInputFallback(e)}function Kn(e,t,n,r,i){var a={};return!0!==t&&!1!==t||(r=t,t=void 0),!0!==n&&!1!==n||(r=n,n=void 0),(o(e)&&l(e)||s(e)&&0===e.length)&&(e=void 0),a._isAMomentObject=!0,a._useUTC=a._isUTC=i,a._l=n,a._i=e,a._f=t,a._strict=r,Gn(a)}function Qn(e,t,n,r){return Kn(e,t,n,r,!1)}r.createFromInputFallback=T("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",(function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))})),r.ISO_8601=function(){},r.RFC_2822=function(){};var Xn=T("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var e=Qn.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:v()})),Jn=T("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var e=Qn.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:v()}));function $n(e,t){var n,r;if(1===t.length&&s(t[0])&&(t=t[0]),!t.length)return Qn();for(n=t[0],r=1;r<t.length;++r)t[r].isValid()&&!t[r][e](n)||(n=t[r]);return n}function Zn(){return $n("isBefore",[].slice.call(arguments,0))}function er(){return $n("isAfter",[].slice.call(arguments,0))}var tr=function(){return Date.now?Date.now():+new Date},nr=["year","quarter","month","week","day","hour","minute","second","millisecond"];function rr(e){var t,n,r=!1,i=nr.length;for(t in e)if(a(e,t)&&(-1===Be.call(nr,t)||null!=e[t]&&isNaN(e[t])))return!1;for(n=0;n<i;++n)if(e[nr[n]]){if(r)return!1;parseFloat(e[nr[n]])!==ue(e[nr[n]])&&(r=!0)}return!0}function ir(){return this._isValid}function sr(){return Cr(NaN)}function or(e){var t=ie(e),n=t.year||0,r=t.quarter||0,i=t.month||0,s=t.week||t.isoWeek||0,o=t.day||0,a=t.hour||0,l=t.minute||0,c=t.second||0,u=t.millisecond||0;this._isValid=rr(t),this._milliseconds=+u+1e3*c+6e4*l+1e3*a*60*60,this._days=+o+7*s,this._months=+i+3*r+12*n,this._data={},this._locale=vn(),this._bubble()}function ar(e){return e instanceof or}function lr(e){return e<0?-1*Math.round(-1*e):Math.round(e)}function cr(e,t,n){var r,i=Math.min(e.length,t.length),s=Math.abs(e.length-t.length),o=0;for(r=0;r<i;r++)(n&&e[r]!==t[r]||!n&&ue(e[r])!==ue(t[r]))&&o++;return o+s}function ur(e,t){V(e,0,0,(function(){var e=this.utcOffset(),n="+";return e<0&&(e=-e,n="-"),n+M(~~(e/60),2)+t+M(~~e%60,2)}))}ur("Z",":"),ur("ZZ",""),Re("Z",Oe),Re("ZZ",Oe),Ue(["Z","ZZ"],(function(e,t,n){n._useUTC=!0,n._tzm=hr(Oe,e)}));var dr=/([\+\-]|\d\d)/gi;function hr(e,t){var n,r,i=(t||"").match(e);return null===i?null:0===(r=60*(n=((i[i.length-1]||[])+"").match(dr)||["-",0,0])[1]+ue(n[2]))?0:"+"===n[0]?r:-r}function fr(e,t){var n,i;return t._isUTC?(n=t.clone(),i=(E(e)||d(e)?e.valueOf():Qn(e).valueOf())-n.valueOf(),n._d.setTime(n._d.valueOf()+i),r.updateOffset(n,!1),n):Qn(e).local()}function pr(e){return-Math.round(e._d.getTimezoneOffset())}function mr(e,t,n){var i,s=this._offset||0;if(!this.isValid())return null!=e?this:NaN;if(null!=e){if("string"===typeof e){if(null===(e=hr(Oe,e)))return this}else Math.abs(e)<16&&!n&&(e*=60);return!this._isUTC&&t&&(i=pr(this)),this._offset=e,this._isUTC=!0,null!=i&&this.add(i,"m"),s!==e&&(!t||this._changeInProgress?Dr(this,Cr(e-s,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,r.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?s:pr(this)}function gr(e,t){return null!=e?("string"!==typeof e&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}function yr(e){return this.utcOffset(0,e)}function vr(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(pr(this),"m")),this}function wr(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"===typeof this._i){var e=hr(Ae,this._i);null!=e?this.utcOffset(e):this.utcOffset(0,!0)}return this}function br(e){return!!this.isValid()&&(e=e?Qn(e).utcOffset():0,(this.utcOffset()-e)%60===0)}function _r(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function Sr(){if(!c(this._isDSTShifted))return this._isDSTShifted;var e,t={};return _(t,this),(t=Hn(t))._a?(e=t._isUTC?p(t._a):Qn(t._a),this._isDSTShifted=this.isValid()&&cr(t._a,e.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function Er(){return!!this.isValid()&&!this._isUTC}function xr(){return!!this.isValid()&&this._isUTC}function Tr(){return!!this.isValid()&&this._isUTC&&0===this._offset}r.updateOffset=function(){};var kr=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,Ir=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Cr(e,t){var n,r,i,s=e,o=null;return ar(e)?s={ms:e._milliseconds,d:e._days,M:e._months}:u(e)||!isNaN(+e)?(s={},t?s[t]=+e:s.milliseconds=+e):(o=kr.exec(e))?(n="-"===o[1]?-1:1,s={y:0,d:ue(o[Ge])*n,h:ue(o[He])*n,m:ue(o[Ye])*n,s:ue(o[Ke])*n,ms:ue(lr(1e3*o[Qe]))*n}):(o=Ir.exec(e))?(n="-"===o[1]?-1:1,s={y:Nr(o[2],n),M:Nr(o[3],n),w:Nr(o[4],n),d:Nr(o[5],n),h:Nr(o[6],n),m:Nr(o[7],n),s:Nr(o[8],n)}):null==s?s={}:"object"===typeof s&&("from"in s||"to"in s)&&(i=Or(Qn(s.from),Qn(s.to)),(s={}).ms=i.milliseconds,s.M=i.months),r=new or(s),ar(e)&&a(e,"_locale")&&(r._locale=e._locale),ar(e)&&a(e,"_isValid")&&(r._isValid=e._isValid),r}function Nr(e,t){var n=e&&parseFloat(e.replace(",","."));return(isNaN(n)?0:n)*t}function Ar(e,t){var n={};return n.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(n.months,"M").isAfter(t)&&--n.months,n.milliseconds=+t-+e.clone().add(n.months,"M"),n}function Or(e,t){var n;return e.isValid()&&t.isValid()?(t=fr(t,e),e.isBefore(t)?n=Ar(e,t):((n=Ar(t,e)).milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}function Pr(e,t){return function(n,r){var i;return null===r||isNaN(+r)||(C(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),i=n,n=r,r=i),Dr(this,Cr(n,r),e),this}}function Dr(e,t,n,i){var s=t._milliseconds,o=lr(t._days),a=lr(t._months);e.isValid()&&(i=null==i||i,a&&ct(e,he(e,"Month")+a*n),o&&fe(e,"Date",he(e,"Date")+o*n),s&&e._d.setTime(e._d.valueOf()+s*n),i&&r.updateOffset(e,o||a))}Cr.fn=or.prototype,Cr.invalid=sr;var Rr=Pr(1,"add"),Mr=Pr(-1,"subtract");function Lr(e){return"string"===typeof e||e instanceof String}function jr(e){return E(e)||d(e)||Lr(e)||u(e)||Ur(e)||Fr(e)||null===e||void 0===e}function Fr(e){var t,n,r=o(e)&&!l(e),i=!1,s=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],c=s.length;for(t=0;t<c;t+=1)n=s[t],i=i||a(e,n);return r&&i}function Ur(e){var t=s(e),n=!1;return t&&(n=0===e.filter((function(t){return!u(t)&&Lr(e)})).length),t&&n}function Vr(e){var t,n,r=o(e)&&!l(e),i=!1,s=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"];for(t=0;t<s.length;t+=1)n=s[t],i=i||a(e,n);return r&&i}function zr(e,t){var n=e.diff(t,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"}function Br(e,t){1===arguments.length&&(arguments[0]?jr(arguments[0])?(e=arguments[0],t=void 0):Vr(arguments[0])&&(t=arguments[0],e=void 0):(e=void 0,t=void 0));var n=e||Qn(),i=fr(n,this).startOf("day"),s=r.calendarFormat(this,i)||"sameElse",o=t&&(N(t[s])?t[s].call(this,n):t[s]);return this.format(o||this.localeData().calendar(s,this,Qn(n)))}function qr(){return new S(this)}function Wr(e,t){var n=E(e)?e:Qn(e);return!(!this.isValid()||!n.isValid())&&("millisecond"===(t=re(t)||"millisecond")?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(t).valueOf())}function Gr(e,t){var n=E(e)?e:Qn(e);return!(!this.isValid()||!n.isValid())&&("millisecond"===(t=re(t)||"millisecond")?this.valueOf()<n.valueOf():this.clone().endOf(t).valueOf()<n.valueOf())}function Hr(e,t,n,r){var i=E(e)?e:Qn(e),s=E(t)?t:Qn(t);return!!(this.isValid()&&i.isValid()&&s.isValid())&&("("===(r=r||"()")[0]?this.isAfter(i,n):!this.isBefore(i,n))&&(")"===r[1]?this.isBefore(s,n):!this.isAfter(s,n))}function Yr(e,t){var n,r=E(e)?e:Qn(e);return!(!this.isValid()||!r.isValid())&&("millisecond"===(t=re(t)||"millisecond")?this.valueOf()===r.valueOf():(n=r.valueOf(),this.clone().startOf(t).valueOf()<=n&&n<=this.clone().endOf(t).valueOf()))}function Kr(e,t){return this.isSame(e,t)||this.isAfter(e,t)}function Qr(e,t){return this.isSame(e,t)||this.isBefore(e,t)}function Xr(e,t,n){var r,i,s;if(!this.isValid())return NaN;if(!(r=fr(e,this)).isValid())return NaN;switch(i=6e4*(r.utcOffset()-this.utcOffset()),t=re(t)){case"year":s=Jr(this,r)/12;break;case"month":s=Jr(this,r);break;case"quarter":s=Jr(this,r)/3;break;case"second":s=(this-r)/1e3;break;case"minute":s=(this-r)/6e4;break;case"hour":s=(this-r)/36e5;break;case"day":s=(this-r-i)/864e5;break;case"week":s=(this-r-i)/6048e5;break;default:s=this-r}return n?s:ce(s)}function Jr(e,t){if(e.date()<t.date())return-Jr(t,e);var n=12*(t.year()-e.year())+(t.month()-e.month()),r=e.clone().add(n,"months");return-(n+(t-r<0?(t-r)/(r-e.clone().add(n-1,"months")):(t-r)/(e.clone().add(n+1,"months")-r)))||0}function $r(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function Zr(e){if(!this.isValid())return null;var t=!0!==e,n=t?this.clone().utc():this;return n.year()<0||n.year()>9999?q(n,t?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):N(Date.prototype.toISOString)?t?this.toDate().toISOString():new Date(this.valueOf()+60*this.utcOffset()*1e3).toISOString().replace("Z",q(n,"Z")):q(n,t?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function ei(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e,t,n,r,i="moment",s="";return this.isLocal()||(i=0===this.utcOffset()?"moment.utc":"moment.parseZone",s="Z"),e="["+i+'("]',t=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",n="-MM-DD[T]HH:mm:ss.SSS",r=s+'[")]',this.format(e+t+n+r)}function ti(e){e||(e=this.isUtc()?r.defaultFormatUtc:r.defaultFormat);var t=q(this,e);return this.localeData().postformat(t)}function ni(e,t){return this.isValid()&&(E(e)&&e.isValid()||Qn(e).isValid())?Cr({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function ri(e){return this.from(Qn(),e)}function ii(e,t){return this.isValid()&&(E(e)&&e.isValid()||Qn(e).isValid())?Cr({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function si(e){return this.to(Qn(),e)}function oi(e){var t;return void 0===e?this._locale._abbr:(null!=(t=vn(e))&&(this._locale=t),this)}r.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",r.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var ai=T("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",(function(e){return void 0===e?this.localeData():this.locale(e)}));function li(){return this._locale}var ci=1e3,ui=60*ci,di=60*ui,hi=3506328*di;function fi(e,t){return(e%t+t)%t}function pi(e,t,n){return e<100&&e>=0?new Date(e+400,t,n)-hi:new Date(e,t,n).valueOf()}function mi(e,t,n){return e<100&&e>=0?Date.UTC(e+400,t,n)-hi:Date.UTC(e,t,n)}function gi(e){var t,n;if(void 0===(e=re(e))||"millisecond"===e||!this.isValid())return this;switch(n=this._isUTC?mi:pi,e){case"year":t=n(this.year(),0,1);break;case"quarter":t=n(this.year(),this.month()-this.month()%3,1);break;case"month":t=n(this.year(),this.month(),1);break;case"week":t=n(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":t=n(this.year(),this.month(),this.date());break;case"hour":t=this._d.valueOf(),t-=fi(t+(this._isUTC?0:this.utcOffset()*ui),di);break;case"minute":t=this._d.valueOf(),t-=fi(t,ui);break;case"second":t=this._d.valueOf(),t-=fi(t,ci)}return this._d.setTime(t),r.updateOffset(this,!0),this}function yi(e){var t,n;if(void 0===(e=re(e))||"millisecond"===e||!this.isValid())return this;switch(n=this._isUTC?mi:pi,e){case"year":t=n(this.year()+1,0,1)-1;break;case"quarter":t=n(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":t=n(this.year(),this.month()+1,1)-1;break;case"week":t=n(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":t=n(this.year(),this.month(),this.date()+1)-1;break;case"hour":t=this._d.valueOf(),t+=di-fi(t+(this._isUTC?0:this.utcOffset()*ui),di)-1;break;case"minute":t=this._d.valueOf(),t+=ui-fi(t,ui)-1;break;case"second":t=this._d.valueOf(),t+=ci-fi(t,ci)-1}return this._d.setTime(t),r.updateOffset(this,!0),this}function vi(){return this._d.valueOf()-6e4*(this._offset||0)}function wi(){return Math.floor(this.valueOf()/1e3)}function bi(){return new Date(this.valueOf())}function _i(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]}function Si(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}}function Ei(){return this.isValid()?this.toISOString():null}function xi(){return y(this)}function Ti(){return f({},g(this))}function ki(){return g(this).overflow}function Ii(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}function Ci(e,t){var n,i,s,o=this._eras||vn("en")._eras;for(n=0,i=o.length;n<i;++n)switch("string"===typeof o[n].since&&(s=r(o[n].since).startOf("day"),o[n].since=s.valueOf()),typeof o[n].until){case"undefined":o[n].until=1/0;break;case"string":s=r(o[n].until).startOf("day").valueOf(),o[n].until=s.valueOf()}return o}function Ni(e,t,n){var r,i,s,o,a,l=this.eras();for(e=e.toUpperCase(),r=0,i=l.length;r<i;++r)if(s=l[r].name.toUpperCase(),o=l[r].abbr.toUpperCase(),a=l[r].narrow.toUpperCase(),n)switch(t){case"N":case"NN":case"NNN":if(o===e)return l[r];break;case"NNNN":if(s===e)return l[r];break;case"NNNNN":if(a===e)return l[r]}else if([s,o,a].indexOf(e)>=0)return l[r]}function Ai(e,t){var n=e.since<=e.until?1:-1;return void 0===t?r(e.since).year():r(e.since).year()+(t-e.offset)*n}function Oi(){var e,t,n,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e){if(n=this.clone().startOf("day").valueOf(),r[e].since<=n&&n<=r[e].until)return r[e].name;if(r[e].until<=n&&n<=r[e].since)return r[e].name}return""}function Pi(){var e,t,n,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e){if(n=this.clone().startOf("day").valueOf(),r[e].since<=n&&n<=r[e].until)return r[e].narrow;if(r[e].until<=n&&n<=r[e].since)return r[e].narrow}return""}function Di(){var e,t,n,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e){if(n=this.clone().startOf("day").valueOf(),r[e].since<=n&&n<=r[e].until)return r[e].abbr;if(r[e].until<=n&&n<=r[e].since)return r[e].abbr}return""}function Ri(){var e,t,n,i,s=this.localeData().eras();for(e=0,t=s.length;e<t;++e)if(n=s[e].since<=s[e].until?1:-1,i=this.clone().startOf("day").valueOf(),s[e].since<=i&&i<=s[e].until||s[e].until<=i&&i<=s[e].since)return(this.year()-r(s[e].since).year())*n+s[e].offset;return this.year()}function Mi(e){return a(this,"_erasNameRegex")||Bi.call(this),e?this._erasNameRegex:this._erasRegex}function Li(e){return a(this,"_erasAbbrRegex")||Bi.call(this),e?this._erasAbbrRegex:this._erasRegex}function ji(e){return a(this,"_erasNarrowRegex")||Bi.call(this),e?this._erasNarrowRegex:this._erasRegex}function Fi(e,t){return t.erasAbbrRegex(e)}function Ui(e,t){return t.erasNameRegex(e)}function Vi(e,t){return t.erasNarrowRegex(e)}function zi(e,t){return t._eraYearOrdinalRegex||Ce}function Bi(){var e,t,n=[],r=[],i=[],s=[],o=this.eras();for(e=0,t=o.length;e<t;++e)r.push(je(o[e].name)),n.push(je(o[e].abbr)),i.push(je(o[e].narrow)),s.push(je(o[e].name)),s.push(je(o[e].abbr)),s.push(je(o[e].narrow));this._erasRegex=new RegExp("^("+s.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+r.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+n.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+i.join("|")+")","i")}function qi(e,t){V(0,[e,e.length],0,t)}function Wi(e){return Xi.call(this,e,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function Gi(e){return Xi.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)}function Hi(){return Et(this.year(),1,4)}function Yi(){return Et(this.isoWeekYear(),1,4)}function Ki(){var e=this.localeData()._week;return Et(this.year(),e.dow,e.doy)}function Qi(){var e=this.localeData()._week;return Et(this.weekYear(),e.dow,e.doy)}function Xi(e,t,n,r,i){var s;return null==e?St(this,r,i).year:(t>(s=Et(e,r,i))&&(t=s),Ji.call(this,e,t,n,r,i))}function Ji(e,t,n,r,i){var s=_t(e,t,n,r,i),o=wt(s.year,0,s.dayOfYear);return this.year(o.getUTCFullYear()),this.month(o.getUTCMonth()),this.date(o.getUTCDate()),this}function $i(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)}V("N",0,0,"eraAbbr"),V("NN",0,0,"eraAbbr"),V("NNN",0,0,"eraAbbr"),V("NNNN",0,0,"eraName"),V("NNNNN",0,0,"eraNarrow"),V("y",["y",1],"yo","eraYear"),V("y",["yy",2],0,"eraYear"),V("y",["yyy",3],0,"eraYear"),V("y",["yyyy",4],0,"eraYear"),Re("N",Fi),Re("NN",Fi),Re("NNN",Fi),Re("NNNN",Ui),Re("NNNNN",Vi),Ue(["N","NN","NNN","NNNN","NNNNN"],(function(e,t,n,r){var i=n._locale.erasParse(e,r,n._strict);i?g(n).era=i:g(n).invalidEra=e})),Re("y",Ce),Re("yy",Ce),Re("yyy",Ce),Re("yyyy",Ce),Re("yo",zi),Ue(["y","yy","yyy","yyyy"],qe),Ue(["yo"],(function(e,t,n,r){var i;n._locale._eraYearOrdinalRegex&&(i=e.match(n._locale._eraYearOrdinalRegex)),n._locale.eraYearOrdinalParse?t[qe]=n._locale.eraYearOrdinalParse(e,i):t[qe]=parseInt(e,10)})),V(0,["gg",2],0,(function(){return this.weekYear()%100})),V(0,["GG",2],0,(function(){return this.isoWeekYear()%100})),qi("gggg","weekYear"),qi("ggggg","weekYear"),qi("GGGG","isoWeekYear"),qi("GGGGG","isoWeekYear"),ne("weekYear","gg"),ne("isoWeekYear","GG"),oe("weekYear",1),oe("isoWeekYear",1),Re("G",Ne),Re("g",Ne),Re("GG",Se,ve),Re("gg",Se,ve),Re("GGGG",ke,be),Re("gggg",ke,be),Re("GGGGG",Ie,_e),Re("ggggg",Ie,_e),Ve(["gggg","ggggg","GGGG","GGGGG"],(function(e,t,n,r){t[r.substr(0,2)]=ue(e)})),Ve(["gg","GG"],(function(e,t,n,i){t[i]=r.parseTwoDigitYear(e)})),V("Q",0,"Qo","quarter"),ne("quarter","Q"),oe("quarter",7),Re("Q",ye),Ue("Q",(function(e,t){t[We]=3*(ue(e)-1)})),V("D",["DD",2],"Do","date"),ne("date","D"),oe("date",9),Re("D",Se),Re("DD",Se,ve),Re("Do",(function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient})),Ue(["D","DD"],Ge),Ue("Do",(function(e,t){t[Ge]=ue(e.match(Se)[0])}));var Zi=de("Date",!0);function es(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==e?t:this.add(e-t,"d")}V("DDD",["DDDD",3],"DDDo","dayOfYear"),ne("dayOfYear","DDD"),oe("dayOfYear",4),Re("DDD",Te),Re("DDDD",we),Ue(["DDD","DDDD"],(function(e,t,n){n._dayOfYear=ue(e)})),V("m",["mm",2],0,"minute"),ne("minute","m"),oe("minute",14),Re("m",Se),Re("mm",Se,ve),Ue(["m","mm"],Ye);var ts=de("Minutes",!1);V("s",["ss",2],0,"second"),ne("second","s"),oe("second",15),Re("s",Se),Re("ss",Se,ve),Ue(["s","ss"],Ke);var ns,rs,is=de("Seconds",!1);for(V("S",0,0,(function(){return~~(this.millisecond()/100)})),V(0,["SS",2],0,(function(){return~~(this.millisecond()/10)})),V(0,["SSS",3],0,"millisecond"),V(0,["SSSS",4],0,(function(){return 10*this.millisecond()})),V(0,["SSSSS",5],0,(function(){return 100*this.millisecond()})),V(0,["SSSSSS",6],0,(function(){return 1e3*this.millisecond()})),V(0,["SSSSSSS",7],0,(function(){return 1e4*this.millisecond()})),V(0,["SSSSSSSS",8],0,(function(){return 1e5*this.millisecond()})),V(0,["SSSSSSSSS",9],0,(function(){return 1e6*this.millisecond()})),ne("millisecond","ms"),oe("millisecond",16),Re("S",Te,ye),Re("SS",Te,ve),Re("SSS",Te,we),ns="SSSS";ns.length<=9;ns+="S")Re(ns,Ce);function ss(e,t){t[Qe]=ue(1e3*("0."+e))}for(ns="S";ns.length<=9;ns+="S")Ue(ns,ss);function os(){return this._isUTC?"UTC":""}function as(){return this._isUTC?"Coordinated Universal Time":""}rs=de("Milliseconds",!1),V("z",0,0,"zoneAbbr"),V("zz",0,0,"zoneName");var ls=S.prototype;function cs(e){return Qn(1e3*e)}function us(){return Qn.apply(null,arguments).parseZone()}function ds(e){return e}ls.add=Rr,ls.calendar=Br,ls.clone=qr,ls.diff=Xr,ls.endOf=yi,ls.format=ti,ls.from=ni,ls.fromNow=ri,ls.to=ii,ls.toNow=si,ls.get=pe,ls.invalidAt=ki,ls.isAfter=Wr,ls.isBefore=Gr,ls.isBetween=Hr,ls.isSame=Yr,ls.isSameOrAfter=Kr,ls.isSameOrBefore=Qr,ls.isValid=xi,ls.lang=ai,ls.locale=oi,ls.localeData=li,ls.max=Jn,ls.min=Xn,ls.parsingFlags=Ti,ls.set=me,ls.startOf=gi,ls.subtract=Mr,ls.toArray=_i,ls.toObject=Si,ls.toDate=bi,ls.toISOString=Zr,ls.inspect=ei,"undefined"!==typeof Symbol&&null!=Symbol.for&&(ls[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"}),ls.toJSON=Ei,ls.toString=$r,ls.unix=wi,ls.valueOf=vi,ls.creationData=Ii,ls.eraName=Oi,ls.eraNarrow=Pi,ls.eraAbbr=Di,ls.eraYear=Ri,ls.year=gt,ls.isLeapYear=yt,ls.weekYear=Wi,ls.isoWeekYear=Gi,ls.quarter=ls.quarters=$i,ls.month=ut,ls.daysInMonth=dt,ls.week=ls.weeks=Ct,ls.isoWeek=ls.isoWeeks=Nt,ls.weeksInYear=Ki,ls.weeksInWeekYear=Qi,ls.isoWeeksInYear=Hi,ls.isoWeeksInISOWeekYear=Yi,ls.date=Zi,ls.day=ls.days=Wt,ls.weekday=Gt,ls.isoWeekday=Ht,ls.dayOfYear=es,ls.hour=ls.hours=rn,ls.minute=ls.minutes=ts,ls.second=ls.seconds=is,ls.millisecond=ls.milliseconds=rs,ls.utcOffset=mr,ls.utc=yr,ls.local=vr,ls.parseZone=wr,ls.hasAlignedHourOffset=br,ls.isDST=_r,ls.isLocal=Er,ls.isUtcOffset=xr,ls.isUtc=Tr,ls.isUTC=Tr,ls.zoneAbbr=os,ls.zoneName=as,ls.dates=T("dates accessor is deprecated. Use date instead.",Zi),ls.months=T("months accessor is deprecated. Use month instead",ut),ls.years=T("years accessor is deprecated. Use year instead",gt),ls.zone=T("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",gr),ls.isDSTShifted=T("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",Sr);var hs=P.prototype;function fs(e,t,n,r){var i=vn(),s=p().set(r,t);return i[n](s,e)}function ps(e,t,n){if(u(e)&&(t=e,e=void 0),e=e||"",null!=t)return fs(e,t,n,"month");var r,i=[];for(r=0;r<12;r++)i[r]=fs(e,r,n,"month");return i}function ms(e,t,n,r){"boolean"===typeof e?(u(t)&&(n=t,t=void 0),t=t||""):(n=t=e,e=!1,u(t)&&(n=t,t=void 0),t=t||"");var i,s=vn(),o=e?s._week.dow:0,a=[];if(null!=n)return fs(t,(n+o)%7,r,"day");for(i=0;i<7;i++)a[i]=fs(t,(i+o)%7,r,"day");return a}function gs(e,t){return ps(e,t,"months")}function ys(e,t){return ps(e,t,"monthsShort")}function vs(e,t,n){return ms(e,t,n,"weekdays")}function ws(e,t,n){return ms(e,t,n,"weekdaysShort")}function bs(e,t,n){return ms(e,t,n,"weekdaysMin")}hs.calendar=R,hs.longDateFormat=H,hs.invalidDate=K,hs.ordinal=J,hs.preparse=ds,hs.postformat=ds,hs.relativeTime=Z,hs.pastFuture=ee,hs.set=A,hs.eras=Ci,hs.erasParse=Ni,hs.erasConvertYear=Ai,hs.erasAbbrRegex=Li,hs.erasNameRegex=Mi,hs.erasNarrowRegex=ji,hs.months=st,hs.monthsShort=ot,hs.monthsParse=lt,hs.monthsRegex=ft,hs.monthsShortRegex=ht,hs.week=xt,hs.firstDayOfYear=It,hs.firstDayOfWeek=kt,hs.weekdays=Ut,hs.weekdaysMin=zt,hs.weekdaysShort=Vt,hs.weekdaysParse=qt,hs.weekdaysRegex=Yt,hs.weekdaysShortRegex=Kt,hs.weekdaysMinRegex=Qt,hs.isPM=tn,hs.meridiem=sn,mn("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10;return e+(1===ue(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")}}),r.lang=T("moment.lang is deprecated. Use moment.locale instead.",mn),r.langData=T("moment.langData is deprecated. Use moment.localeData instead.",vn);var _s=Math.abs;function Ss(){var e=this._data;return this._milliseconds=_s(this._milliseconds),this._days=_s(this._days),this._months=_s(this._months),e.milliseconds=_s(e.milliseconds),e.seconds=_s(e.seconds),e.minutes=_s(e.minutes),e.hours=_s(e.hours),e.months=_s(e.months),e.years=_s(e.years),this}function Es(e,t,n,r){var i=Cr(t,n);return e._milliseconds+=r*i._milliseconds,e._days+=r*i._days,e._months+=r*i._months,e._bubble()}function xs(e,t){return Es(this,e,t,1)}function Ts(e,t){return Es(this,e,t,-1)}function ks(e){return e<0?Math.floor(e):Math.ceil(e)}function Is(){var e,t,n,r,i,s=this._milliseconds,o=this._days,a=this._months,l=this._data;return s>=0&&o>=0&&a>=0||s<=0&&o<=0&&a<=0||(s+=864e5*ks(Ns(a)+o),o=0,a=0),l.milliseconds=s%1e3,e=ce(s/1e3),l.seconds=e%60,t=ce(e/60),l.minutes=t%60,n=ce(t/60),l.hours=n%24,o+=ce(n/24),a+=i=ce(Cs(o)),o-=ks(Ns(i)),r=ce(a/12),a%=12,l.days=o,l.months=a,l.years=r,this}function Cs(e){return 4800*e/146097}function Ns(e){return 146097*e/4800}function As(e){if(!this.isValid())return NaN;var t,n,r=this._milliseconds;if("month"===(e=re(e))||"quarter"===e||"year"===e)switch(t=this._days+r/864e5,n=this._months+Cs(t),e){case"month":return n;case"quarter":return n/3;case"year":return n/12}else switch(t=this._days+Math.round(Ns(this._months)),e){case"week":return t/7+r/6048e5;case"day":return t+r/864e5;case"hour":return 24*t+r/36e5;case"minute":return 1440*t+r/6e4;case"second":return 86400*t+r/1e3;case"millisecond":return Math.floor(864e5*t)+r;default:throw new Error("Unknown unit "+e)}}function Os(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*ue(this._months/12):NaN}function Ps(e){return function(){return this.as(e)}}var Ds=Ps("ms"),Rs=Ps("s"),Ms=Ps("m"),Ls=Ps("h"),js=Ps("d"),Fs=Ps("w"),Us=Ps("M"),Vs=Ps("Q"),zs=Ps("y");function Bs(){return Cr(this)}function qs(e){return e=re(e),this.isValid()?this[e+"s"]():NaN}function Ws(e){return function(){return this.isValid()?this._data[e]:NaN}}var Gs=Ws("milliseconds"),Hs=Ws("seconds"),Ys=Ws("minutes"),Ks=Ws("hours"),Qs=Ws("days"),Xs=Ws("months"),Js=Ws("years");function $s(){return ce(this.days()/7)}var Zs=Math.round,eo={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function to(e,t,n,r,i){return i.relativeTime(t||1,!!n,e,r)}function no(e,t,n,r){var i=Cr(e).abs(),s=Zs(i.as("s")),o=Zs(i.as("m")),a=Zs(i.as("h")),l=Zs(i.as("d")),c=Zs(i.as("M")),u=Zs(i.as("w")),d=Zs(i.as("y")),h=s<=n.ss&&["s",s]||s<n.s&&["ss",s]||o<=1&&["m"]||o<n.m&&["mm",o]||a<=1&&["h"]||a<n.h&&["hh",a]||l<=1&&["d"]||l<n.d&&["dd",l];return null!=n.w&&(h=h||u<=1&&["w"]||u<n.w&&["ww",u]),(h=h||c<=1&&["M"]||c<n.M&&["MM",c]||d<=1&&["y"]||["yy",d])[2]=t,h[3]=+e>0,h[4]=r,to.apply(null,h)}function ro(e){return void 0===e?Zs:"function"===typeof e&&(Zs=e,!0)}function io(e,t){return void 0!==eo[e]&&(void 0===t?eo[e]:(eo[e]=t,"s"===e&&(eo.ss=t-1),!0))}function so(e,t){if(!this.isValid())return this.localeData().invalidDate();var n,r,i=!1,s=eo;return"object"===typeof e&&(t=e,e=!1),"boolean"===typeof e&&(i=e),"object"===typeof t&&(s=Object.assign({},eo,t),null!=t.s&&null==t.ss&&(s.ss=t.s-1)),r=no(this,!i,s,n=this.localeData()),i&&(r=n.pastFuture(+this,r)),n.postformat(r)}var oo=Math.abs;function ao(e){return(e>0)-(e<0)||+e}function lo(){if(!this.isValid())return this.localeData().invalidDate();var e,t,n,r,i,s,o,a,l=oo(this._milliseconds)/1e3,c=oo(this._days),u=oo(this._months),d=this.asSeconds();return d?(e=ce(l/60),t=ce(e/60),l%=60,e%=60,n=ce(u/12),u%=12,r=l?l.toFixed(3).replace(/\.?0+$/,""):"",i=d<0?"-":"",s=ao(this._months)!==ao(d)?"-":"",o=ao(this._days)!==ao(d)?"-":"",a=ao(this._milliseconds)!==ao(d)?"-":"",i+"P"+(n?s+n+"Y":"")+(u?s+u+"M":"")+(c?o+c+"D":"")+(t||e||l?"T":"")+(t?a+t+"H":"")+(e?a+e+"M":"")+(l?a+r+"S":"")):"P0D"}var co=or.prototype;return co.isValid=ir,co.abs=Ss,co.add=xs,co.subtract=Ts,co.as=As,co.asMilliseconds=Ds,co.asSeconds=Rs,co.asMinutes=Ms,co.asHours=Ls,co.asDays=js,co.asWeeks=Fs,co.asMonths=Us,co.asQuarters=Vs,co.asYears=zs,co.valueOf=Os,co._bubble=Is,co.clone=Bs,co.get=qs,co.milliseconds=Gs,co.seconds=Hs,co.minutes=Ys,co.hours=Ks,co.days=Qs,co.weeks=$s,co.months=Xs,co.years=Js,co.humanize=so,co.toISOString=lo,co.toString=lo,co.toJSON=lo,co.locale=oi,co.localeData=li,co.toIsoString=T("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",lo),co.lang=ai,V("X",0,0,"unix"),V("x",0,0,"valueOf"),Re("x",Ne),Re("X",Pe),Ue("X",(function(e,t,n){n._d=new Date(1e3*parseFloat(e))})),Ue("x",(function(e,t,n){n._d=new Date(ue(e))})),r.version="2.29.4",i(Qn),r.fn=ls,r.min=Zn,r.max=er,r.now=tr,r.utc=p,r.unix=cs,r.months=gs,r.isDate=d,r.locale=mn,r.invalid=v,r.duration=Cr,r.isMoment=E,r.weekdays=vs,r.parseZone=us,r.localeData=vn,r.isDuration=ar,r.monthsShort=ys,r.weekdaysMin=bs,r.defineLocale=gn,r.updateLocale=yn,r.locales=wn,r.weekdaysShort=ws,r.normalizeUnits=re,r.relativeTimeRounding=ro,r.relativeTimeThreshold=io,r.calendarFormat=zr,r.prototype=ls,r.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},r}()},463:(e,t,n)=>{"use strict";var r=n(791),i=n(296);function s(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,a={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(a[e]=t,e=0;e<t.length;e++)o.add(t[e])}var u=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},p={};function m(e,t,n,r,i,s,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=o}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){g[e]=new m(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];g[t]=new m(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){g[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){g[e]=new m(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){g[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){g[e]=new m(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){g[e]=new m(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){g[e]=new m(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){g[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function v(e){return e[1].toUpperCase()}function w(e,t,n,r){var i=g.hasOwnProperty(t)?g[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!d.call(p,e)||!d.call(f,e)&&(h.test(e)?p[e]=!0:(f[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,v);g[t]=new m(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,v);g[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,v);g[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)})),g.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)}));var b=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,_=Symbol.for("react.element"),S=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),x=Symbol.for("react.strict_mode"),T=Symbol.for("react.profiler"),k=Symbol.for("react.provider"),I=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),A=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),P=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var D=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var R=Symbol.iterator;function M(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=R&&e[R]||e["@@iterator"])?e:null}var L,j=Object.assign;function F(e){if(void 0===L)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);L=t&&t[1]||""}return"\n"+L+e}var U=!1;function V(e,t){if(!e||U)return"";U=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),s=r.stack.split("\n"),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(1!==o||1!==a)do{if(o--,0>--a||i[o]!==s[a]){var l="\n"+i[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=o&&0<=a);break}}}finally{U=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?F(e):""}function z(e){switch(e.tag){case 5:return F(e.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return e=V(e.type,!1);case 11:return e=V(e.type.render,!1);case 1:return e=V(e.type,!0);default:return""}}function B(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case E:return"Fragment";case S:return"Portal";case T:return"Profiler";case x:return"StrictMode";case N:return"Suspense";case A:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case I:return(e.displayName||"Context")+".Consumer";case k:return(e._context.displayName||"Context")+".Provider";case C:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case O:return null!==(t=e.displayName||null)?t:B(e.type)||"Memo";case P:t=e._payload,e=e._init;try{return B(e(t))}catch(n){}}return null}function q(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return B(t);case 8:return t===x?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function W(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function G(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function H(e){e._valueTracker||(e._valueTracker=function(e){var t=G(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,s.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function Y(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=G(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function K(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Q(e,t){var n=t.checked;return j({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function X(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=W(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function J(e,t){null!=(t=t.checked)&&w(e,"checked",t,!1)}function $(e,t){J(e,t);var n=W(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,W(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&K(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+W(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(s(91));return j({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(s(92));if(te(n)){if(1<n.length)throw Error(s(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:W(n)}}function se(e,t){var n=W(t.value),r=W(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ae(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ae(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,ue,de=(ue=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ue(e,t)}))}:ue);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var fe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function me(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||fe.hasOwnProperty(e)&&fe[e]?(""+t).trim():t+"px"}function ge(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=me(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(fe).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),fe[t]=fe[e]}))}));var ye=j({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ve(e,t){if(t){if(ye[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(s(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(s(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(s(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(s(62))}}function we(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var be=null;function _e(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Se=null,Ee=null,xe=null;function Te(e){if(e=wi(e)){if("function"!==typeof Se)throw Error(s(280));var t=e.stateNode;t&&(t=_i(t),Se(e.stateNode,e.type,t))}}function ke(e){Ee?xe?xe.push(e):xe=[e]:Ee=e}function Ie(){if(Ee){var e=Ee,t=xe;if(xe=Ee=null,Te(e),t)for(e=0;e<t.length;e++)Te(t[e])}}function Ce(e,t){return e(t)}function Ne(){}var Ae=!1;function Oe(e,t,n){if(Ae)return e(t,n);Ae=!0;try{return Ce(e,t,n)}finally{Ae=!1,(null!==Ee||null!==xe)&&(Ne(),Ie())}}function Pe(e,t){var n=e.stateNode;if(null===n)return null;var r=_i(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(s(231,t,typeof n));return n}var De=!1;if(u)try{var Re={};Object.defineProperty(Re,"passive",{get:function(){De=!0}}),window.addEventListener("test",Re,Re),window.removeEventListener("test",Re,Re)}catch(ue){De=!1}function Me(e,t,n,r,i,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var Le=!1,je=null,Fe=!1,Ue=null,Ve={onError:function(e){Le=!0,je=e}};function ze(e,t,n,r,i,s,o,a,l){Le=!1,je=null,Me.apply(Ve,arguments)}function Be(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function qe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function We(e){if(Be(e)!==e)throw Error(s(188))}function Ge(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Be(e)))throw Error(s(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return We(i),e;if(o===r)return We(i),t;o=o.sibling}throw Error(s(188))}if(n.return!==r.return)n=i,r=o;else{for(var a=!1,l=i.child;l;){if(l===n){a=!0,n=i,r=o;break}if(l===r){a=!0,r=i,n=o;break}l=l.sibling}if(!a){for(l=o.child;l;){if(l===n){a=!0,n=o,r=i;break}if(l===r){a=!0,r=o,n=i;break}l=l.sibling}if(!a)throw Error(s(189))}}if(n.alternate!==r)throw Error(s(190))}if(3!==n.tag)throw Error(s(188));return n.stateNode.current===n?e:t}(e))?He(e):null}function He(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=He(e);if(null!==t)return t;e=e.sibling}return null}var Ye=i.unstable_scheduleCallback,Ke=i.unstable_cancelCallback,Qe=i.unstable_shouldYield,Xe=i.unstable_requestPaint,Je=i.unstable_now,$e=i.unstable_getCurrentPriorityLevel,Ze=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,st=null;var ot=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(at(e)/lt|0)|0},at=Math.log,lt=Math.LN2;var ct=64,ut=4194304;function dt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,s=e.pingedLanes,o=268435455&n;if(0!==o){var a=o&~i;0!==a?r=dt(a):0!==(s&=o)&&(r=dt(s))}else 0!==(o=n&~i)?r=dt(o):0!==s&&(r=dt(s));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(s=t&-t)||16===i&&0!==(4194240&s)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-ot(t)),r|=e[n],t&=~i;return r}function ft(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function mt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function gt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function yt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function vt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ot(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var wt=0;function bt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var _t,St,Et,xt,Tt,kt=!1,It=[],Ct=null,Nt=null,At=null,Ot=new Map,Pt=new Map,Dt=[],Rt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Mt(e,t){switch(e){case"focusin":case"focusout":Ct=null;break;case"dragenter":case"dragleave":Nt=null;break;case"mouseover":case"mouseout":At=null;break;case"pointerover":case"pointerout":Ot.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pt.delete(t.pointerId)}}function Lt(e,t,n,r,i,s){return null===e||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},null!==t&&(null!==(t=wi(t))&&St(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function jt(e){var t=vi(e.target);if(null!==t){var n=Be(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=qe(n)))return e.blockedOn=t,void Tt(e.priority,(function(){Et(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ft(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Qt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=wi(n))&&St(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);be=r,n.target.dispatchEvent(r),be=null,t.shift()}return!0}function Ut(e,t,n){Ft(e)&&n.delete(t)}function Vt(){kt=!1,null!==Ct&&Ft(Ct)&&(Ct=null),null!==Nt&&Ft(Nt)&&(Nt=null),null!==At&&Ft(At)&&(At=null),Ot.forEach(Ut),Pt.forEach(Ut)}function zt(e,t){e.blockedOn===t&&(e.blockedOn=null,kt||(kt=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Vt)))}function Bt(e){function t(t){return zt(t,e)}if(0<It.length){zt(It[0],e);for(var n=1;n<It.length;n++){var r=It[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Ct&&zt(Ct,e),null!==Nt&&zt(Nt,e),null!==At&&zt(At,e),Ot.forEach(t),Pt.forEach(t),n=0;n<Dt.length;n++)(r=Dt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Dt.length&&null===(n=Dt[0]).blockedOn;)jt(n),null===n.blockedOn&&Dt.shift()}var qt=b.ReactCurrentBatchConfig,Wt=!0;function Gt(e,t,n,r){var i=wt,s=qt.transition;qt.transition=null;try{wt=1,Yt(e,t,n,r)}finally{wt=i,qt.transition=s}}function Ht(e,t,n,r){var i=wt,s=qt.transition;qt.transition=null;try{wt=4,Yt(e,t,n,r)}finally{wt=i,qt.transition=s}}function Yt(e,t,n,r){if(Wt){var i=Qt(e,t,n,r);if(null===i)Wr(e,t,r,Kt,n),Mt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Ct=Lt(Ct,e,t,n,r,i),!0;case"dragenter":return Nt=Lt(Nt,e,t,n,r,i),!0;case"mouseover":return At=Lt(At,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return Ot.set(s,Lt(Ot.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Pt.set(s,Lt(Pt.get(s)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Mt(e,r),4&t&&-1<Rt.indexOf(e)){for(;null!==i;){var s=wi(i);if(null!==s&&_t(s),null===(s=Qt(e,t,n,r))&&Wr(e,t,r,Kt,n),s===i)break;i=s}null!==i&&r.stopPropagation()}else Wr(e,t,r,null,n)}}var Kt=null;function Qt(e,t,n,r){if(Kt=null,null!==(e=vi(e=_e(r))))if(null===(t=Be(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=qe(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Kt=e,null}function Xt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch($e()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Jt=null,$t=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=$t,r=n.length,i="value"in Jt?Jt.value:Jt.textContent,s=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[s-t];t++);return Zt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function sn(e){function t(t,n,r,i,s){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=s,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return j(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var on,an,ln,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},un=sn(cn),dn=j({},cn,{view:0,detail:0}),hn=sn(dn),fn=j({},dn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Tn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(on=e.screenX-ln.screenX,an=e.screenY-ln.screenY):an=on=0,ln=e),on)},movementY:function(e){return"movementY"in e?e.movementY:an}}),pn=sn(fn),mn=sn(j({},fn,{dataTransfer:0})),gn=sn(j({},dn,{relatedTarget:0})),yn=sn(j({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),vn=j({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),wn=sn(vn),bn=sn(j({},cn,{data:0})),_n={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Sn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},En={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function xn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=En[e])&&!!t[e]}function Tn(){return xn}var kn=j({},dn,{key:function(e){if(e.key){var t=_n[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Sn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Tn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),In=sn(kn),Cn=sn(j({},fn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Nn=sn(j({},dn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Tn})),An=sn(j({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),On=j({},fn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Pn=sn(On),Dn=[9,13,27,32],Rn=u&&"CompositionEvent"in window,Mn=null;u&&"documentMode"in document&&(Mn=document.documentMode);var Ln=u&&"TextEvent"in window&&!Mn,jn=u&&(!Rn||Mn&&8<Mn&&11>=Mn),Fn=String.fromCharCode(32),Un=!1;function Vn(e,t){switch(e){case"keyup":return-1!==Dn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Bn=!1;var qn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!qn[e.type]:"textarea"===t}function Gn(e,t,n,r){ke(r),0<(t=Hr(t,"onChange")).length&&(n=new un("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Hn=null,Yn=null;function Kn(e){Fr(e,0)}function Qn(e){if(Y(bi(e)))return e}function Xn(e,t){if("change"===e)return t}var Jn=!1;if(u){var $n;if(u){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}$n=Zn}else $n=!1;Jn=$n&&(!document.documentMode||9<document.documentMode)}function tr(){Hn&&(Hn.detachEvent("onpropertychange",nr),Yn=Hn=null)}function nr(e){if("value"===e.propertyName&&Qn(Yn)){var t=[];Gn(t,Yn,e,_e(e)),Oe(Kn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Yn=n,(Hn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Qn(Yn)}function sr(e,t){if("click"===e)return Qn(t)}function or(e,t){if("input"===e||"change"===e)return Qn(t)}var ar="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function lr(e,t){if(ar(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!d.call(t,i)||!ar(e[i],t[i]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ur(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function dr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?dr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=K();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=K((e=t.contentWindow).document)}return t}function fr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&dr(n.ownerDocument.documentElement,n)){if(null!==r&&fr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=void 0===r.end?s:Math.min(r.end,i),!e.extend&&s>r&&(i=r,r=s,s=i),i=ur(n,s);var o=ur(n,r);i&&o&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var mr=u&&"documentMode"in document&&11>=document.documentMode,gr=null,yr=null,vr=null,wr=!1;function br(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;wr||null==gr||gr!==K(r)||("selectionStart"in(r=gr)&&fr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},vr&&lr(vr,r)||(vr=r,0<(r=Hr(yr,"onSelect")).length&&(t=new un("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=gr)))}function _r(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Sr={animationend:_r("Animation","AnimationEnd"),animationiteration:_r("Animation","AnimationIteration"),animationstart:_r("Animation","AnimationStart"),transitionend:_r("Transition","TransitionEnd")},Er={},xr={};function Tr(e){if(Er[e])return Er[e];if(!Sr[e])return e;var t,n=Sr[e];for(t in n)if(n.hasOwnProperty(t)&&t in xr)return Er[e]=n[t];return e}u&&(xr=document.createElement("div").style,"AnimationEvent"in window||(delete Sr.animationend.animation,delete Sr.animationiteration.animation,delete Sr.animationstart.animation),"TransitionEvent"in window||delete Sr.transitionend.transition);var kr=Tr("animationend"),Ir=Tr("animationiteration"),Cr=Tr("animationstart"),Nr=Tr("transitionend"),Ar=new Map,Or="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Pr(e,t){Ar.set(e,t),l(t,[e])}for(var Dr=0;Dr<Or.length;Dr++){var Rr=Or[Dr];Pr(Rr.toLowerCase(),"on"+(Rr[0].toUpperCase()+Rr.slice(1)))}Pr(kr,"onAnimationEnd"),Pr(Ir,"onAnimationIteration"),Pr(Cr,"onAnimationStart"),Pr("dblclick","onDoubleClick"),Pr("focusin","onFocus"),Pr("focusout","onBlur"),Pr(Nr,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Mr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Lr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Mr));function jr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,a,l,c){if(ze.apply(this,arguments),Le){if(!Le)throw Error(s(198));var u=je;Le=!1,je=null,Fe||(Fe=!0,Ue=u)}}(r,t,void 0,e),e.currentTarget=null}function Fr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;jr(i,a,c),s=l}else for(o=0;o<r.length;o++){if(l=(a=r[o]).instance,c=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;jr(i,a,c),s=l}}}if(Fe)throw e=Ue,Fe=!1,Ue=null,e}function Ur(e,t){var n=t[mi];void 0===n&&(n=t[mi]=new Set);var r=e+"__bubble";n.has(r)||(qr(t,e,2,!1),n.add(r))}function Vr(e,t,n){var r=0;t&&(r|=4),qr(n,e,r,t)}var zr="_reactListening"+Math.random().toString(36).slice(2);function Br(e){if(!e[zr]){e[zr]=!0,o.forEach((function(t){"selectionchange"!==t&&(Lr.has(t)||Vr(t,!1,e),Vr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[zr]||(t[zr]=!0,Vr("selectionchange",!1,t))}}function qr(e,t,n,r){switch(Xt(t)){case 1:var i=Gt;break;case 4:i=Ht;break;default:i=Yt}n=i.bind(null,t,n,e),i=void 0,!De||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Wr(e,t,n,r,i){var s=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var a=r.stateNode.containerInfo;if(a===i||8===a.nodeType&&a.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var l=o.tag;if((3===l||4===l)&&((l=o.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;o=o.return}for(;null!==a;){if(null===(o=vi(a)))return;if(5===(l=o.tag)||6===l){r=s=o;continue e}a=a.parentNode}}r=r.return}Oe((function(){var r=s,i=_e(n),o=[];e:{var a=Ar.get(e);if(void 0!==a){var l=un,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=In;break;case"focusin":c="focus",l=gn;break;case"focusout":c="blur",l=gn;break;case"beforeblur":case"afterblur":l=gn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=mn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Nn;break;case kr:case Ir:case Cr:l=yn;break;case Nr:l=An;break;case"scroll":l=hn;break;case"wheel":l=Pn;break;case"copy":case"cut":case"paste":l=wn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Cn}var u=0!==(4&t),d=!u&&"scroll"===e,h=u?null!==a?a+"Capture":null:a;u=[];for(var f,p=r;null!==p;){var m=(f=p).stateNode;if(5===f.tag&&null!==m&&(f=m,null!==h&&(null!=(m=Pe(p,h))&&u.push(Gr(p,m,f)))),d)break;p=p.return}0<u.length&&(a=new l(a,c,null,n,i),o.push({event:a,listeners:u}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(a="mouseover"===e||"pointerover"===e)||n===be||!(c=n.relatedTarget||n.fromElement)||!vi(c)&&!c[pi])&&(l||a)&&(a=i.window===i?i:(a=i.ownerDocument)?a.defaultView||a.parentWindow:window,l?(l=r,null!==(c=(c=n.relatedTarget||n.toElement)?vi(c):null)&&(c!==(d=Be(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=r),l!==c)){if(u=pn,m="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(u=Cn,m="onPointerLeave",h="onPointerEnter",p="pointer"),d=null==l?a:bi(l),f=null==c?a:bi(c),(a=new u(m,p+"leave",l,n,i)).target=d,a.relatedTarget=f,m=null,vi(i)===r&&((u=new u(h,p+"enter",c,n,i)).target=f,u.relatedTarget=d,m=u),d=m,l&&c)e:{for(h=c,p=0,f=u=l;f;f=Yr(f))p++;for(f=0,m=h;m;m=Yr(m))f++;for(;0<p-f;)u=Yr(u),p--;for(;0<f-p;)h=Yr(h),f--;for(;p--;){if(u===h||null!==h&&u===h.alternate)break e;u=Yr(u),h=Yr(h)}u=null}else u=null;null!==l&&Kr(o,a,l,u,!1),null!==c&&null!==d&&Kr(o,d,c,u,!0)}if("select"===(l=(a=r?bi(r):window).nodeName&&a.nodeName.toLowerCase())||"input"===l&&"file"===a.type)var g=Xn;else if(Wn(a))if(Jn)g=or;else{g=ir;var y=rr}else(l=a.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===a.type||"radio"===a.type)&&(g=sr);switch(g&&(g=g(e,r))?Gn(o,g,n,i):(y&&y(e,a,r),"focusout"===e&&(y=a._wrapperState)&&y.controlled&&"number"===a.type&&ee(a,"number",a.value)),y=r?bi(r):window,e){case"focusin":(Wn(y)||"true"===y.contentEditable)&&(gr=y,yr=r,vr=null);break;case"focusout":vr=yr=gr=null;break;case"mousedown":wr=!0;break;case"contextmenu":case"mouseup":case"dragend":wr=!1,br(o,n,i);break;case"selectionchange":if(mr)break;case"keydown":case"keyup":br(o,n,i)}var v;if(Rn)e:{switch(e){case"compositionstart":var w="onCompositionStart";break e;case"compositionend":w="onCompositionEnd";break e;case"compositionupdate":w="onCompositionUpdate";break e}w=void 0}else Bn?Vn(e,n)&&(w="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(w="onCompositionStart");w&&(jn&&"ko"!==n.locale&&(Bn||"onCompositionStart"!==w?"onCompositionEnd"===w&&Bn&&(v=en()):($t="value"in(Jt=i)?Jt.value:Jt.textContent,Bn=!0)),0<(y=Hr(r,w)).length&&(w=new bn(w,e,null,n,i),o.push({event:w,listeners:y}),v?w.data=v:null!==(v=zn(n))&&(w.data=v))),(v=Ln?function(e,t){switch(e){case"compositionend":return zn(t);case"keypress":return 32!==t.which?null:(Un=!0,Fn);case"textInput":return(e=t.data)===Fn&&Un?null:e;default:return null}}(e,n):function(e,t){if(Bn)return"compositionend"===e||!Rn&&Vn(e,t)?(e=en(),Zt=$t=Jt=null,Bn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return jn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Hr(r,"onBeforeInput")).length&&(i=new bn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=v))}Fr(o,t)}))}function Gr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Hr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,s=i.stateNode;5===i.tag&&null!==s&&(i=s,null!=(s=Pe(e,n))&&r.unshift(Gr(e,s,i)),null!=(s=Pe(e,t))&&r.push(Gr(e,s,i))),e=e.return}return r}function Yr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Kr(e,t,n,r,i){for(var s=t._reactName,o=[];null!==n&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(null!==l&&l===r)break;5===a.tag&&null!==c&&(a=c,i?null!=(l=Pe(n,s))&&o.unshift(Gr(n,l,a)):i||null!=(l=Pe(n,s))&&o.push(Gr(n,l,a))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var Qr=/\r\n?/g,Xr=/\u0000|\uFFFD/g;function Jr(e){return("string"===typeof e?e:""+e).replace(Qr,"\n").replace(Xr,"")}function $r(e,t,n){if(t=Jr(t),Jr(e)!==t&&n)throw Error(s(425))}function Zr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,si="function"===typeof Promise?Promise:void 0,oi="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof si?function(e){return si.resolve(null).then(e).catch(ai)}:ri;function ai(e){setTimeout((function(){throw e}))}function li(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void Bt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Bt(t)}function ci(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ui(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var di=Math.random().toString(36).slice(2),hi="__reactFiber$"+di,fi="__reactProps$"+di,pi="__reactContainer$"+di,mi="__reactEvents$"+di,gi="__reactListeners$"+di,yi="__reactHandles$"+di;function vi(e){var t=e[hi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[hi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ui(e);null!==e;){if(n=e[hi])return n;e=ui(e)}return t}n=(e=n).parentNode}return null}function wi(e){return!(e=e[hi]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function bi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(s(33))}function _i(e){return e[fi]||null}var Si=[],Ei=-1;function xi(e){return{current:e}}function Ti(e){0>Ei||(e.current=Si[Ei],Si[Ei]=null,Ei--)}function ki(e,t){Ei++,Si[Ei]=e.current,e.current=t}var Ii={},Ci=xi(Ii),Ni=xi(!1),Ai=Ii;function Oi(e,t){var n=e.type.contextTypes;if(!n)return Ii;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,s={};for(i in n)s[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Pi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Di(){Ti(Ni),Ti(Ci)}function Ri(e,t,n){if(Ci.current!==Ii)throw Error(s(168));ki(Ci,t),ki(Ni,n)}function Mi(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(s(108,q(e)||"Unknown",i));return j({},n,r)}function Li(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ii,Ai=Ci.current,ki(Ci,e),ki(Ni,Ni.current),!0}function ji(e,t,n){var r=e.stateNode;if(!r)throw Error(s(169));n?(e=Mi(e,t,Ai),r.__reactInternalMemoizedMergedChildContext=e,Ti(Ni),Ti(Ci),ki(Ci,e)):Ti(Ni),ki(Ni,n)}var Fi=null,Ui=!1,Vi=!1;function zi(e){null===Fi?Fi=[e]:Fi.push(e)}function Bi(){if(!Vi&&null!==Fi){Vi=!0;var e=0,t=wt;try{var n=Fi;for(wt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Fi=null,Ui=!1}catch(i){throw null!==Fi&&(Fi=Fi.slice(e+1)),Ye(Ze,Bi),i}finally{wt=t,Vi=!1}}return null}var qi=[],Wi=0,Gi=null,Hi=0,Yi=[],Ki=0,Qi=null,Xi=1,Ji="";function $i(e,t){qi[Wi++]=Hi,qi[Wi++]=Gi,Gi=e,Hi=t}function Zi(e,t,n){Yi[Ki++]=Xi,Yi[Ki++]=Ji,Yi[Ki++]=Qi,Qi=e;var r=Xi;e=Ji;var i=32-ot(r)-1;r&=~(1<<i),n+=1;var s=32-ot(t)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Xi=1<<32-ot(t)+i|n<<i|r,Ji=s+e}else Xi=1<<s|n<<i|r,Ji=e}function es(e){null!==e.return&&($i(e,1),Zi(e,1,0))}function ts(e){for(;e===Gi;)Gi=qi[--Wi],qi[Wi]=null,Hi=qi[--Wi],qi[Wi]=null;for(;e===Qi;)Qi=Yi[--Ki],Yi[Ki]=null,Ji=Yi[--Ki],Yi[Ki]=null,Xi=Yi[--Ki],Yi[Ki]=null}var ns=null,rs=null,is=!1,ss=null;function os(e,t){var n=Pc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function as(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,ns=e,rs=ci(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,ns=e,rs=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Qi?{id:Xi,overflow:Ji}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Pc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,ns=e,rs=null,!0);default:return!1}}function ls(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function cs(e){if(is){var t=rs;if(t){var n=t;if(!as(e,t)){if(ls(e))throw Error(s(418));t=ci(n.nextSibling);var r=ns;t&&as(e,t)?os(r,n):(e.flags=-4097&e.flags|2,is=!1,ns=e)}}else{if(ls(e))throw Error(s(418));e.flags=-4097&e.flags|2,is=!1,ns=e}}}function us(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ns=e}function ds(e){if(e!==ns)return!1;if(!is)return us(e),is=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=rs)){if(ls(e))throw hs(),Error(s(418));for(;t;)os(e,t),t=ci(t.nextSibling)}if(us(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(s(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){rs=ci(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}rs=null}}else rs=ns?ci(e.stateNode.nextSibling):null;return!0}function hs(){for(var e=rs;e;)e=ci(e.nextSibling)}function fs(){rs=ns=null,is=!1}function ps(e){null===ss?ss=[e]:ss.push(e)}var ms=b.ReactCurrentBatchConfig;function gs(e,t){if(e&&e.defaultProps){for(var n in t=j({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var ys=xi(null),vs=null,ws=null,bs=null;function _s(){bs=ws=vs=null}function Ss(e){var t=ys.current;Ti(ys),e._currentValue=t}function Es(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function xs(e,t){vs=e,bs=ws=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(ba=!0),e.firstContext=null)}function Ts(e){var t=e._currentValue;if(bs!==e)if(e={context:e,memoizedValue:t,next:null},null===ws){if(null===vs)throw Error(s(308));ws=e,vs.dependencies={lanes:0,firstContext:e}}else ws=ws.next=e;return t}var ks=null;function Is(e){null===ks?ks=[e]:ks.push(e)}function Cs(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Is(t)):(n.next=i.next,i.next=n),t.interleaved=n,Ns(e,r)}function Ns(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var As=!1;function Os(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ps(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ds(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Rs(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Nl)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Ns(e,n)}return null===(i=r.interleaved)?(t.next=t,Is(r)):(t.next=i.next,i.next=t),r.interleaved=t,Ns(e,n)}function Ms(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,vt(e,n)}}function Ls(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,s=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===s?i=s=o:s=s.next=o,n=n.next}while(null!==n);null===s?i=s=t:s=s.next=t}else i=s=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function js(e,t,n,r){var i=e.updateQueue;As=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(null!==a){i.shared.pending=null;var l=a,c=l.next;l.next=null,null===o?s=c:o.next=c,o=l;var u=e.alternate;null!==u&&((a=(u=u.updateQueue).lastBaseUpdate)!==o&&(null===a?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(null!==s){var d=i.baseState;for(o=0,u=c=l=null,a=s;;){var h=a.lane,f=a.eventTime;if((r&h)===h){null!==u&&(u=u.next={eventTime:f,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=e,m=a;switch(h=t,f=n,m.tag){case 1:if("function"===typeof(p=m.payload)){d=p.call(f,d,h);break e}d=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=m.payload)?p.call(f,d,h):p)||void 0===h)break e;d=j({},d,h);break e;case 2:As=!0}}null!==a.callback&&0!==a.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[a]:h.push(a))}else f={eventTime:f,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===u?(c=u=f,l=d):u=u.next=f,o|=h;if(null===(a=a.next)){if(null===(a=i.shared.pending))break;a=(h=a).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===u&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,null!==(t=i.shared.interleaved)){i=t;do{o|=i.lane,i=i.next}while(i!==t)}else null===s&&(i.shared.lanes=0);jl|=o,e.lanes=o,e.memoizedState=d}}function Fs(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(s(191,i));i.call(r)}}}var Us=(new r.Component).refs;function Vs(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:j({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var zs={isMounted:function(e){return!!(e=e._reactInternals)&&Be(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=tc(),i=nc(e),s=Ds(r,i);s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=Rs(e,s,i))&&(rc(t,e,i,r),Ms(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=tc(),i=nc(e),s=Ds(r,i);s.tag=1,s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=Rs(e,s,i))&&(rc(t,e,i,r),Ms(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=tc(),r=nc(e),i=Ds(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Rs(e,i,r))&&(rc(t,e,r,n),Ms(t,e,r))}};function Bs(e,t,n,r,i,s,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,s,o):!t.prototype||!t.prototype.isPureReactComponent||(!lr(n,r)||!lr(i,s))}function qs(e,t,n){var r=!1,i=Ii,s=t.contextType;return"object"===typeof s&&null!==s?s=Ts(s):(i=Pi(t)?Ai:Ci.current,s=(r=null!==(r=t.contextTypes)&&void 0!==r)?Oi(e,i):Ii),t=new t(n,s),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=zs,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function Ws(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&zs.enqueueReplaceState(t,t.state,null)}function Gs(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=Us,Os(e);var s=t.contextType;"object"===typeof s&&null!==s?i.context=Ts(s):(s=Pi(t)?Ai:Ci.current,i.context=Oi(e,s)),i.state=e.memoizedState,"function"===typeof(s=t.getDerivedStateFromProps)&&(Vs(e,t,s,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&zs.enqueueReplaceState(i,i.state,null),js(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function Hs(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(s(309));var r=n.stateNode}if(!r)throw Error(s(147,e));var i=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=i.refs;t===Us&&(t=i.refs={}),null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(s(284));if(!n._owner)throw Error(s(290,e))}return e}function Ys(e,t){throw e=Object.prototype.toString.call(t),Error(s(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Ks(e){return(0,e._init)(e._payload)}function Qs(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Rc(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function a(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Fc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var s=n.type;return s===E?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===s||"object"===typeof s&&null!==s&&s.$$typeof===P&&Ks(s)===t.type)?((r=i(t,n.props)).ref=Hs(e,t,n),r.return=e,r):((r=Mc(n.type,n.key,n.props,null,e.mode,r)).ref=Hs(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Uc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function d(e,t,n,r,s){return null===t||7!==t.tag?((t=Lc(n,e.mode,r,s)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Fc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case _:return(n=Mc(t.type,t.key,t.props,null,e.mode,n)).ref=Hs(e,null,t),n.return=e,n;case S:return(t=Uc(t,e.mode,n)).return=e,t;case P:return h(e,(0,t._init)(t._payload),n)}if(te(t)||M(t))return(t=Lc(t,e.mode,n,null)).return=e,t;Ys(e,t)}return null}function f(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case _:return n.key===i?c(e,t,n,r):null;case S:return n.key===i?u(e,t,n,r):null;case P:return f(e,t,(i=n._init)(n._payload),r)}if(te(n)||M(n))return null!==i?null:d(e,t,n,r,null);Ys(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case _:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case S:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case P:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||M(r))return d(t,e=e.get(n)||null,r,i,null);Ys(t,r)}return null}function m(i,s,a,l){for(var c=null,u=null,d=s,m=s=0,g=null;null!==d&&m<a.length;m++){d.index>m?(g=d,d=null):g=d.sibling;var y=f(i,d,a[m],l);if(null===y){null===d&&(d=g);break}e&&d&&null===y.alternate&&t(i,d),s=o(y,s,m),null===u?c=y:u.sibling=y,u=y,d=g}if(m===a.length)return n(i,d),is&&$i(i,m),c;if(null===d){for(;m<a.length;m++)null!==(d=h(i,a[m],l))&&(s=o(d,s,m),null===u?c=d:u.sibling=d,u=d);return is&&$i(i,m),c}for(d=r(i,d);m<a.length;m++)null!==(g=p(d,i,m,a[m],l))&&(e&&null!==g.alternate&&d.delete(null===g.key?m:g.key),s=o(g,s,m),null===u?c=g:u.sibling=g,u=g);return e&&d.forEach((function(e){return t(i,e)})),is&&$i(i,m),c}function g(i,a,l,c){var u=M(l);if("function"!==typeof u)throw Error(s(150));if(null==(l=u.call(l)))throw Error(s(151));for(var d=u=null,m=a,g=a=0,y=null,v=l.next();null!==m&&!v.done;g++,v=l.next()){m.index>g?(y=m,m=null):y=m.sibling;var w=f(i,m,v.value,c);if(null===w){null===m&&(m=y);break}e&&m&&null===w.alternate&&t(i,m),a=o(w,a,g),null===d?u=w:d.sibling=w,d=w,m=y}if(v.done)return n(i,m),is&&$i(i,g),u;if(null===m){for(;!v.done;g++,v=l.next())null!==(v=h(i,v.value,c))&&(a=o(v,a,g),null===d?u=v:d.sibling=v,d=v);return is&&$i(i,g),u}for(m=r(i,m);!v.done;g++,v=l.next())null!==(v=p(m,i,g,v.value,c))&&(e&&null!==v.alternate&&m.delete(null===v.key?g:v.key),a=o(v,a,g),null===d?u=v:d.sibling=v,d=v);return e&&m.forEach((function(e){return t(i,e)})),is&&$i(i,g),u}return function e(r,s,o,l){if("object"===typeof o&&null!==o&&o.type===E&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case _:e:{for(var c=o.key,u=s;null!==u;){if(u.key===c){if((c=o.type)===E){if(7===u.tag){n(r,u.sibling),(s=i(u,o.props.children)).return=r,r=s;break e}}else if(u.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===P&&Ks(c)===u.type){n(r,u.sibling),(s=i(u,o.props)).ref=Hs(r,u,o),s.return=r,r=s;break e}n(r,u);break}t(r,u),u=u.sibling}o.type===E?((s=Lc(o.props.children,r.mode,l,o.key)).return=r,r=s):((l=Mc(o.type,o.key,o.props,null,r.mode,l)).ref=Hs(r,s,o),l.return=r,r=l)}return a(r);case S:e:{for(u=o.key;null!==s;){if(s.key===u){if(4===s.tag&&s.stateNode.containerInfo===o.containerInfo&&s.stateNode.implementation===o.implementation){n(r,s.sibling),(s=i(s,o.children||[])).return=r,r=s;break e}n(r,s);break}t(r,s),s=s.sibling}(s=Uc(o,r.mode,l)).return=r,r=s}return a(r);case P:return e(r,s,(u=o._init)(o._payload),l)}if(te(o))return m(r,s,o,l);if(M(o))return g(r,s,o,l);Ys(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==s&&6===s.tag?(n(r,s.sibling),(s=i(s,o)).return=r,r=s):(n(r,s),(s=Fc(o,r.mode,l)).return=r,r=s),a(r)):n(r,s)}}var Xs=Qs(!0),Js=Qs(!1),$s={},Zs=xi($s),eo=xi($s),to=xi($s);function no(e){if(e===$s)throw Error(s(174));return e}function ro(e,t){switch(ki(to,t),ki(eo,e),ki(Zs,$s),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ti(Zs),ki(Zs,t)}function io(){Ti(Zs),Ti(eo),Ti(to)}function so(e){no(to.current);var t=no(Zs.current),n=le(t,e.type);t!==n&&(ki(eo,e),ki(Zs,n))}function oo(e){eo.current===e&&(Ti(Zs),Ti(eo))}var ao=xi(0);function lo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var co=[];function uo(){for(var e=0;e<co.length;e++)co[e]._workInProgressVersionPrimary=null;co.length=0}var ho=b.ReactCurrentDispatcher,fo=b.ReactCurrentBatchConfig,po=0,mo=null,go=null,yo=null,vo=!1,wo=!1,bo=0,_o=0;function So(){throw Error(s(321))}function Eo(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ar(e[n],t[n]))return!1;return!0}function xo(e,t,n,r,i,o){if(po=o,mo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ho.current=null===e||null===e.memoizedState?aa:la,e=n(r,i),wo){o=0;do{if(wo=!1,bo=0,25<=o)throw Error(s(301));o+=1,yo=go=null,t.updateQueue=null,ho.current=ca,e=n(r,i)}while(wo)}if(ho.current=oa,t=null!==go&&null!==go.next,po=0,yo=go=mo=null,vo=!1,t)throw Error(s(300));return e}function To(){var e=0!==bo;return bo=0,e}function ko(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===yo?mo.memoizedState=yo=e:yo=yo.next=e,yo}function Io(){if(null===go){var e=mo.alternate;e=null!==e?e.memoizedState:null}else e=go.next;var t=null===yo?mo.memoizedState:yo.next;if(null!==t)yo=t,go=e;else{if(null===e)throw Error(s(310));e={memoizedState:(go=e).memoizedState,baseState:go.baseState,baseQueue:go.baseQueue,queue:go.queue,next:null},null===yo?mo.memoizedState=yo=e:yo=yo.next=e}return yo}function Co(e,t){return"function"===typeof t?t(e):t}function No(e){var t=Io(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=go,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var a=i.next;i.next=o.next,o.next=a}r.baseQueue=i=o,n.pending=null}if(null!==i){o=i.next,r=r.baseState;var l=a=null,c=null,u=o;do{var d=u.lane;if((po&d)===d)null!==c&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===c?(l=c=h,a=r):c=c.next=h,mo.lanes|=d,jl|=d}u=u.next}while(null!==u&&u!==o);null===c?a=r:c.next=l,ar(r,t.memoizedState)||(ba=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{o=i.lane,mo.lanes|=o,jl|=o,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ao(e){var t=Io(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var a=i=i.next;do{o=e(o,a.action),a=a.next}while(a!==i);ar(o,t.memoizedState)||(ba=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Oo(){}function Po(e,t){var n=mo,r=Io(),i=t(),o=!ar(r.memoizedState,i);if(o&&(r.memoizedState=i,ba=!0),r=r.queue,Wo(Mo.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==yo&&1&yo.memoizedState.tag){if(n.flags|=2048,Uo(9,Ro.bind(null,n,r,i,t),void 0,null),null===Al)throw Error(s(349));0!==(30&po)||Do(n,t,i)}return i}function Do(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=mo.updateQueue)?(t={lastEffect:null,stores:null},mo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Ro(e,t,n,r){t.value=n,t.getSnapshot=r,Lo(t)&&jo(e)}function Mo(e,t,n){return n((function(){Lo(t)&&jo(e)}))}function Lo(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ar(e,n)}catch(r){return!0}}function jo(e){var t=Ns(e,1);null!==t&&rc(t,e,1,-1)}function Fo(e){var t=ko();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Co,lastRenderedState:e},t.queue=e,e=e.dispatch=na.bind(null,mo,e),[t.memoizedState,e]}function Uo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=mo.updateQueue)?(t={lastEffect:null,stores:null},mo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Vo(){return Io().memoizedState}function zo(e,t,n,r){var i=ko();mo.flags|=e,i.memoizedState=Uo(1|t,n,void 0,void 0===r?null:r)}function Bo(e,t,n,r){var i=Io();r=void 0===r?null:r;var s=void 0;if(null!==go){var o=go.memoizedState;if(s=o.destroy,null!==r&&Eo(r,o.deps))return void(i.memoizedState=Uo(t,n,s,r))}mo.flags|=e,i.memoizedState=Uo(1|t,n,s,r)}function qo(e,t){return zo(8390656,8,e,t)}function Wo(e,t){return Bo(2048,8,e,t)}function Go(e,t){return Bo(4,2,e,t)}function Ho(e,t){return Bo(4,4,e,t)}function Yo(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Ko(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Bo(4,4,Yo.bind(null,t,e),n)}function Qo(){}function Xo(e,t){var n=Io();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Eo(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Jo(e,t){var n=Io();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Eo(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function $o(e,t,n){return 0===(21&po)?(e.baseState&&(e.baseState=!1,ba=!0),e.memoizedState=n):(ar(n,t)||(n=mt(),mo.lanes|=n,jl|=n,e.baseState=!0),t)}function Zo(e,t){var n=wt;wt=0!==n&&4>n?n:4,e(!0);var r=fo.transition;fo.transition={};try{e(!1),t()}finally{wt=n,fo.transition=r}}function ea(){return Io().memoizedState}function ta(e,t,n){var r=nc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},ra(e))ia(t,n);else if(null!==(n=Cs(e,t,n,r))){rc(n,e,r,tc()),sa(n,t,r)}}function na(e,t,n){var r=nc(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(ra(e))ia(t,i);else{var s=e.alternate;if(0===e.lanes&&(null===s||0===s.lanes)&&null!==(s=t.lastRenderedReducer))try{var o=t.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,ar(a,o)){var l=t.interleaved;return null===l?(i.next=i,Is(t)):(i.next=l.next,l.next=i),void(t.interleaved=i)}}catch(c){}null!==(n=Cs(e,t,i,r))&&(rc(n,e,r,i=tc()),sa(n,t,r))}}function ra(e){var t=e.alternate;return e===mo||null!==t&&t===mo}function ia(e,t){wo=vo=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function sa(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,vt(e,n)}}var oa={readContext:Ts,useCallback:So,useContext:So,useEffect:So,useImperativeHandle:So,useInsertionEffect:So,useLayoutEffect:So,useMemo:So,useReducer:So,useRef:So,useState:So,useDebugValue:So,useDeferredValue:So,useTransition:So,useMutableSource:So,useSyncExternalStore:So,useId:So,unstable_isNewReconciler:!1},aa={readContext:Ts,useCallback:function(e,t){return ko().memoizedState=[e,void 0===t?null:t],e},useContext:Ts,useEffect:qo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,zo(4194308,4,Yo.bind(null,t,e),n)},useLayoutEffect:function(e,t){return zo(4194308,4,e,t)},useInsertionEffect:function(e,t){return zo(4,2,e,t)},useMemo:function(e,t){var n=ko();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=ko();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=ta.bind(null,mo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},ko().memoizedState=e},useState:Fo,useDebugValue:Qo,useDeferredValue:function(e){return ko().memoizedState=e},useTransition:function(){var e=Fo(!1),t=e[0];return e=Zo.bind(null,e[1]),ko().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=mo,i=ko();if(is){if(void 0===n)throw Error(s(407));n=n()}else{if(n=t(),null===Al)throw Error(s(349));0!==(30&po)||Do(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,qo(Mo.bind(null,r,o,e),[e]),r.flags|=2048,Uo(9,Ro.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=ko(),t=Al.identifierPrefix;if(is){var n=Ji;t=":"+t+"R"+(n=(Xi&~(1<<32-ot(Xi)-1)).toString(32)+n),0<(n=bo++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=_o++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},la={readContext:Ts,useCallback:Xo,useContext:Ts,useEffect:Wo,useImperativeHandle:Ko,useInsertionEffect:Go,useLayoutEffect:Ho,useMemo:Jo,useReducer:No,useRef:Vo,useState:function(){return No(Co)},useDebugValue:Qo,useDeferredValue:function(e){return $o(Io(),go.memoizedState,e)},useTransition:function(){return[No(Co)[0],Io().memoizedState]},useMutableSource:Oo,useSyncExternalStore:Po,useId:ea,unstable_isNewReconciler:!1},ca={readContext:Ts,useCallback:Xo,useContext:Ts,useEffect:Wo,useImperativeHandle:Ko,useInsertionEffect:Go,useLayoutEffect:Ho,useMemo:Jo,useReducer:Ao,useRef:Vo,useState:function(){return Ao(Co)},useDebugValue:Qo,useDeferredValue:function(e){var t=Io();return null===go?t.memoizedState=e:$o(t,go.memoizedState,e)},useTransition:function(){return[Ao(Co)[0],Io().memoizedState]},useMutableSource:Oo,useSyncExternalStore:Po,useId:ea,unstable_isNewReconciler:!1};function ua(e,t){try{var n="",r=t;do{n+=z(r),r=r.return}while(r);var i=n}catch(s){i="\nError generating stack: "+s.message+"\n"+s.stack}return{value:e,source:t,stack:i,digest:null}}function da(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function ha(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var fa="function"===typeof WeakMap?WeakMap:Map;function pa(e,t,n){(n=Ds(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Gl||(Gl=!0,Hl=r),ha(0,t)},n}function ma(e,t,n){(n=Ds(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){ha(0,t)}}var s=e.stateNode;return null!==s&&"function"===typeof s.componentDidCatch&&(n.callback=function(){ha(0,t),"function"!==typeof r&&(null===Yl?Yl=new Set([this]):Yl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function ga(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new fa;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=kc.bind(null,e,t,n),t.then(e,e))}function ya(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function va(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Ds(-1,1)).tag=2,Rs(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var wa=b.ReactCurrentOwner,ba=!1;function _a(e,t,n,r){t.child=null===e?Js(t,null,n,r):Xs(t,e.child,n,r)}function Sa(e,t,n,r,i){n=n.render;var s=t.ref;return xs(t,i),r=xo(e,t,n,r,s,i),n=To(),null===e||ba?(is&&n&&es(t),t.flags|=1,_a(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ga(e,t,i))}function Ea(e,t,n,r,i){if(null===e){var s=n.type;return"function"!==typeof s||Dc(s)||void 0!==s.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Mc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=s,xa(e,t,s,r,i))}if(s=e.child,0===(e.lanes&i)){var o=s.memoizedProps;if((n=null!==(n=n.compare)?n:lr)(o,r)&&e.ref===t.ref)return Ga(e,t,i)}return t.flags|=1,(e=Rc(s,r)).ref=t.ref,e.return=t,t.child=e}function xa(e,t,n,r,i){if(null!==e){var s=e.memoizedProps;if(lr(s,r)&&e.ref===t.ref){if(ba=!1,t.pendingProps=r=s,0===(e.lanes&i))return t.lanes=e.lanes,Ga(e,t,i);0!==(131072&e.flags)&&(ba=!0)}}return Ia(e,t,n,r,i)}function Ta(e,t,n){var r=t.pendingProps,i=r.children,s=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ki(Rl,Dl),Dl|=n;else{if(0===(1073741824&n))return e=null!==s?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ki(Rl,Dl),Dl|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==s?s.baseLanes:n,ki(Rl,Dl),Dl|=r}else null!==s?(r=s.baseLanes|n,t.memoizedState=null):r=n,ki(Rl,Dl),Dl|=r;return _a(e,t,i,n),t.child}function ka(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Ia(e,t,n,r,i){var s=Pi(n)?Ai:Ci.current;return s=Oi(t,s),xs(t,i),n=xo(e,t,n,r,s,i),r=To(),null===e||ba?(is&&r&&es(t),t.flags|=1,_a(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ga(e,t,i))}function Ca(e,t,n,r,i){if(Pi(n)){var s=!0;Li(t)}else s=!1;if(xs(t,i),null===t.stateNode)Wa(e,t),qs(t,n,r),Gs(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,a=t.memoizedProps;o.props=a;var l=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=Ts(c):c=Oi(t,c=Pi(n)?Ai:Ci.current);var u=n.getDerivedStateFromProps,d="function"===typeof u||"function"===typeof o.getSnapshotBeforeUpdate;d||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(a!==r||l!==c)&&Ws(t,o,r,c),As=!1;var h=t.memoizedState;o.state=h,js(t,r,o,i),l=t.memoizedState,a!==r||h!==l||Ni.current||As?("function"===typeof u&&(Vs(t,n,u,r),l=t.memoizedState),(a=As||Bs(t,n,a,r,h,l,c))?(d||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Ps(e,t),a=t.memoizedProps,c=t.type===t.elementType?a:gs(t.type,a),o.props=c,d=t.pendingProps,h=o.context,"object"===typeof(l=n.contextType)&&null!==l?l=Ts(l):l=Oi(t,l=Pi(n)?Ai:Ci.current);var f=n.getDerivedStateFromProps;(u="function"===typeof f||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(a!==d||h!==l)&&Ws(t,o,r,l),As=!1,h=t.memoizedState,o.state=h,js(t,r,o,i);var p=t.memoizedState;a!==d||h!==p||Ni.current||As?("function"===typeof f&&(Vs(t,n,f,r),p=t.memoizedState),(c=As||Bs(t,n,c,r,h,p,l)||!1)?(u||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,l),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,l)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=l,r=c):("function"!==typeof o.componentDidUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Na(e,t,n,r,s,i)}function Na(e,t,n,r,i,s){ka(e,t);var o=0!==(128&t.flags);if(!r&&!o)return i&&ji(t,n,!1),Ga(e,t,s);r=t.stateNode,wa.current=t;var a=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=Xs(t,e.child,null,s),t.child=Xs(t,null,a,s)):_a(e,t,a,s),t.memoizedState=r.state,i&&ji(t,n,!0),t.child}function Aa(e){var t=e.stateNode;t.pendingContext?Ri(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Ri(0,t.context,!1),ro(e,t.containerInfo)}function Oa(e,t,n,r,i){return fs(),ps(i),t.flags|=256,_a(e,t,n,r),t.child}var Pa,Da,Ra,Ma,La={dehydrated:null,treeContext:null,retryLane:0};function ja(e){return{baseLanes:e,cachePool:null,transitions:null}}function Fa(e,t,n){var r,i=t.pendingProps,o=ao.current,a=!1,l=0!==(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(a=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),ki(ao,1&o),null===e)return cs(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=i.children,e=i.fallback,a?(i=t.mode,a=t.child,l={mode:"hidden",children:l},0===(1&i)&&null!==a?(a.childLanes=0,a.pendingProps=l):a=jc(l,i,0,null),e=Lc(e,i,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=ja(n),t.memoizedState=La,e):Ua(t,l));if(null!==(o=e.memoizedState)&&null!==(r=o.dehydrated))return function(e,t,n,r,i,o,a){if(n)return 256&t.flags?(t.flags&=-257,Va(e,t,a,r=da(Error(s(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=jc({mode:"visible",children:r.children},i,0,null),(o=Lc(o,i,a,null)).flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,0!==(1&t.mode)&&Xs(t,e.child,null,a),t.child.memoizedState=ja(a),t.memoizedState=La,o);if(0===(1&t.mode))return Va(e,t,a,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var l=r.dgst;return r=l,Va(e,t,a,r=da(o=Error(s(419)),r,void 0))}if(l=0!==(a&e.childLanes),ba||l){if(null!==(r=Al)){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|a))?0:i)&&i!==o.retryLane&&(o.retryLane=i,Ns(e,i),rc(r,e,i,-1))}return gc(),Va(e,t,a,r=da(Error(s(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Cc.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,rs=ci(i.nextSibling),ns=t,is=!0,ss=null,null!==e&&(Yi[Ki++]=Xi,Yi[Ki++]=Ji,Yi[Ki++]=Qi,Xi=e.id,Ji=e.overflow,Qi=t),t=Ua(t,r.children),t.flags|=4096,t)}(e,t,l,i,r,o,n);if(a){a=i.fallback,l=t.mode,r=(o=e.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&l)&&t.child!==o?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=Rc(o,c)).subtreeFlags=14680064&o.subtreeFlags,null!==r?a=Rc(r,a):(a=Lc(a,l,n,null)).flags|=2,a.return=t,i.return=t,i.sibling=a,t.child=i,i=a,a=t.child,l=null===(l=e.child.memoizedState)?ja(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},a.memoizedState=l,a.childLanes=e.childLanes&~n,t.memoizedState=La,i}return e=(a=e.child).sibling,i=Rc(a,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Ua(e,t){return(t=jc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Va(e,t,n,r){return null!==r&&ps(r),Xs(t,e.child,null,n),(e=Ua(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function za(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Es(e.return,t,n)}function Ba(e,t,n,r,i){var s=e.memoizedState;null===s?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function qa(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(_a(e,t,r.children,n),0!==(2&(r=ao.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&za(e,n,t);else if(19===e.tag)za(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(ki(ao,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===lo(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Ba(t,!1,i,n,s);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===lo(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Ba(t,!0,n,null,s);break;case"together":Ba(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Wa(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ga(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),jl|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(s(153));if(null!==t.child){for(n=Rc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Rc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Ha(e,t){if(!is)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ya(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Ka(e,t,n){var r=t.pendingProps;switch(ts(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ya(t),null;case 1:case 17:return Pi(t.type)&&Di(),Ya(t),null;case 3:return r=t.stateNode,io(),Ti(Ni),Ti(Ci),uo(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(ds(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==ss&&(ac(ss),ss=null))),Da(e,t),Ya(t),null;case 5:oo(t);var i=no(to.current);if(n=t.type,null!==e&&null!=t.stateNode)Ra(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(s(166));return Ya(t),null}if(e=no(Zs.current),ds(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[hi]=t,r[fi]=o,e=0!==(1&t.mode),n){case"dialog":Ur("cancel",r),Ur("close",r);break;case"iframe":case"object":case"embed":Ur("load",r);break;case"video":case"audio":for(i=0;i<Mr.length;i++)Ur(Mr[i],r);break;case"source":Ur("error",r);break;case"img":case"image":case"link":Ur("error",r),Ur("load",r);break;case"details":Ur("toggle",r);break;case"input":X(r,o),Ur("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Ur("invalid",r);break;case"textarea":ie(r,o),Ur("invalid",r)}for(var l in ve(n,o),i=null,o)if(o.hasOwnProperty(l)){var c=o[l];"children"===l?"string"===typeof c?r.textContent!==c&&(!0!==o.suppressHydrationWarning&&$r(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==o.suppressHydrationWarning&&$r(r.textContent,c,e),i=["children",""+c]):a.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&Ur("scroll",r)}switch(n){case"input":H(r),Z(r,o,!0);break;case"textarea":H(r),oe(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=Zr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ae(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[hi]=t,e[fi]=r,Pa(e,t,!1,!1),t.stateNode=e;e:{switch(l=we(n,r),n){case"dialog":Ur("cancel",e),Ur("close",e),i=r;break;case"iframe":case"object":case"embed":Ur("load",e),i=r;break;case"video":case"audio":for(i=0;i<Mr.length;i++)Ur(Mr[i],e);i=r;break;case"source":Ur("error",e),i=r;break;case"img":case"image":case"link":Ur("error",e),Ur("load",e),i=r;break;case"details":Ur("toggle",e),i=r;break;case"input":X(e,r),i=Q(e,r),Ur("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=j({},r,{value:void 0}),Ur("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Ur("invalid",e)}for(o in ve(n,i),c=i)if(c.hasOwnProperty(o)){var u=c[o];"style"===o?ge(e,u):"dangerouslySetInnerHTML"===o?null!=(u=u?u.__html:void 0)&&de(e,u):"children"===o?"string"===typeof u?("textarea"!==n||""!==u)&&he(e,u):"number"===typeof u&&he(e,""+u):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(a.hasOwnProperty(o)?null!=u&&"onScroll"===o&&Ur("scroll",e):null!=u&&w(e,o,u,l))}switch(n){case"input":H(e),Z(e,r,!1);break;case"textarea":H(e),oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+W(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?ne(e,!!r.multiple,o,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Ya(t),null;case 6:if(e&&null!=t.stateNode)Ma(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(s(166));if(n=no(to.current),no(Zs.current),ds(t)){if(r=t.stateNode,n=t.memoizedProps,r[hi]=t,(o=r.nodeValue!==n)&&null!==(e=ns))switch(e.tag){case 3:$r(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&$r(r.nodeValue,n,0!==(1&e.mode))}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[hi]=t,t.stateNode=r}return Ya(t),null;case 13:if(Ti(ao),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(is&&null!==rs&&0!==(1&t.mode)&&0===(128&t.flags))hs(),fs(),t.flags|=98560,o=!1;else if(o=ds(t),null!==r&&null!==r.dehydrated){if(null===e){if(!o)throw Error(s(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(s(317));o[hi]=t}else fs(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Ya(t),o=!1}else null!==ss&&(ac(ss),ss=null),o=!0;if(!o)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&ao.current)?0===Ml&&(Ml=3):gc())),null!==t.updateQueue&&(t.flags|=4),Ya(t),null);case 4:return io(),Da(e,t),null===e&&Br(t.stateNode.containerInfo),Ya(t),null;case 10:return Ss(t.type._context),Ya(t),null;case 19:if(Ti(ao),null===(o=t.memoizedState))return Ya(t),null;if(r=0!==(128&t.flags),null===(l=o.rendering))if(r)Ha(o,!1);else{if(0!==Ml||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=lo(e))){for(t.flags|=128,Ha(o,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(l=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=l.childLanes,o.lanes=l.lanes,o.child=l.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=l.memoizedProps,o.memoizedState=l.memoizedState,o.updateQueue=l.updateQueue,o.type=l.type,e=l.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ki(ao,1&ao.current|2),t.child}e=e.sibling}null!==o.tail&&Je()>ql&&(t.flags|=128,r=!0,Ha(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=lo(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Ha(o,!0),null===o.tail&&"hidden"===o.tailMode&&!l.alternate&&!is)return Ya(t),null}else 2*Je()-o.renderingStartTime>ql&&1073741824!==n&&(t.flags|=128,r=!0,Ha(o,!1),t.lanes=4194304);o.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=o.last)?n.sibling=l:t.child=l,o.last=l)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Je(),t.sibling=null,n=ao.current,ki(ao,r?1&n|2:1&n),t):(Ya(t),null);case 22:case 23:return hc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Dl)&&(Ya(t),6&t.subtreeFlags&&(t.flags|=8192)):Ya(t),null;case 24:case 25:return null}throw Error(s(156,t.tag))}function Qa(e,t){switch(ts(t),t.tag){case 1:return Pi(t.type)&&Di(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return io(),Ti(Ni),Ti(Ci),uo(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return oo(t),null;case 13:if(Ti(ao),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(s(340));fs()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ti(ao),null;case 4:return io(),null;case 10:return Ss(t.type._context),null;case 22:case 23:return hc(),null;default:return null}}Pa=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Da=function(){},Ra=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,no(Zs.current);var s,o=null;switch(n){case"input":i=Q(e,i),r=Q(e,r),o=[];break;case"select":i=j({},i,{value:void 0}),r=j({},r,{value:void 0}),o=[];break;case"textarea":i=re(e,i),r=re(e,r),o=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(u in ve(n,r),n=null,i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&null!=i[u])if("style"===u){var l=i[u];for(s in l)l.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(a.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var c=r[u];if(l=null!=i?i[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(null!=c||null!=l))if("style"===u)if(l){for(s in l)!l.hasOwnProperty(s)||c&&c.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in c)c.hasOwnProperty(s)&&l[s]!==c[s]&&(n||(n={}),n[s]=c[s])}else n||(o||(o=[]),o.push(u,n)),n=c;else"dangerouslySetInnerHTML"===u?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(o=o||[]).push(u,c)):"children"===u?"string"!==typeof c&&"number"!==typeof c||(o=o||[]).push(u,""+c):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(a.hasOwnProperty(u)?(null!=c&&"onScroll"===u&&Ur("scroll",e),o||l===c||(o=[])):(o=o||[]).push(u,c))}n&&(o=o||[]).push("style",n);var u=o;(t.updateQueue=u)&&(t.flags|=4)}},Ma=function(e,t,n,r){n!==r&&(t.flags|=4)};var Xa=!1,Ja=!1,$a="function"===typeof WeakSet?WeakSet:Set,Za=null;function el(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Tc(e,t,r)}else n.current=null}function tl(e,t,n){try{n()}catch(r){Tc(e,t,r)}}var nl=!1;function rl(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,void 0!==s&&tl(t,n,s)}i=i.next}while(i!==r)}}function il(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function sl(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function ol(e){var t=e.alternate;null!==t&&(e.alternate=null,ol(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[hi],delete t[fi],delete t[mi],delete t[gi],delete t[yi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function al(e){return 5===e.tag||3===e.tag||4===e.tag}function ll(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||al(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function cl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(cl(e,t,n),e=e.sibling;null!==e;)cl(e,t,n),e=e.sibling}function ul(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(ul(e,t,n),e=e.sibling;null!==e;)ul(e,t,n),e=e.sibling}var dl=null,hl=!1;function fl(e,t,n){for(n=n.child;null!==n;)pl(e,t,n),n=n.sibling}function pl(e,t,n){if(st&&"function"===typeof st.onCommitFiberUnmount)try{st.onCommitFiberUnmount(it,n)}catch(a){}switch(n.tag){case 5:Ja||el(n,t);case 6:var r=dl,i=hl;dl=null,fl(e,t,n),hl=i,null!==(dl=r)&&(hl?(e=dl,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):dl.removeChild(n.stateNode));break;case 18:null!==dl&&(hl?(e=dl,n=n.stateNode,8===e.nodeType?li(e.parentNode,n):1===e.nodeType&&li(e,n),Bt(e)):li(dl,n.stateNode));break;case 4:r=dl,i=hl,dl=n.stateNode.containerInfo,hl=!0,fl(e,t,n),dl=r,hl=i;break;case 0:case 11:case 14:case 15:if(!Ja&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,void 0!==o&&(0!==(2&s)||0!==(4&s))&&tl(n,t,o),i=i.next}while(i!==r)}fl(e,t,n);break;case 1:if(!Ja&&(el(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Tc(n,t,a)}fl(e,t,n);break;case 21:fl(e,t,n);break;case 22:1&n.mode?(Ja=(r=Ja)||null!==n.memoizedState,fl(e,t,n),Ja=r):fl(e,t,n);break;default:fl(e,t,n)}}function ml(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new $a),t.forEach((function(t){var r=Nc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function gl(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,a=t,l=a;e:for(;null!==l;){switch(l.tag){case 5:dl=l.stateNode,hl=!1;break e;case 3:case 4:dl=l.stateNode.containerInfo,hl=!0;break e}l=l.return}if(null===dl)throw Error(s(160));pl(o,a,i),dl=null,hl=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(u){Tc(i,t,u)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)yl(t,e),t=t.sibling}function yl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(gl(t,e),vl(e),4&r){try{rl(3,e,e.return),il(3,e)}catch(g){Tc(e,e.return,g)}try{rl(5,e,e.return)}catch(g){Tc(e,e.return,g)}}break;case 1:gl(t,e),vl(e),512&r&&null!==n&&el(n,n.return);break;case 5:if(gl(t,e),vl(e),512&r&&null!==n&&el(n,n.return),32&e.flags){var i=e.stateNode;try{he(i,"")}catch(g){Tc(e,e.return,g)}}if(4&r&&null!=(i=e.stateNode)){var o=e.memoizedProps,a=null!==n?n.memoizedProps:o,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===o.type&&null!=o.name&&J(i,o),we(l,a);var u=we(l,o);for(a=0;a<c.length;a+=2){var d=c[a],h=c[a+1];"style"===d?ge(i,h):"dangerouslySetInnerHTML"===d?de(i,h):"children"===d?he(i,h):w(i,d,h,u)}switch(l){case"input":$(i,o);break;case"textarea":se(i,o);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;null!=p?ne(i,!!o.multiple,p,!1):f!==!!o.multiple&&(null!=o.defaultValue?ne(i,!!o.multiple,o.defaultValue,!0):ne(i,!!o.multiple,o.multiple?[]:"",!1))}i[fi]=o}catch(g){Tc(e,e.return,g)}}break;case 6:if(gl(t,e),vl(e),4&r){if(null===e.stateNode)throw Error(s(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(g){Tc(e,e.return,g)}}break;case 3:if(gl(t,e),vl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Bt(t.containerInfo)}catch(g){Tc(e,e.return,g)}break;case 4:default:gl(t,e),vl(e);break;case 13:gl(t,e),vl(e),8192&(i=e.child).flags&&(o=null!==i.memoizedState,i.stateNode.isHidden=o,!o||null!==i.alternate&&null!==i.alternate.memoizedState||(Bl=Je())),4&r&&ml(e);break;case 22:if(d=null!==n&&null!==n.memoizedState,1&e.mode?(Ja=(u=Ja)||d,gl(t,e),Ja=u):gl(t,e),vl(e),8192&r){if(u=null!==e.memoizedState,(e.stateNode.isHidden=u)&&!d&&0!==(1&e.mode))for(Za=e,d=e.child;null!==d;){for(h=Za=d;null!==Za;){switch(p=(f=Za).child,f.tag){case 0:case 11:case 14:case 15:rl(4,f,f.return);break;case 1:el(f,f.return);var m=f.stateNode;if("function"===typeof m.componentWillUnmount){r=f,n=f.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(g){Tc(r,n,g)}}break;case 5:el(f,f.return);break;case 22:if(null!==f.memoizedState){Sl(h);continue}}null!==p?(p.return=f,Za=p):Sl(h)}d=d.sibling}e:for(d=null,h=e;;){if(5===h.tag){if(null===d){d=h;try{i=h.stateNode,u?"function"===typeof(o=i.style).setProperty?o.setProperty("display","none","important"):o.display="none":(l=h.stateNode,a=void 0!==(c=h.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=me("display",a))}catch(g){Tc(e,e.return,g)}}}else if(6===h.tag){if(null===d)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(g){Tc(e,e.return,g)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:gl(t,e),vl(e),4&r&&ml(e);case 21:}}function vl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(al(n)){var r=n;break e}n=n.return}throw Error(s(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(he(i,""),r.flags&=-33),ul(e,ll(e),i);break;case 3:case 4:var o=r.stateNode.containerInfo;cl(e,ll(e),o);break;default:throw Error(s(161))}}catch(a){Tc(e,e.return,a)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function wl(e,t,n){Za=e,bl(e,t,n)}function bl(e,t,n){for(var r=0!==(1&e.mode);null!==Za;){var i=Za,s=i.child;if(22===i.tag&&r){var o=null!==i.memoizedState||Xa;if(!o){var a=i.alternate,l=null!==a&&null!==a.memoizedState||Ja;a=Xa;var c=Ja;if(Xa=o,(Ja=l)&&!c)for(Za=i;null!==Za;)l=(o=Za).child,22===o.tag&&null!==o.memoizedState?El(i):null!==l?(l.return=o,Za=l):El(i);for(;null!==s;)Za=s,bl(s,t,n),s=s.sibling;Za=i,Xa=a,Ja=c}_l(e)}else 0!==(8772&i.subtreeFlags)&&null!==s?(s.return=i,Za=s):_l(e)}}function _l(e){for(;null!==Za;){var t=Za;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Ja||il(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Ja)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:gs(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&Fs(t,o,r);break;case 3:var a=t.updateQueue;if(null!==a){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Fs(t,a,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var d=u.memoizedState;if(null!==d){var h=d.dehydrated;null!==h&&Bt(h)}}}break;default:throw Error(s(163))}Ja||512&t.flags&&sl(t)}catch(f){Tc(t,t.return,f)}}if(t===e){Za=null;break}if(null!==(n=t.sibling)){n.return=t.return,Za=n;break}Za=t.return}}function Sl(e){for(;null!==Za;){var t=Za;if(t===e){Za=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Za=n;break}Za=t.return}}function El(e){for(;null!==Za;){var t=Za;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{il(4,t)}catch(l){Tc(t,n,l)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(l){Tc(t,i,l)}}var s=t.return;try{sl(t)}catch(l){Tc(t,s,l)}break;case 5:var o=t.return;try{sl(t)}catch(l){Tc(t,o,l)}}}catch(l){Tc(t,t.return,l)}if(t===e){Za=null;break}var a=t.sibling;if(null!==a){a.return=t.return,Za=a;break}Za=t.return}}var xl,Tl=Math.ceil,kl=b.ReactCurrentDispatcher,Il=b.ReactCurrentOwner,Cl=b.ReactCurrentBatchConfig,Nl=0,Al=null,Ol=null,Pl=0,Dl=0,Rl=xi(0),Ml=0,Ll=null,jl=0,Fl=0,Ul=0,Vl=null,zl=null,Bl=0,ql=1/0,Wl=null,Gl=!1,Hl=null,Yl=null,Kl=!1,Ql=null,Xl=0,Jl=0,$l=null,Zl=-1,ec=0;function tc(){return 0!==(6&Nl)?Je():-1!==Zl?Zl:Zl=Je()}function nc(e){return 0===(1&e.mode)?1:0!==(2&Nl)&&0!==Pl?Pl&-Pl:null!==ms.transition?(0===ec&&(ec=mt()),ec):0!==(e=wt)?e:e=void 0===(e=window.event)?16:Xt(e.type)}function rc(e,t,n,r){if(50<Jl)throw Jl=0,$l=null,Error(s(185));yt(e,n,r),0!==(2&Nl)&&e===Al||(e===Al&&(0===(2&Nl)&&(Fl|=n),4===Ml&&lc(e,Pl)),ic(e,r),1===n&&0===Nl&&0===(1&t.mode)&&(ql=Je()+500,Ui&&Bi()))}function ic(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var o=31-ot(s),a=1<<o,l=i[o];-1===l?0!==(a&n)&&0===(a&r)||(i[o]=ft(a,t)):l<=t&&(e.expiredLanes|=a),s&=~a}}(e,t);var r=ht(e,e===Al?Pl:0);if(0===r)null!==n&&Ke(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Ke(n),1===t)0===e.tag?function(e){Ui=!0,zi(e)}(cc.bind(null,e)):zi(cc.bind(null,e)),oi((function(){0===(6&Nl)&&Bi()})),n=null;else{switch(bt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Ac(n,sc.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function sc(e,t){if(Zl=-1,ec=0,0!==(6&Nl))throw Error(s(327));var n=e.callbackNode;if(Ec()&&e.callbackNode!==n)return null;var r=ht(e,e===Al?Pl:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=yc(e,r);else{t=r;var i=Nl;Nl|=2;var o=mc();for(Al===e&&Pl===t||(Wl=null,ql=Je()+500,fc(e,t));;)try{wc();break}catch(l){pc(e,l)}_s(),kl.current=o,Nl=i,null!==Ol?t=0:(Al=null,Pl=0,t=Ml)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=oc(e,i))),1===t)throw n=Ll,fc(e,0),lc(e,r),ic(e,Je()),n;if(6===t)lc(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!ar(s(),i))return!1}catch(a){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=yc(e,r))&&(0!==(o=pt(e))&&(r=o,t=oc(e,o))),1===t))throw n=Ll,fc(e,0),lc(e,r),ic(e,Je()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(s(345));case 2:case 5:Sc(e,zl,Wl);break;case 3:if(lc(e,r),(130023424&r)===r&&10<(t=Bl+500-Je())){if(0!==ht(e,0))break;if(((i=e.suspendedLanes)&r)!==r){tc(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(Sc.bind(null,e,zl,Wl),t);break}Sc(e,zl,Wl);break;case 4:if(lc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var a=31-ot(r);o=1<<a,(a=t[a])>i&&(i=a),r&=~o}if(r=i,10<(r=(120>(r=Je()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Tl(r/1960))-r)){e.timeoutHandle=ri(Sc.bind(null,e,zl,Wl),r);break}Sc(e,zl,Wl);break;default:throw Error(s(329))}}}return ic(e,Je()),e.callbackNode===n?sc.bind(null,e):null}function oc(e,t){var n=Vl;return e.current.memoizedState.isDehydrated&&(fc(e,t).flags|=256),2!==(e=yc(e,t))&&(t=zl,zl=n,null!==t&&ac(t)),e}function ac(e){null===zl?zl=e:zl.push.apply(zl,e)}function lc(e,t){for(t&=~Ul,t&=~Fl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),r=1<<n;e[n]=-1,t&=~r}}function cc(e){if(0!==(6&Nl))throw Error(s(327));Ec();var t=ht(e,0);if(0===(1&t))return ic(e,Je()),null;var n=yc(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=oc(e,r))}if(1===n)throw n=Ll,fc(e,0),lc(e,t),ic(e,Je()),n;if(6===n)throw Error(s(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Sc(e,zl,Wl),ic(e,Je()),null}function uc(e,t){var n=Nl;Nl|=1;try{return e(t)}finally{0===(Nl=n)&&(ql=Je()+500,Ui&&Bi())}}function dc(e){null!==Ql&&0===Ql.tag&&0===(6&Nl)&&Ec();var t=Nl;Nl|=1;var n=Cl.transition,r=wt;try{if(Cl.transition=null,wt=1,e)return e()}finally{wt=r,Cl.transition=n,0===(6&(Nl=t))&&Bi()}}function hc(){Dl=Rl.current,Ti(Rl)}function fc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Ol)for(n=Ol.return;null!==n;){var r=n;switch(ts(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Di();break;case 3:io(),Ti(Ni),Ti(Ci),uo();break;case 5:oo(r);break;case 4:io();break;case 13:case 19:Ti(ao);break;case 10:Ss(r.type._context);break;case 22:case 23:hc()}n=n.return}if(Al=e,Ol=e=Rc(e.current,null),Pl=Dl=t,Ml=0,Ll=null,Ul=Fl=jl=0,zl=Vl=null,null!==ks){for(t=0;t<ks.length;t++)if(null!==(r=(n=ks[t]).interleaved)){n.interleaved=null;var i=r.next,s=n.pending;if(null!==s){var o=s.next;s.next=i,r.next=o}n.pending=r}ks=null}return e}function pc(e,t){for(;;){var n=Ol;try{if(_s(),ho.current=oa,vo){for(var r=mo.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}vo=!1}if(po=0,yo=go=mo=null,wo=!1,bo=0,Il.current=null,null===n||null===n.return){Ml=1,Ll=t,Ol=null;break}e:{var o=e,a=n.return,l=n,c=t;if(t=Pl,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var u=c,d=l,h=d.tag;if(0===(1&d.mode)&&(0===h||11===h||15===h)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=ya(a);if(null!==p){p.flags&=-257,va(p,a,l,0,t),1&p.mode&&ga(o,u,t),c=u;var m=(t=p).updateQueue;if(null===m){var g=new Set;g.add(c),t.updateQueue=g}else m.add(c);break e}if(0===(1&t)){ga(o,u,t),gc();break e}c=Error(s(426))}else if(is&&1&l.mode){var y=ya(a);if(null!==y){0===(65536&y.flags)&&(y.flags|=256),va(y,a,l,0,t),ps(ua(c,l));break e}}o=c=ua(c,l),4!==Ml&&(Ml=2),null===Vl?Vl=[o]:Vl.push(o),o=a;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,Ls(o,pa(0,c,t));break e;case 1:l=c;var v=o.type,w=o.stateNode;if(0===(128&o.flags)&&("function"===typeof v.getDerivedStateFromError||null!==w&&"function"===typeof w.componentDidCatch&&(null===Yl||!Yl.has(w)))){o.flags|=65536,t&=-t,o.lanes|=t,Ls(o,ma(o,l,t));break e}}o=o.return}while(null!==o)}_c(n)}catch(b){t=b,Ol===n&&null!==n&&(Ol=n=n.return);continue}break}}function mc(){var e=kl.current;return kl.current=oa,null===e?oa:e}function gc(){0!==Ml&&3!==Ml&&2!==Ml||(Ml=4),null===Al||0===(268435455&jl)&&0===(268435455&Fl)||lc(Al,Pl)}function yc(e,t){var n=Nl;Nl|=2;var r=mc();for(Al===e&&Pl===t||(Wl=null,fc(e,t));;)try{vc();break}catch(i){pc(e,i)}if(_s(),Nl=n,kl.current=r,null!==Ol)throw Error(s(261));return Al=null,Pl=0,Ml}function vc(){for(;null!==Ol;)bc(Ol)}function wc(){for(;null!==Ol&&!Qe();)bc(Ol)}function bc(e){var t=xl(e.alternate,e,Dl);e.memoizedProps=e.pendingProps,null===t?_c(e):Ol=t,Il.current=null}function _c(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Ka(n,t,Dl)))return void(Ol=n)}else{if(null!==(n=Qa(n,t)))return n.flags&=32767,void(Ol=n);if(null===e)return Ml=6,void(Ol=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Ol=t);Ol=t=e}while(null!==t);0===Ml&&(Ml=5)}function Sc(e,t,n){var r=wt,i=Cl.transition;try{Cl.transition=null,wt=1,function(e,t,n,r){do{Ec()}while(null!==Ql);if(0!==(6&Nl))throw Error(s(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(s(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ot(n),s=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~s}}(e,o),e===Al&&(Ol=Al=null,Pl=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Kl||(Kl=!0,Ac(tt,(function(){return Ec(),null}))),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=Cl.transition,Cl.transition=null;var a=wt;wt=1;var l=Nl;Nl|=4,Il.current=null,function(e,t){if(ei=Wt,fr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(_){n=null;break e}var a=0,l=-1,c=-1,u=0,d=0,h=e,f=null;t:for(;;){for(var p;h!==n||0!==i&&3!==h.nodeType||(l=a+i),h!==o||0!==r&&3!==h.nodeType||(c=a+r),3===h.nodeType&&(a+=h.nodeValue.length),null!==(p=h.firstChild);)f=h,h=p;for(;;){if(h===e)break t;if(f===n&&++u===i&&(l=a),f===o&&++d===r&&(c=a),null!==(p=h.nextSibling))break;f=(h=f).parentNode}h=p}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Wt=!1,Za=t;null!==Za;)if(e=(t=Za).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Za=e;else for(;null!==Za;){t=Za;try{var m=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var g=m.memoizedProps,y=m.memoizedState,v=t.stateNode,w=v.getSnapshotBeforeUpdate(t.elementType===t.type?g:gs(t.type,g),y);v.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var b=t.stateNode.containerInfo;1===b.nodeType?b.textContent="":9===b.nodeType&&b.documentElement&&b.removeChild(b.documentElement);break;default:throw Error(s(163))}}catch(_){Tc(t,t.return,_)}if(null!==(e=t.sibling)){e.return=t.return,Za=e;break}Za=t.return}m=nl,nl=!1}(e,n),yl(n,e),pr(ti),Wt=!!ei,ti=ei=null,e.current=n,wl(n,e,i),Xe(),Nl=l,wt=a,Cl.transition=o}else e.current=n;if(Kl&&(Kl=!1,Ql=e,Xl=i),o=e.pendingLanes,0===o&&(Yl=null),function(e){if(st&&"function"===typeof st.onCommitFiberRoot)try{st.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),ic(e,Je()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Gl)throw Gl=!1,e=Hl,Hl=null,e;0!==(1&Xl)&&0!==e.tag&&Ec(),o=e.pendingLanes,0!==(1&o)?e===$l?Jl++:(Jl=0,$l=e):Jl=0,Bi()}(e,t,n,r)}finally{Cl.transition=i,wt=r}return null}function Ec(){if(null!==Ql){var e=bt(Xl),t=Cl.transition,n=wt;try{if(Cl.transition=null,wt=16>e?16:e,null===Ql)var r=!1;else{if(e=Ql,Ql=null,Xl=0,0!==(6&Nl))throw Error(s(331));var i=Nl;for(Nl|=4,Za=e.current;null!==Za;){var o=Za,a=o.child;if(0!==(16&Za.flags)){var l=o.deletions;if(null!==l){for(var c=0;c<l.length;c++){var u=l[c];for(Za=u;null!==Za;){var d=Za;switch(d.tag){case 0:case 11:case 15:rl(8,d,o)}var h=d.child;if(null!==h)h.return=d,Za=h;else for(;null!==Za;){var f=(d=Za).sibling,p=d.return;if(ol(d),d===u){Za=null;break}if(null!==f){f.return=p,Za=f;break}Za=p}}}var m=o.alternate;if(null!==m){var g=m.child;if(null!==g){m.child=null;do{var y=g.sibling;g.sibling=null,g=y}while(null!==g)}}Za=o}}if(0!==(2064&o.subtreeFlags)&&null!==a)a.return=o,Za=a;else e:for(;null!==Za;){if(0!==(2048&(o=Za).flags))switch(o.tag){case 0:case 11:case 15:rl(9,o,o.return)}var v=o.sibling;if(null!==v){v.return=o.return,Za=v;break e}Za=o.return}}var w=e.current;for(Za=w;null!==Za;){var b=(a=Za).child;if(0!==(2064&a.subtreeFlags)&&null!==b)b.return=a,Za=b;else e:for(a=w;null!==Za;){if(0!==(2048&(l=Za).flags))try{switch(l.tag){case 0:case 11:case 15:il(9,l)}}catch(S){Tc(l,l.return,S)}if(l===a){Za=null;break e}var _=l.sibling;if(null!==_){_.return=l.return,Za=_;break e}Za=l.return}}if(Nl=i,Bi(),st&&"function"===typeof st.onPostCommitFiberRoot)try{st.onPostCommitFiberRoot(it,e)}catch(S){}r=!0}return r}finally{wt=n,Cl.transition=t}}return!1}function xc(e,t,n){e=Rs(e,t=pa(0,t=ua(n,t),1),1),t=tc(),null!==e&&(yt(e,1,t),ic(e,t))}function Tc(e,t,n){if(3===e.tag)xc(e,e,n);else for(;null!==t;){if(3===t.tag){xc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Yl||!Yl.has(r))){t=Rs(t,e=ma(t,e=ua(n,e),1),1),e=tc(),null!==t&&(yt(t,1,e),ic(t,e));break}}t=t.return}}function kc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=tc(),e.pingedLanes|=e.suspendedLanes&n,Al===e&&(Pl&n)===n&&(4===Ml||3===Ml&&(130023424&Pl)===Pl&&500>Je()-Bl?fc(e,0):Ul|=n),ic(e,t)}function Ic(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ut,0===(130023424&(ut<<=1))&&(ut=4194304)));var n=tc();null!==(e=Ns(e,t))&&(yt(e,t,n),ic(e,n))}function Cc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Ic(e,n)}function Nc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(s(314))}null!==r&&r.delete(t),Ic(e,n)}function Ac(e,t){return Ye(e,t)}function Oc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pc(e,t,n,r){return new Oc(e,t,n,r)}function Dc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Rc(e,t){var n=e.alternate;return null===n?((n=Pc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Mc(e,t,n,r,i,o){var a=2;if(r=e,"function"===typeof e)Dc(e)&&(a=1);else if("string"===typeof e)a=5;else e:switch(e){case E:return Lc(n.children,i,o,t);case x:a=8,i|=8;break;case T:return(e=Pc(12,n,t,2|i)).elementType=T,e.lanes=o,e;case N:return(e=Pc(13,n,t,i)).elementType=N,e.lanes=o,e;case A:return(e=Pc(19,n,t,i)).elementType=A,e.lanes=o,e;case D:return jc(n,i,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case k:a=10;break e;case I:a=9;break e;case C:a=11;break e;case O:a=14;break e;case P:a=16,r=null;break e}throw Error(s(130,null==e?e:typeof e,""))}return(t=Pc(a,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Lc(e,t,n,r){return(e=Pc(7,e,r,t)).lanes=n,e}function jc(e,t,n,r){return(e=Pc(22,e,r,t)).elementType=D,e.lanes=n,e.stateNode={isHidden:!1},e}function Fc(e,t,n){return(e=Pc(6,e,null,t)).lanes=n,e}function Uc(e,t,n){return(t=Pc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Vc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function zc(e,t,n,r,i,s,o,a,l){return e=new Vc(e,t,n,a,l),1===t?(t=1,!0===s&&(t|=8)):t=0,s=Pc(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Os(s),e}function Bc(e){if(!e)return Ii;e:{if(Be(e=e._reactInternals)!==e||1!==e.tag)throw Error(s(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Pi(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(s(171))}if(1===e.tag){var n=e.type;if(Pi(n))return Mi(e,n,t)}return t}function qc(e,t,n,r,i,s,o,a,l){return(e=zc(n,r,!0,e,0,s,0,a,l)).context=Bc(null),n=e.current,(s=Ds(r=tc(),i=nc(n))).callback=void 0!==t&&null!==t?t:null,Rs(n,s,i),e.current.lanes=i,yt(e,i,r),ic(e,r),e}function Wc(e,t,n,r){var i=t.current,s=tc(),o=nc(i);return n=Bc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Ds(s,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Rs(i,t,o))&&(rc(e,i,o,s),Ms(e,i,o)),o}function Gc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Hc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Yc(e,t){Hc(e,t),(e=e.alternate)&&Hc(e,t)}xl=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ni.current)ba=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return ba=!1,function(e,t,n){switch(t.tag){case 3:Aa(t),fs();break;case 5:so(t);break;case 1:Pi(t.type)&&Li(t);break;case 4:ro(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;ki(ys,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(ki(ao,1&ao.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Fa(e,t,n):(ki(ao,1&ao.current),null!==(e=Ga(e,t,n))?e.sibling:null);ki(ao,1&ao.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return qa(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),ki(ao,ao.current),r)break;return null;case 22:case 23:return t.lanes=0,Ta(e,t,n)}return Ga(e,t,n)}(e,t,n);ba=0!==(131072&e.flags)}else ba=!1,is&&0!==(1048576&t.flags)&&Zi(t,Hi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Wa(e,t),e=t.pendingProps;var i=Oi(t,Ci.current);xs(t,n),i=xo(null,t,r,e,i,n);var o=To();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Pi(r)?(o=!0,Li(t)):o=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Os(t),i.updater=zs,t.stateNode=i,i._reactInternals=t,Gs(t,r,e,n),t=Na(null,t,r,!0,o,n)):(t.tag=0,is&&o&&es(t),_a(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Wa(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Dc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===C)return 11;if(e===O)return 14}return 2}(r),e=gs(r,e),i){case 0:t=Ia(null,t,r,e,n);break e;case 1:t=Ca(null,t,r,e,n);break e;case 11:t=Sa(null,t,r,e,n);break e;case 14:t=Ea(null,t,r,gs(r.type,e),n);break e}throw Error(s(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Ia(e,t,r,i=t.elementType===r?i:gs(r,i),n);case 1:return r=t.type,i=t.pendingProps,Ca(e,t,r,i=t.elementType===r?i:gs(r,i),n);case 3:e:{if(Aa(t),null===e)throw Error(s(387));r=t.pendingProps,i=(o=t.memoizedState).element,Ps(e,t),js(t,r,null,n);var a=t.memoizedState;if(r=a.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Oa(e,t,r,n,i=ua(Error(s(423)),t));break e}if(r!==i){t=Oa(e,t,r,n,i=ua(Error(s(424)),t));break e}for(rs=ci(t.stateNode.containerInfo.firstChild),ns=t,is=!0,ss=null,n=Js(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(fs(),r===i){t=Ga(e,t,n);break e}_a(e,t,r,n)}t=t.child}return t;case 5:return so(t),null===e&&cs(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,a=i.children,ni(r,i)?a=null:null!==o&&ni(r,o)&&(t.flags|=32),ka(e,t),_a(e,t,a,n),t.child;case 6:return null===e&&cs(t),null;case 13:return Fa(e,t,n);case 4:return ro(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Xs(t,null,r,n):_a(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Sa(e,t,r,i=t.elementType===r?i:gs(r,i),n);case 7:return _a(e,t,t.pendingProps,n),t.child;case 8:case 12:return _a(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,a=i.value,ki(ys,r._currentValue),r._currentValue=a,null!==o)if(ar(o.value,a)){if(o.children===i.children&&!Ni.current){t=Ga(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var l=o.dependencies;if(null!==l){a=o.child;for(var c=l.firstContext;null!==c;){if(c.context===r){if(1===o.tag){(c=Ds(-1,n&-n)).tag=2;var u=o.updateQueue;if(null!==u){var d=(u=u.shared).pending;null===d?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}o.lanes|=n,null!==(c=o.alternate)&&(c.lanes|=n),Es(o.return,n,t),l.lanes|=n;break}c=c.next}}else if(10===o.tag)a=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(a=o.return))throw Error(s(341));a.lanes|=n,null!==(l=a.alternate)&&(l.lanes|=n),Es(a,n,t),a=o.sibling}else a=o.child;if(null!==a)a.return=o;else for(a=o;null!==a;){if(a===t){a=null;break}if(null!==(o=a.sibling)){o.return=a.return,a=o;break}a=a.return}o=a}_a(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,xs(t,n),r=r(i=Ts(i)),t.flags|=1,_a(e,t,r,n),t.child;case 14:return i=gs(r=t.type,t.pendingProps),Ea(e,t,r,i=gs(r.type,i),n);case 15:return xa(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:gs(r,i),Wa(e,t),t.tag=1,Pi(r)?(e=!0,Li(t)):e=!1,xs(t,n),qs(t,r,i),Gs(t,r,i,n),Na(null,t,r,!0,e,n);case 19:return qa(e,t,n);case 22:return Ta(e,t,n)}throw Error(s(156,t.tag))};var Kc="function"===typeof reportError?reportError:function(e){console.error(e)};function Qc(e){this._internalRoot=e}function Xc(e){this._internalRoot=e}function Jc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function $c(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Zc(){}function eu(e,t,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if("function"===typeof i){var a=i;i=function(){var e=Gc(o);a.call(e)}}Wc(t,o,e,i)}else o=function(e,t,n,r,i){if(i){if("function"===typeof r){var s=r;r=function(){var e=Gc(o);s.call(e)}}var o=qc(t,r,e,0,null,!1,0,"",Zc);return e._reactRootContainer=o,e[pi]=o.current,Br(8===e.nodeType?e.parentNode:e),dc(),o}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var a=r;r=function(){var e=Gc(l);a.call(e)}}var l=zc(e,0,!1,null,0,!1,0,"",Zc);return e._reactRootContainer=l,e[pi]=l.current,Br(8===e.nodeType?e.parentNode:e),dc((function(){Wc(t,l,n,r)})),l}(n,t,e,i,r);return Gc(o)}Xc.prototype.render=Qc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(s(409));Wc(e,t,null,null)},Xc.prototype.unmount=Qc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;dc((function(){Wc(null,e,null,null)})),t[pi]=null}},Xc.prototype.unstable_scheduleHydration=function(e){if(e){var t=xt();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Dt.length&&0!==t&&t<Dt[n].priority;n++);Dt.splice(n,0,e),0===n&&jt(e)}},_t=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=dt(t.pendingLanes);0!==n&&(vt(t,1|n),ic(t,Je()),0===(6&Nl)&&(ql=Je()+500,Bi()))}break;case 13:dc((function(){var t=Ns(e,1);if(null!==t){var n=tc();rc(t,e,1,n)}})),Yc(e,1)}},St=function(e){if(13===e.tag){var t=Ns(e,134217728);if(null!==t)rc(t,e,134217728,tc());Yc(e,134217728)}},Et=function(e){if(13===e.tag){var t=nc(e),n=Ns(e,t);if(null!==n)rc(n,e,t,tc());Yc(e,t)}},xt=function(){return wt},Tt=function(e,t){var n=wt;try{return wt=e,t()}finally{wt=n}},Se=function(e,t,n){switch(t){case"input":if($(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=_i(r);if(!i)throw Error(s(90));Y(r),$(r,i)}}}break;case"textarea":se(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ce=uc,Ne=dc;var tu={usingClientEntryPoint:!1,Events:[wi,bi,_i,ke,Ie,uc]},nu={findFiberByHostInstance:vi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},ru={bundleType:nu.bundleType,version:nu.version,rendererPackageName:nu.rendererPackageName,rendererConfig:nu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ge(e))?null:e.stateNode},findFiberByHostInstance:nu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var iu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!iu.isDisabled&&iu.supportsFiber)try{it=iu.inject(ru),st=iu}catch(ue){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tu,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Jc(t))throw Error(s(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:S,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Jc(e))throw Error(s(299));var n=!1,r="",i=Kc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=zc(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,Br(8===e.nodeType?e.parentNode:e),new Qc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(s(188));throw e=Object.keys(e).join(","),Error(s(268,e))}return e=null===(e=Ge(t))?null:e.stateNode},t.flushSync=function(e){return dc(e)},t.hydrate=function(e,t,n){if(!$c(t))throw Error(s(200));return eu(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Jc(e))throw Error(s(405));var r=null!=n&&n.hydratedSources||null,i=!1,o="",a=Kc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(a=n.onRecoverableError)),t=qc(t,null,e,1,null!=n?n:null,i,0,o,a),e[pi]=t.current,Br(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Xc(t)},t.render=function(e,t,n){if(!$c(t))throw Error(s(200));return eu(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!$c(e))throw Error(s(40));return!!e._reactRootContainer&&(dc((function(){eu(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=uc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!$c(n))throw Error(s(200));if(null==e||void 0===e._reactInternals)throw Error(s(38));return eu(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},250:(e,t,n)=>{"use strict";var r=n(164);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},164:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(463)},374:(e,t,n)=>{"use strict";var r=n(791),i=Symbol.for("react.element"),s=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,s={},c=null,u=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)o.call(t,r)&&!l.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===s[r]&&(s[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:u,props:s,_owner:a.current}}t.Fragment=s,t.jsx=c,t.jsxs=c},117:(e,t)=>{"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),f=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function y(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}function v(){}function w(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},v.prototype=y.prototype;var b=w.prototype=new v;b.constructor=w,m(b,y.prototype),b.isPureReactComponent=!0;var _=Array.isArray,S=Object.prototype.hasOwnProperty,E={current:null},x={key:!0,ref:!0,__self:!0,__source:!0};function T(e,t,r){var i,s={},o=null,a=null;if(null!=t)for(i in void 0!==t.ref&&(a=t.ref),void 0!==t.key&&(o=""+t.key),t)S.call(t,i)&&!x.hasOwnProperty(i)&&(s[i]=t[i]);var l=arguments.length-2;if(1===l)s.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(i in l=e.defaultProps)void 0===s[i]&&(s[i]=l[i]);return{$$typeof:n,type:e,key:o,ref:a,props:s,_owner:E.current}}function k(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var I=/\/+/g;function C(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function N(e,t,i,s,o){var a=typeof e;"undefined"!==a&&"boolean"!==a||(e=null);var l=!1;if(null===e)l=!0;else switch(a){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return o=o(l=e),e=""===s?"."+C(l,0):s,_(o)?(i="",null!=e&&(i=e.replace(I,"$&/")+"/"),N(o,t,i,"",(function(e){return e}))):null!=o&&(k(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,i+(!o.key||l&&l.key===o.key?"":(""+o.key).replace(I,"$&/")+"/")+e)),t.push(o)),1;if(l=0,s=""===s?".":s+":",_(e))for(var c=0;c<e.length;c++){var u=s+C(a=e[c],c);l+=N(a,t,i,u,o)}else if(u=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e),"function"===typeof u)for(e=u.call(e),c=0;!(a=e.next()).done;)l+=N(a=a.value,t,i,u=s+C(a,c++),o);else if("object"===a)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function A(e,t,n){if(null==e)return e;var r=[],i=0;return N(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function O(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var P={current:null},D={transition:null},R={ReactCurrentDispatcher:P,ReactCurrentBatchConfig:D,ReactCurrentOwner:E};t.Children={map:A,forEach:function(e,t,n){A(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return A(e,(function(){t++})),t},toArray:function(e){return A(e,(function(e){return e}))||[]},only:function(e){if(!k(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=i,t.Profiler=o,t.PureComponent=w,t.StrictMode=s,t.Suspense=u,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=R,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=m({},e.props),s=e.key,o=e.ref,a=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,a=E.current),void 0!==t.key&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)S.call(t,c)&&!x.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];i.children=l}return{$$typeof:n,type:e.type,key:s,ref:o,props:i,_owner:a}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:a,_context:e},e.Consumer=e},t.createElement=T,t.createFactory=function(e){var t=T.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=k,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:O}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=D.transition;D.transition={};try{e()}finally{D.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return P.current.useCallback(e,t)},t.useContext=function(e){return P.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return P.current.useDeferredValue(e)},t.useEffect=function(e,t){return P.current.useEffect(e,t)},t.useId=function(){return P.current.useId()},t.useImperativeHandle=function(e,t,n){return P.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return P.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return P.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return P.current.useMemo(e,t)},t.useReducer=function(e,t,n){return P.current.useReducer(e,t,n)},t.useRef=function(e){return P.current.useRef(e)},t.useState=function(e){return P.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return P.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return P.current.useTransition()},t.version="18.2.0"},791:(e,t,n)=>{"use strict";e.exports=n(117)},184:(e,t,n)=>{"use strict";e.exports=n(374)},813:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<s(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var a=2*(r+1)-1,l=e[a],c=a+1,u=e[c];if(0>s(l,n))c<i&&0>s(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[a]=n,r=a);else{if(!(c<i&&0>s(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function s(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}var c=[],u=[],d=1,h=null,f=3,p=!1,m=!1,g=!1,y="function"===typeof setTimeout?setTimeout:null,v="function"===typeof clearTimeout?clearTimeout:null,w="undefined"!==typeof setImmediate?setImmediate:null;function b(e){for(var t=r(u);null!==t;){if(null===t.callback)i(u);else{if(!(t.startTime<=e))break;i(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function _(e){if(g=!1,b(e),!m)if(null!==r(c))m=!0,D(S);else{var t=r(u);null!==t&&R(_,t.startTime-e)}}function S(e,n){m=!1,g&&(g=!1,v(k),k=-1),p=!0;var s=f;try{for(b(n),h=r(c);null!==h&&(!(h.expirationTime>n)||e&&!N());){var o=h.callback;if("function"===typeof o){h.callback=null,f=h.priorityLevel;var a=o(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof a?h.callback=a:h===r(c)&&i(c),b(n)}else i(c);h=r(c)}if(null!==h)var l=!0;else{var d=r(u);null!==d&&R(_,d.startTime-n),l=!1}return l}finally{h=null,f=s,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var E,x=!1,T=null,k=-1,I=5,C=-1;function N(){return!(t.unstable_now()-C<I)}function A(){if(null!==T){var e=t.unstable_now();C=e;var n=!0;try{n=T(!0,e)}finally{n?E():(x=!1,T=null)}}else x=!1}if("function"===typeof w)E=function(){w(A)};else if("undefined"!==typeof MessageChannel){var O=new MessageChannel,P=O.port2;O.port1.onmessage=A,E=function(){P.postMessage(null)}}else E=function(){y(A,0)};function D(e){T=e,x||(x=!0,E())}function R(e,n){k=y((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,D(S))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,i,s){var o=t.unstable_now();switch("object"===typeof s&&null!==s?s="number"===typeof(s=s.delay)&&0<s?o+s:o:s=o,e){case 1:var a=-1;break;case 2:a=250;break;case 5:a=1073741823;break;case 4:a=1e4;break;default:a=5e3}return e={id:d++,callback:i,priorityLevel:e,startTime:s,expirationTime:a=s+a,sortIndex:-1},s>o?(e.sortIndex=s,n(u,e),null===r(c)&&e===r(u)&&(g?(v(k),k=-1):g=!0,R(_,s-o))):(e.sortIndex=a,n(c,e),m||p||(m=!0,D(S))),e},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},296:(e,t,n)=>{"use strict";e.exports=n(813)},637:(e,t,n)=>{"use strict";var r=n(791);var i="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},s=r.useSyncExternalStore,o=r.useRef,a=r.useEffect,l=r.useMemo,c=r.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,n,r,u){var d=o(null);if(null===d.current){var h={hasValue:!1,value:null};d.current=h}else h=d.current;d=l((function(){function e(e){if(!a){if(a=!0,s=e,e=r(e),void 0!==u&&h.hasValue){var t=h.value;if(u(t,e))return o=t}return o=e}if(t=o,i(s,e))return t;var n=r(e);return void 0!==u&&u(t,n)?t:(s=e,o=n)}var s,o,a=!1,l=void 0===n?null:n;return[function(){return e(t())},null===l?void 0:function(){return e(l())}]}),[t,n,r,u]);var f=s(e,d[0],d[1]);return a((function(){h.hasValue=!0,h.value=f}),[f]),c(f),f}},995:(e,t,n)=>{"use strict";e.exports=n(637)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var s=t[r]={id:r,loaded:!1,exports:{}};return e[r].call(s.exports,s,s.exports,n),s.loaded=!0,s.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var s=Object.create(null);n.r(s);var o={};e=e||[null,t({}),t([]),t(t)];for(var a=2&i&&r;"object"==typeof a&&!~e.indexOf(a);a=t(a))Object.getOwnPropertyNames(a).forEach((e=>o[e]=()=>r[e]));return o.default=()=>r,n.d(s,o),s}})(),n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),(()=>{"use strict";var e={};n.r(e),n.d(e,{FirebaseError:()=>ar,SDK_VERSION:()=>ui,_DEFAULT_ENTRY_NAME:()=>$r,_addComponent:()=>ni,_addOrOverwriteComponent:()=>ri,_apps:()=>ei,_clearComponents:()=>ai,_components:()=>ti,_getProvider:()=>si,_registerComponent:()=>ii,_removeServiceInstance:()=>oi,deleteApp:()=>pi,getApp:()=>hi,getApps:()=>fi,initializeApp:()=>di,onLog:()=>gi,registerVersion:()=>mi,setLogLevel:()=>yi});var t={};n.r(t),n.d(t,{hasBrowserEnv:()=>HC,hasStandardBrowserEnv:()=>YC,hasStandardBrowserWebWorkerEnv:()=>QC});var r=n(791),i=n.t(r,2),s=n(250),o=n(995),a=r,l=Symbol.for("react-redux-context"),c="undefined"!==typeof globalThis?globalThis:{};function u(){var e;if(!a.createContext)return{};const t=null!==(e=c[l])&&void 0!==e?e:c[l]=new Map;let n=t.get(a.createContext);return n||(n=a.createContext(null),t.set(a.createContext,n)),n}var d=u(),h=()=>{throw new Error("uSES not initialized!")};function f(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d;return function(){return a.useContext(e)}}var p=f(),m=h,g=(e,t)=>e===t;function y(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d;const t=e===d?p:f(e);return function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{equalityFn:r=g,devModeChecks:i={}}="function"===typeof n?{equalityFn:n}:n;const{store:s,subscription:o,getServerState:l,stabilityCheck:c,identityFunctionCheck:u}=t(),d=(a.useRef(!0),a.useCallback({[e.name]:t=>e(t)}[e.name],[e,c,i.stabilityCheck])),h=m(o.addNestedSub,s.getState,l||s.getState,d,r);return a.useDebugValue(h),h}}var v=y();Symbol.for("react.element"),Symbol.for("react.portal"),Symbol.for("react.fragment"),Symbol.for("react.strict_mode"),Symbol.for("react.profiler"),Symbol.for("react.provider"),Symbol.for("react.context"),Symbol.for("react.server_context"),Symbol.for("react.forward_ref"),Symbol.for("react.suspense"),Symbol.for("react.suspense_list"),Symbol.for("react.memo"),Symbol.for("react.lazy"),Symbol.for("react.offscreen"),Symbol.for("react.client.reference");function w(e){e()}var b={notify(){},get:()=>[]};function _(e,t){let n,r=b,i=0,s=!1;function o(){c.onStateChange&&c.onStateChange()}function a(){i++,n||(n=t?t.addNestedSub(o):e.subscribe(o),r=function(){let e=null,t=null;return{clear(){e=null,t=null},notify(){w((()=>{let t=e;for(;t;)t.callback(),t=t.next}))},get(){let t=[],n=e;for(;n;)t.push(n),n=n.next;return t},subscribe(n){let r=!0,i=t={callback:n,next:null,prev:t};return i.prev?i.prev.next=i:e=i,function(){r&&null!==e&&(r=!1,i.next?i.next.prev=i.prev:t=i.prev,i.prev?i.prev.next=i.next:e=i.next)}}}}())}function l(){i--,n&&0===i&&(n(),n=void 0,r.clear(),r=b)}const c={addNestedSub:function(e){a();const t=r.subscribe(e);let n=!1;return()=>{n||(n=!0,t(),l())}},notifyNestedSubs:function(){r.notify()},handleChangeWrapper:o,isSubscribed:function(){return s},trySubscribe:function(){s||(s=!0,a())},tryUnsubscribe:function(){s&&(s=!1,l())},getListeners:()=>r};return c}var S=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement)?a.useLayoutEffect:a.useEffect;Object.defineProperty,Object.getOwnPropertyNames,Object.getOwnPropertySymbols,Object.getOwnPropertyDescriptor,Object.getPrototypeOf,Object.prototype;var E=function(e){let{store:t,context:n,children:r,serverState:i,stabilityCheck:s="once",identityFunctionCheck:o="once"}=e;const l=a.useMemo((()=>{const e=_(t);return{store:t,subscription:e,getServerState:i?()=>i:void 0,stabilityCheck:s,identityFunctionCheck:o}}),[t,i,s,o]),c=a.useMemo((()=>t.getState()),[t]);S((()=>{const{subscription:e}=l;return e.onStateChange=e.notifyNestedSubs,e.trySubscribe(),c!==t.getState()&&e.notifyNestedSubs(),()=>{e.tryUnsubscribe(),e.onStateChange=void 0}}),[l,c]);const u=n||d;return a.createElement(u.Provider,{value:l},r)};function x(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d;const t=e===d?p:f(e);return function(){const{store:e}=t();return e}}var T=x();function k(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d;const t=e===d?T:x(e);return function(){return t().dispatch}}var I,C=k();I=o.useSyncExternalStoreWithSelector,m=I,(e=>{e})(r.useSyncExternalStore);var N,A=n(164),O=n.t(A,2);function P(){return P=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},P.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(N||(N={}));const D="popstate";function R(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function M(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function L(e,t){return{usr:e.state,key:e.key,idx:t}}function j(e,t,n,r){return void 0===n&&(n=null),P({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?U(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function F(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function U(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function V(e,t,n,r){void 0===r&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=N.Pop,l=null,c=u();function u(){return(o.state||{idx:null}).idx}function d(){a=N.Pop;let e=u(),t=null==e?null:e-c;c=e,l&&l({action:a,location:f.location,delta:t})}function h(e){let t="null"!==i.location.origin?i.location.origin:i.location.href,n="string"===typeof e?e:F(e);return R(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==c&&(c=0,o.replaceState(P({},o.state,{idx:c}),""));let f={get action(){return a},get location(){return e(i,o)},listen(e){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(D,d),l=e,()=>{i.removeEventListener(D,d),l=null}},createHref:e=>t(i,e),createURL:h,encodeLocation(e){let t=h(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){a=N.Push;let r=j(f.location,e,t);n&&n(r,e),c=u()+1;let d=L(r,c),h=f.createHref(r);try{o.pushState(d,"",h)}catch(p){if(p instanceof DOMException&&"DataCloneError"===p.name)throw p;i.location.assign(h)}s&&l&&l({action:a,location:f.location,delta:1})},replace:function(e,t){a=N.Replace;let r=j(f.location,e,t);n&&n(r,e),c=u();let i=L(r,c),d=f.createHref(r);o.replaceState(i,"",d),s&&l&&l({action:a,location:f.location,delta:0})},go:e=>o.go(e)};return f}var z;!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(z||(z={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function B(e,t,n){void 0===n&&(n="/");let r=ne(("string"===typeof t?U(t):t).pathname||"/",n);if(null==r)return null;let i=q(e);!function(e){e.sort(((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every(((e,n)=>e===t[n]));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((e=>e.childrenIndex)),t.routesMeta.map((e=>e.childrenIndex)))))}(i);let s=null;for(let o=0;null==s&&o<i.length;++o)s=Z(i[o],te(r));return s}function q(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");let i=(e,i,s)=>{let o={relativePath:void 0===s?e.path||"":s,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};o.relativePath.startsWith("/")&&(R(o.relativePath.startsWith(r),'Absolute route path "'+o.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),o.relativePath=o.relativePath.slice(r.length));let a=oe([r,o.relativePath]),l=n.concat(o);e.children&&e.children.length>0&&(R(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+a+'".'),q(e.children,t,l,a)),(null!=e.path||e.index)&&t.push({path:a,score:$(a,e.index),routesMeta:l})};return e.forEach(((e,t)=>{var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?"))for(let r of W(e.path))i(e,t,r);else i(e,t)})),t}function W(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(0===r.length)return i?[s,""]:[s];let o=W(r.join("/")),a=[];return a.push(...o.map((e=>""===e?s:[s,e].join("/")))),i&&a.push(...o),a.map((t=>e.startsWith("/")&&""===t?"/":t))}const G=/^:\w+$/,H=3,Y=2,K=1,Q=10,X=-2,J=e=>"*"===e;function $(e,t){let n=e.split("/"),r=n.length;return n.some(J)&&(r+=X),t&&(r+=Y),n.filter((e=>!J(e))).reduce(((e,t)=>e+(G.test(t)?H:""===t?K:Q)),r)}function Z(e,t){let{routesMeta:n}=e,r={},i="/",s=[];for(let o=0;o<n.length;++o){let e=n[o],a=o===n.length-1,l="/"===i?t:t.slice(i.length)||"/",c=ee({path:e.relativePath,caseSensitive:e.caseSensitive,end:a},l);if(!c)return null;Object.assign(r,c.params);let u=e.route;s.push({params:r,pathname:oe([i,c.pathname]),pathnameBase:ae(oe([i,c.pathnameBase])),route:u}),"/"!==c.pathnameBase&&(i=oe([i,c.pathnameBase]))}return s}function ee(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);M("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:(\w+)(\?)?/g,((e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)")));e.endsWith("*")?(r.push({paramName:"*"}),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");let s=new RegExp(i,t?void 0:"i");return[s,r]}(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce(((e,t,n)=>{let{paramName:r,isOptional:i}=t;if("*"===r){let e=a[n]||"";o=s.slice(0,s.length-e.length).replace(/(.)\/+$/,"$1")}const l=a[n];return e[r]=i&&!l?void 0:function(e,t){try{return decodeURIComponent(e)}catch(n){return M(!1,'The value for the URL param "'+t+'" will not be decoded because the string "'+e+'" is a malformed URL segment. This is probably due to a bad percent encoding ('+n+")."),e}}(l||"",r),e}),{}),pathname:s,pathnameBase:o,pattern:e}}function te(e){try{return decodeURI(e)}catch(t){return M(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function ne(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function re(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function ie(e){return e.filter(((e,t)=>0===t||e.route.path&&e.route.path.length>0))}function se(e,t,n,r){let i;void 0===r&&(r=!1),"string"===typeof e?i=U(e):(i=P({},e),R(!i.pathname||!i.pathname.includes("?"),re("?","pathname","search",i)),R(!i.pathname||!i.pathname.includes("#"),re("#","pathname","hash",i)),R(!i.search||!i.search.includes("#"),re("#","search","hash",i)));let s,o=""===e||""===i.pathname,a=o?"/":i.pathname;if(null==a)s=n;else if(r){let e=t[t.length-1].replace(/^\//,"").split("/");if(a.startsWith("..")){let t=a.split("/");for(;".."===t[0];)t.shift(),e.pop();i.pathname=t.join("/")}s="/"+e.join("/")}else{let e=t.length-1;if(a.startsWith("..")){let t=a.split("/");for(;".."===t[0];)t.shift(),e-=1;i.pathname=t.join("/")}s=e>=0?t[e]:"/"}let l=function(e,t){void 0===t&&(t="/");let{pathname:n,search:r="",hash:i=""}="string"===typeof e?U(e):e,s=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:s,search:le(r),hash:ce(i)}}(i,s),c=a&&"/"!==a&&a.endsWith("/"),u=(o||"."===a)&&n.endsWith("/");return l.pathname.endsWith("/")||!c&&!u||(l.pathname+="/"),l}const oe=e=>e.join("/").replace(/\/\/+/g,"/"),ae=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),le=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",ce=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";Error;function ue(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}const de=["post","put","patch","delete"],he=(new Set(de),["get",...de]);new Set(he),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function fe(){return fe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},fe.apply(this,arguments)}const pe=r.createContext(null);const me=r.createContext(null);const ge=r.createContext(null);const ye=r.createContext(null);const ve=r.createContext({outlet:null,matches:[],isDataRoute:!1});const we=r.createContext(null);function be(){return null!=r.useContext(ye)}function _e(){return be()||R(!1),r.useContext(ye).location}function Se(e){r.useContext(ge).static||r.useLayoutEffect(e)}function Ee(){let{isDataRoute:e}=r.useContext(ve);return e?function(){let{router:e}=De(Oe.UseNavigateStable),t=Me(Pe.UseNavigateStable),n=r.useRef(!1);Se((()=>{n.current=!0}));let i=r.useCallback((function(r,i){void 0===i&&(i={}),n.current&&("number"===typeof r?e.navigate(r):e.navigate(r,fe({fromRouteId:t},i)))}),[e,t]);return i}():function(){be()||R(!1);let e=r.useContext(pe),{basename:t,navigator:n}=r.useContext(ge),{matches:i}=r.useContext(ve),{pathname:s}=_e(),o=JSON.stringify(ie(i).map((e=>e.pathnameBase))),a=r.useRef(!1);return Se((()=>{a.current=!0})),r.useCallback((function(r,i){if(void 0===i&&(i={}),!a.current)return;if("number"===typeof r)return void n.go(r);let l=se(r,JSON.parse(o),s,"path"===i.relative);null==e&&"/"!==t&&(l.pathname="/"===l.pathname?t:oe([t,l.pathname])),(i.replace?n.replace:n.push)(l,i.state,i)}),[t,n,o,s,e])}()}function xe(e,t){let{relative:n}=void 0===t?{}:t,{matches:i}=r.useContext(ve),{pathname:s}=_e(),o=JSON.stringify(ie(i).map((e=>e.pathnameBase)));return r.useMemo((()=>se(e,JSON.parse(o),s,"path"===n)),[e,o,s,n])}function Te(e,t,n){be()||R(!1);let{navigator:i}=r.useContext(ge),{matches:s}=r.useContext(ve),o=s[s.length-1],a=o?o.params:{},l=(o&&o.pathname,o?o.pathnameBase:"/");o&&o.route;let c,u=_e();if(t){var d;let e="string"===typeof t?U(t):t;"/"===l||(null==(d=e.pathname)?void 0:d.startsWith(l))||R(!1),c=e}else c=u;let h=c.pathname||"/",f=B(e,{pathname:"/"===l?h:h.slice(l.length)||"/"});let p=Ae(f&&f.map((e=>Object.assign({},e,{params:Object.assign({},a,e.params),pathname:oe([l,i.encodeLocation?i.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?l:oe([l,i.encodeLocation?i.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])}))),s,n);return t&&p?r.createElement(ye.Provider,{value:{location:fe({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:N.Pop}},p):p}function ke(){let e=function(){var e;let t=r.useContext(we),n=Re(Pe.UseRouteError),i=Me(Pe.UseRouteError);if(t)return t;return null==(e=n.errors)?void 0:e[i]}(),t=ue(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:i};return r.createElement(r.Fragment,null,r.createElement("h2",null,"Unexpected Application Error!"),r.createElement("h3",{style:{fontStyle:"italic"}},t),n?r.createElement("pre",{style:s},n):null,null)}const Ie=r.createElement(ke,null);class Ce extends r.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error||t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error?r.createElement(ve.Provider,{value:this.props.routeContext},r.createElement(we.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Ne(e){let{routeContext:t,match:n,children:i}=e,s=r.useContext(pe);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),r.createElement(ve.Provider,{value:t},i)}function Ae(e,t,n){var i;if(void 0===t&&(t=[]),void 0===n&&(n=null),null==e){var s;if(null==(s=n)||!s.errors)return null;e=n.matches}let o=e,a=null==(i=n)?void 0:i.errors;if(null!=a){let e=o.findIndex((e=>e.route.id&&(null==a?void 0:a[e.route.id])));e>=0||R(!1),o=o.slice(0,Math.min(o.length,e+1))}return o.reduceRight(((e,i,s)=>{let l=i.route.id?null==a?void 0:a[i.route.id]:null,c=null;n&&(c=i.route.errorElement||Ie);let u=t.concat(o.slice(0,s+1)),d=()=>{let t;return t=l?c:i.route.Component?r.createElement(i.route.Component,null):i.route.element?i.route.element:e,r.createElement(Ne,{match:i,routeContext:{outlet:e,matches:u,isDataRoute:null!=n},children:t})};return n&&(i.route.ErrorBoundary||i.route.errorElement||0===s)?r.createElement(Ce,{location:n.location,revalidation:n.revalidation,component:c,error:l,children:d(),routeContext:{outlet:null,matches:u,isDataRoute:!0}}):d()}),null)}var Oe=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Oe||{}),Pe=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Pe||{});function De(e){let t=r.useContext(pe);return t||R(!1),t}function Re(e){let t=r.useContext(me);return t||R(!1),t}function Me(e){let t=function(e){let t=r.useContext(ve);return t||R(!1),t}(),n=t.matches[t.matches.length-1];return n.route.id||R(!1),n.route.id}i.startTransition;function Le(e){R(!1)}function je(e){let{basename:t="/",children:n=null,location:i,navigationType:s=N.Pop,navigator:o,static:a=!1}=e;be()&&R(!1);let l=t.replace(/^\/*/,"/"),c=r.useMemo((()=>({basename:l,navigator:o,static:a})),[l,o,a]);"string"===typeof i&&(i=U(i));let{pathname:u="/",search:d="",hash:h="",state:f=null,key:p="default"}=i,m=r.useMemo((()=>{let e=ne(u,l);return null==e?null:{location:{pathname:e,search:d,hash:h,state:f,key:p},navigationType:s}}),[l,u,d,h,f,p,s]);return null==m?null:r.createElement(ge.Provider,{value:c},r.createElement(ye.Provider,{children:n,value:m}))}function Fe(e){let{children:t,location:n}=e;return Te(Ue(t),n)}new Promise((()=>{}));r.Component;function Ue(e,t){void 0===t&&(t=[]);let n=[];return r.Children.forEach(e,((e,i)=>{if(!r.isValidElement(e))return;let s=[...t,i];if(e.type===r.Fragment)return void n.push.apply(n,Ue(e.props.children,s));e.type!==Le&&R(!1),e.props.index&&e.props.children&&R(!1);let o={id:e.props.id||s.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(o.children=Ue(e.props.children,s)),n.push(o)})),n}function Ve(){return Ve=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ve.apply(this,arguments)}function ze(e,t){if(null==e)return{};var n,r,i={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}function Be(e){return void 0===e&&(e=""),new URLSearchParams("string"===typeof e||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce(((t,n)=>{let r=e[n];return t.concat(Array.isArray(r)?r.map((e=>[n,e])):[[n,r]])}),[]))}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);const qe=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"];new Map;const We=i.startTransition;O.flushSync;function Ge(e){let{basename:t,children:n,future:i,window:s}=e,o=r.useRef();var a;null==o.current&&(o.current=(void 0===(a={window:s,v5Compat:!0})&&(a={}),V((function(e,t){let{pathname:n,search:r,hash:i}=e.location;return j("",{pathname:n,search:r,hash:i},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"===typeof t?t:F(t)}),null,a)));let l=o.current,[c,u]=r.useState({action:l.action,location:l.location}),{v7_startTransition:d}=i||{},h=r.useCallback((e=>{d&&We?We((()=>u(e))):u(e)}),[u,d]);return r.useLayoutEffect((()=>l.listen(h)),[l,h]),r.createElement(je,{basename:t,children:n,location:c.location,navigationType:c.action,navigator:l})}const He="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,Ye=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ke=r.forwardRef((function(e,t){let n,{onClick:i,relative:s,reloadDocument:o,replace:a,state:l,target:c,to:u,preventScrollReset:d,unstable_viewTransition:h}=e,f=ze(e,qe),{basename:p}=r.useContext(ge),m=!1;if("string"===typeof u&&Ye.test(u)&&(n=u,He))try{let e=new URL(window.location.href),t=u.startsWith("//")?new URL(e.protocol+u):new URL(u),n=ne(t.pathname,p);t.origin===e.origin&&null!=n?u=n+t.search+t.hash:m=!0}catch(v){}let g=function(e,t){let{relative:n}=void 0===t?{}:t;be()||R(!1);let{basename:i,navigator:s}=r.useContext(ge),{hash:o,pathname:a,search:l}=xe(e,{relative:n}),c=a;return"/"!==i&&(c="/"===a?i:oe([i,a])),s.createHref({pathname:c,search:l,hash:o})}(u,{relative:s}),y=function(e,t){let{target:n,replace:i,state:s,preventScrollReset:o,relative:a,unstable_viewTransition:l}=void 0===t?{}:t,c=Ee(),u=_e(),d=xe(e,{relative:a});return r.useCallback((t=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,n)){t.preventDefault();let n=void 0!==i?i:F(u)===F(d);c(e,{replace:n,state:s,preventScrollReset:o,relative:a,unstable_viewTransition:l})}}),[u,c,d,i,s,n,e,o,a,l])}(u,{replace:a,state:l,target:c,preventScrollReset:d,relative:s,unstable_viewTransition:h});return r.createElement("a",Ve({},f,{href:n||g,onClick:m||o?i:function(e){i&&i(e),e.defaultPrevented||y(e)},ref:t,target:c}))}));var Qe,Xe;function Je(e){let t=r.useRef(Be(e)),n=r.useRef(!1),i=_e(),s=r.useMemo((()=>function(e,t){let n=Be(e);return t&&t.forEach(((e,r)=>{n.has(r)||t.getAll(r).forEach((e=>{n.append(r,e)}))})),n}(i.search,n.current?null:t.current)),[i.search]),o=Ee(),a=r.useCallback(((e,t)=>{const r=Be("function"===typeof e?e(s):e);n.current=!0,o("?"+r,t)}),[o,s]);return[s,a]}(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Qe||(Qe={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(Xe||(Xe={}));var $e=n(764),Ze="https://js.stripe.com/v3",et=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,tt="loadStripe.setLoadParameters was called but an existing Stripe.js script already exists in the document; existing script parameters will be used",nt=function(e){var t=e&&!e.advancedFraudSignals?"?advancedFraudSignals=false":"",n=document.createElement("script");n.src="".concat(Ze).concat(t);var r=document.head||document.body;if(!r)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return r.appendChild(n),n},rt=null,it=null,st=null,ot=function(e){return null!==rt?rt:(rt=new Promise((function(t,n){if("undefined"!==typeof window&&"undefined"!==typeof document)if(window.Stripe&&e&&console.warn(tt),window.Stripe)t(window.Stripe);else try{var r=function(){for(var e=document.querySelectorAll('script[src^="'.concat(Ze,'"]')),t=0;t<e.length;t++){var n=e[t];if(et.test(n.src))return n}return null}();if(r&&e)console.warn(tt);else if(r){if(r&&null!==st&&null!==it){var i;r.removeEventListener("load",st),r.removeEventListener("error",it),null===(i=r.parentNode)||void 0===i||i.removeChild(r),r=nt(e)}}else r=nt(e);st=function(e,t){return function(){window.Stripe?e(window.Stripe):t(new Error("Stripe.js not available"))}}(t,n),it=function(e){return function(){e(new Error("Failed to load Stripe.js"))}}(n),r.addEventListener("load",st),r.addEventListener("error",it)}catch(s){return void n(s)}else t(null)}))).catch((function(e){return rt=null,Promise.reject(e)}))},at=Promise.resolve().then((function(){return ot(null)})),lt=!1;at.catch((function(e){lt||console.warn(e)}));var ct=Symbol.for("immer-nothing"),ut=Symbol.for("immer-draftable"),dt=Symbol.for("immer-state");function ht(e){throw new Error("[Immer] minified error nr: ".concat(e,". Full error at: https://bit.ly/3cXEKWf"))}var ft=Object.getPrototypeOf;function pt(e){return!!e&&!!e[dt]}function mt(e){var t;return!!e&&(yt(e)||Array.isArray(e)||!!e[ut]||!(null===(t=e.constructor)||void 0===t||!t[ut])||St(e)||Et(e))}var gt=Object.prototype.constructor.toString();function yt(e){if(!e||"object"!==typeof e)return!1;const t=ft(e);if(null===t)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object||"function"==typeof n&&Function.toString.call(n)===gt}function vt(e,t){0===wt(e)?Object.entries(e).forEach((n=>{let[r,i]=n;t(r,i,e)})):e.forEach(((n,r)=>t(r,n,e)))}function wt(e){const t=e[dt];return t?t.type_:Array.isArray(e)?1:St(e)?2:Et(e)?3:0}function bt(e,t){return 2===wt(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function _t(e,t,n){const r=wt(e);2===r?e.set(t,n):3===r?e.add(n):e[t]=n}function St(e){return e instanceof Map}function Et(e){return e instanceof Set}function xt(e){return e.copy_||e.base_}function Tt(e,t){if(St(e))return new Map(e);if(Et(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);if(!t&&yt(e)){if(!ft(e)){const t=Object.create(null);return Object.assign(t,e)}return{...e}}const n=Object.getOwnPropertyDescriptors(e);delete n[dt];let r=Reflect.ownKeys(n);for(let i=0;i<r.length;i++){const t=r[i],s=n[t];!1===s.writable&&(s.writable=!0,s.configurable=!0),(s.get||s.set)&&(n[t]={configurable:!0,writable:!0,enumerable:s.enumerable,value:e[t]})}return Object.create(ft(e),n)}function kt(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return Ct(e)||pt(e)||!mt(e)||(wt(e)>1&&(e.set=e.add=e.clear=e.delete=It),Object.freeze(e),t&&vt(e,((e,t)=>kt(t,!0)))),e}function It(){ht(2)}function Ct(e){return Object.isFrozen(e)}var Nt,At={};function Ot(e){const t=At[e];return t||ht(0),t}function Pt(){return Nt}function Dt(e,t){t&&(Ot("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function Rt(e){Mt(e),e.drafts_.forEach(jt),e.drafts_=null}function Mt(e){e===Nt&&(Nt=e.parent_)}function Lt(e){return Nt={drafts_:[],parent_:Nt,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function jt(e){const t=e[dt];0===t.type_||1===t.type_?t.revoke_():t.revoked_=!0}function Ft(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return void 0!==e&&e!==n?(n[dt].modified_&&(Rt(t),ht(4)),mt(e)&&(e=Ut(t,e),t.parent_||zt(t,e)),t.patches_&&Ot("Patches").generateReplacementPatches_(n[dt].base_,e,t.patches_,t.inversePatches_)):e=Ut(t,n,[]),Rt(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==ct?e:void 0}function Ut(e,t,n){if(Ct(t))return t;const r=t[dt];if(!r)return vt(t,((i,s)=>Vt(e,r,t,i,s,n))),t;if(r.scope_!==e)return t;if(!r.modified_)return zt(e,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const t=r.copy_;let i=t,s=!1;3===r.type_&&(i=new Set(t),t.clear(),s=!0),vt(i,((i,o)=>Vt(e,r,t,i,o,n,s))),zt(e,t,!1),n&&e.patches_&&Ot("Patches").generatePatches_(r,n,e.patches_,e.inversePatches_)}return r.copy_}function Vt(e,t,n,r,i,s,o){if(pt(i)){const o=Ut(e,i,s&&t&&3!==t.type_&&!bt(t.assigned_,r)?s.concat(r):void 0);if(_t(n,r,o),!pt(o))return;e.canAutoFreeze_=!1}else o&&n.add(i);if(mt(i)&&!Ct(i)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;Ut(e,i),t&&t.scope_.parent_||zt(e,i)}}function zt(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&kt(t,n)}var Bt={get(e,t){if(t===dt)return e;const n=xt(e);if(!bt(n,t))return function(e,t,n){var r;const i=Gt(t,n);return i?"value"in i?i.value:null===(r=i.get)||void 0===r?void 0:r.call(e.draft_):void 0}(e,n,t);const r=n[t];return e.finalized_||!mt(r)?r:r===Wt(e.base_,t)?(Yt(e),e.copy_[t]=Kt(r,e)):r},has:(e,t)=>t in xt(e),ownKeys:e=>Reflect.ownKeys(xt(e)),set(e,t,n){const r=Gt(xt(e),t);if(null!==r&&void 0!==r&&r.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const r=Wt(xt(e),t),i=null===r||void 0===r?void 0:r[dt];if(i&&i.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(function(e,t){return e===t?0!==e||1/e===1/t:e!==e&&t!==t}(n,r)&&(void 0!==n||bt(e.base_,t)))return!0;Yt(e),Ht(e)}return e.copy_[t]===n&&(void 0!==n||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty:(e,t)=>(void 0!==Wt(e.base_,t)||t in e.base_?(e.assigned_[t]=!1,Yt(e),Ht(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0),getOwnPropertyDescriptor(e,t){const n=xt(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r?{writable:!0,configurable:1!==e.type_||"length"!==t,enumerable:r.enumerable,value:n[t]}:r},defineProperty(){ht(11)},getPrototypeOf:e=>ft(e.base_),setPrototypeOf(){ht(12)}},qt={};function Wt(e,t){const n=e[dt];return(n?xt(n):e)[t]}function Gt(e,t){if(!(t in e))return;let n=ft(e);for(;n;){const e=Object.getOwnPropertyDescriptor(n,t);if(e)return e;n=ft(n)}}function Ht(e){e.modified_||(e.modified_=!0,e.parent_&&Ht(e.parent_))}function Yt(e){e.copy_||(e.copy_=Tt(e.base_,e.scope_.immer_.useStrictShallowCopy_))}vt(Bt,((e,t)=>{qt[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}})),qt.deleteProperty=function(e,t){return qt.set.call(this,e,t,void 0)},qt.set=function(e,t,n){return Bt.set.call(this,e[0],t,n,e[0])};function Kt(e,t){const n=St(e)?Ot("MapSet").proxyMap_(e,t):Et(e)?Ot("MapSet").proxySet_(e,t):function(e,t){const n=Array.isArray(e),r={type_:n?1:0,scope_:t?t.scope_:Pt(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,s=Bt;n&&(i=[r],s=qt);const{revoke:o,proxy:a}=Proxy.revocable(i,s);return r.draft_=a,r.revoke_=o,a}(e,t);return(t?t.scope_:Pt()).drafts_.push(n),n}function Qt(e){return pt(e)||ht(10),Xt(e)}function Xt(e){if(!mt(e)||Ct(e))return e;const t=e[dt];let n;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=Tt(e,t.scope_.immer_.useStrictShallowCopy_)}else n=Tt(e,!0);return vt(n,((e,t)=>{_t(n,e,Xt(t))})),t&&(t.finalized_=!1),n}var Jt=new class{constructor(e){var t=this;this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,t,n)=>{if("function"===typeof e&&"function"!==typeof t){const n=t;t=e;const r=this;return function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n;for(var i=arguments.length,s=new Array(i>1?i-1:0),o=1;o<i;o++)s[o-1]=arguments[o];return r.produce(e,(e=>t.call(this,e,...s)))}}let r;if("function"!==typeof t&&ht(6),void 0!==n&&"function"!==typeof n&&ht(7),mt(e)){const i=Lt(this),s=Kt(e,void 0);let o=!0;try{r=t(s),o=!1}finally{o?Rt(i):Mt(i)}return Dt(i,n),Ft(r,i)}if(!e||"object"!==typeof e){if(r=t(e),void 0===r&&(r=e),r===ct&&(r=void 0),this.autoFreeze_&&kt(r,!0),n){const t=[],i=[];Ot("Patches").generateReplacementPatches_(e,r,t,i),n(t,i)}return r}ht(1)},this.produceWithPatches=(e,n)=>{if("function"===typeof e)return function(n){for(var r=arguments.length,i=new Array(r>1?r-1:0),s=1;s<r;s++)i[s-1]=arguments[s];return t.produceWithPatches(n,(t=>e(t,...i)))};let r,i;const s=this.produce(e,n,((e,t)=>{r=e,i=t}));return[s,r,i]},"boolean"===typeof(null===e||void 0===e?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze),"boolean"===typeof(null===e||void 0===e?void 0:e.useStrictShallowCopy)&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){mt(e)||ht(8),pt(e)&&(e=Qt(e));const t=Lt(this),n=Kt(e,void 0);return n[dt].isManual_=!0,Mt(t),n}finishDraft(e,t){const n=e&&e[dt];n&&n.isManual_||ht(9);const{scope_:r}=n;return Dt(r,t),Ft(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const r=t[n];if(0===r.path.length&&"replace"===r.op){e=r.value;break}}n>-1&&(t=t.slice(n+1));const r=Ot("Patches").applyPatches_;return pt(e)?r(e,t):this.produce(e,(e=>r(e,t)))}},$t=Jt.produce;Jt.produceWithPatches.bind(Jt),Jt.setAutoFreeze.bind(Jt),Jt.setUseStrictShallowCopy.bind(Jt),Jt.applyPatches.bind(Jt),Jt.createDraft.bind(Jt),Jt.finishDraft.bind(Jt);function Zt(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"expected a function, instead received ".concat(typeof e);if("function"!==typeof e)throw new TypeError(t)}var en=e=>Array.isArray(e)?e:[e];function tn(e){const t=Array.isArray(e[0])?e[0]:e;return function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"expected all items to be functions, instead received the following types: ";if(!e.every((e=>"function"===typeof e))){const n=e.map((e=>"function"===typeof e?"function ".concat(e.name||"unnamed","()"):typeof e)).join(", ");throw new TypeError("".concat(t,"[").concat(n,"]"))}}(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}Symbol(),Object.getPrototypeOf({});var nn="undefined"!==typeof WeakRef?WeakRef:class{constructor(e){this.value=e}deref(){return this.value}},rn=0,sn=1;function on(){return{s:rn,v:void 0,o:null,p:null}}function an(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=on();const{resultEqualityCheck:r}=t;let i,s=0;function o(){let t=n;const{length:o}=arguments;for(let e=0,n=o;e<n;e++){const n=arguments[e];if("function"===typeof n||"object"===typeof n&&null!==n){let e=t.o;null===e&&(t.o=e=new WeakMap);const r=e.get(n);void 0===r?(t=on(),e.set(n,t)):t=r}else{let e=t.p;null===e&&(t.p=e=new Map);const r=e.get(n);void 0===r?(t=on(),e.set(n,t)):t=r}}const a=t;let l;if(t.s===sn?l=t.v:(l=e.apply(null,arguments),s++),a.s=sn,r){var c,u;const e=null!==(c=null===(u=i)||void 0===u?void 0:u.deref())&&void 0!==c?c:i;null!=e&&r(e,l)&&(l=e,0!==s&&s--);i="object"===typeof l&&null!==l||"function"===typeof l?new nn(l):l}return a.v=l,l}return o.clearCache=()=>{n=on(),o.resetResultsCount()},o.resultsCount=()=>s,o.resetResultsCount=()=>{s=0},o}function ln(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i="function"===typeof e?{memoize:e,memoizeOptions:n}:e;return function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];let r,s=0,o=0,a={},l=t.pop();"object"===typeof l&&(a=l,l=t.pop()),Zt(l,"createSelector expects an output function after the inputs, but received: [".concat(typeof l,"]"));const c={...i,...a},{memoize:u,memoizeOptions:d=[],argsMemoize:h=an,argsMemoizeOptions:f=[],devModeChecks:p={}}=c,m=en(d),g=en(f),y=tn(t),v=u((function(){return s++,l.apply(null,arguments)}),...m);const w=h((function(){o++;const e=function(e,t){const n=[],{length:r}=e;for(let i=0;i<r;i++)n.push(e[i].apply(null,t));return n}(y,arguments);return r=v.apply(null,e),r}),...g);return Object.assign(w,{resultFunc:l,memoizedResultFunc:v,dependencies:y,dependencyRecomputations:()=>o,resetDependencyRecomputations:()=>{o=0},lastResult:()=>r,recomputations:()=>s,resetRecomputations:()=>{s=0},memoize:u,argsMemoize:h})}}function cn(e){return"Minified Redux error #".concat(e,"; visit https://redux.js.org/Errors?code=").concat(e," for the full message or use the non-minified dev environment for full errors. ")}var un=(()=>"function"===typeof Symbol&&Symbol.observable||"@@observable")(),dn=()=>Math.random().toString(36).substring(7).split("").join("."),hn={INIT:"@@redux/INIT".concat(dn()),REPLACE:"@@redux/REPLACE".concat(dn()),PROBE_UNKNOWN_ACTION:()=>"@@redux/PROBE_UNKNOWN_ACTION".concat(dn())};function fn(e){if("object"!==typeof e||null===e)return!1;let t=e;for(;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function pn(e,t,n){if("function"!==typeof e)throw new Error(cn(2));if("function"===typeof t&&"function"===typeof n||"function"===typeof n&&"function"===typeof arguments[3])throw new Error(cn(0));if("function"===typeof t&&"undefined"===typeof n&&(n=t,t=void 0),"undefined"!==typeof n){if("function"!==typeof n)throw new Error(cn(1));return n(pn)(e,t)}let r=e,i=t,s=new Map,o=s,a=0,l=!1;function c(){o===s&&(o=new Map,s.forEach(((e,t)=>{o.set(t,e)})))}function u(){if(l)throw new Error(cn(3));return i}function d(e){if("function"!==typeof e)throw new Error(cn(4));if(l)throw new Error(cn(5));let t=!0;c();const n=a++;return o.set(n,e),function(){if(t){if(l)throw new Error(cn(6));t=!1,c(),o.delete(n),s=null}}}function h(e){if(!fn(e))throw new Error(cn(7));if("undefined"===typeof e.type)throw new Error(cn(8));if("string"!==typeof e.type)throw new Error(cn(17));if(l)throw new Error(cn(9));try{l=!0,i=r(i,e)}finally{l=!1}return(s=o).forEach((e=>{e()})),e}h({type:hn.INIT});return{dispatch:h,subscribe:d,getState:u,replaceReducer:function(e){if("function"!==typeof e)throw new Error(cn(10));r=e,h({type:hn.REPLACE})},[un]:function(){const e=d;return{subscribe(t){if("object"!==typeof t||null===t)throw new Error(cn(11));function n(){const e=t;e.next&&e.next(u())}n();return{unsubscribe:e(n)}},[un](){return this}}}}}function mn(e){const t=Object.keys(e),n={};for(let o=0;o<t.length;o++){const r=t[o];0,"function"===typeof e[r]&&(n[r]=e[r])}const r=Object.keys(n);let i;try{!function(e){Object.keys(e).forEach((t=>{const n=e[t];if("undefined"===typeof n(void 0,{type:hn.INIT}))throw new Error(cn(12));if("undefined"===typeof n(void 0,{type:hn.PROBE_UNKNOWN_ACTION()}))throw new Error(cn(13))}))}(n)}catch(s){i=s}return function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;if(i)throw i;let s=!1;const o={};for(let i=0;i<r.length;i++){const a=r[i],l=n[a],c=e[a],u=l(c,t);if("undefined"===typeof u){t&&t.type;throw new Error(cn(14))}o[a]=u,s=s||u!==c}return s=s||r.length!==Object.keys(e).length,s?o:e}}function gn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?e=>e:1===t.length?t[0]:t.reduce(((e,t)=>function(){return e(t(...arguments))}))}function yn(e){return t=>{let{dispatch:n,getState:r}=t;return t=>i=>"function"===typeof i?i(n,r,e):t(i)}}var vn=yn(),wn=yn,bn=(function(){const e=ln(...arguments)}(an),"undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(0!==arguments.length)return"object"===typeof arguments[0]?gn:gn.apply(null,arguments)});"undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__;function _n(e,t){function n(){if(t){let n=t(...arguments);if(!n)throw new Error(Vn(0));return{type:e,payload:n.payload,..."meta"in n&&{meta:n.meta},..."error"in n&&{error:n.error}}}return{type:e,payload:arguments.length<=0?void 0:arguments[0]}}return n.toString=()=>"".concat(e),n.type=e,n.match=t=>function(e){return fn(e)&&"type"in e&&"string"===typeof e.type}(t)&&t.type===e,n}var Sn=class e extends Array{constructor(){super(...arguments),Object.setPrototypeOf(this,e.prototype)}static get[Symbol.species](){return e}concat(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return super.concat.apply(this,t)}prepend(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return 1===n.length&&Array.isArray(n[0])?new e(...n[0].concat(this)):new e(...n.concat(this))}};function En(e){return mt(e)?$t(e,(()=>{})):e}function xn(e,t,n){if(e.has(t)){let r=e.get(t);return n.update&&(r=n.update(r,t,e),e.set(t,r)),r}if(!n.insert)throw new Error(Vn(10));const r=n.insert(t,e);return e.set(t,r),r}var Tn="RTK_autoBatch",kn=e=>t=>{setTimeout(t,e)},In="undefined"!==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame:kn(10),Cn=e=>function(t){const{autoBatch:n=!0}=null!==t&&void 0!==t?t:{};let r=new Sn(e);return n&&r.push(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{type:"raf"};return t=>function(){const n=t(...arguments);let r=!0,i=!1,s=!1;const o=new Set,a="tick"===e.type?queueMicrotask:"raf"===e.type?In:"callback"===e.type?e.queueNotification:kn(e.timeout),l=()=>{s=!1,i&&(i=!1,o.forEach((e=>e())))};return Object.assign({},n,{subscribe(e){const t=n.subscribe((()=>r&&e()));return o.add(e),()=>{t(),o.delete(e)}},dispatch(e){try{var t;return r=!(null!==e&&void 0!==e&&null!==(t=e.meta)&&void 0!==t&&t[Tn]),i=!r,i&&(s||(s=!0,a(l))),n.dispatch(e)}finally{r=!0}}})}}("object"===typeof n?n:void 0)),r};function Nn(e){const t={},n=[];let r;const i={addCase(e,n){const r="string"===typeof e?e:e.type;if(!r)throw new Error(Vn(28));if(r in t)throw new Error(Vn(29));return t[r]=n,i},addMatcher:(e,t)=>(n.push({matcher:e,reducer:t}),i),addDefaultCase:e=>(r=e,i)};return e(i),[t,n,r]}var An=Symbol.for("rtk-slice-createasyncthunk");function On(e,t){return"".concat(e,"/").concat(t)}function Pn(e,t,n,r){function i(i){let s=n.call(e,i);"undefined"===typeof s&&r&&(s=e.getInitialState());for(var o=arguments.length,a=new Array(o>1?o-1:0),l=1;l<o;l++)a[l-1]=arguments[l];return t(s,...a)}return i.unwrapped=t,i}var Dn=function(){var e;let{creators:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const n=null===t||void 0===t||null===(e=t.asyncThunk)||void 0===e?void 0:e[An];return function(e){const{name:t,reducerPath:r=t}=e;if(!t)throw new Error(Vn(11));const i=("function"===typeof e.reducers?e.reducers(function(){function e(e,t){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...t}}return e.withTypes=()=>e,{reducer:e=>Object.assign({[e.name](){return e(...arguments)}}[e.name],{_reducerDefinitionType:"reducer"}),preparedReducer:(e,t)=>({_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:t}),asyncThunk:e}}()):e.reducers)||{},s=Object.keys(i),o={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},a={addCase(e,t){const n="string"===typeof e?e:e.type;if(!n)throw new Error(Vn(12));if(n in o.sliceCaseReducersByType)throw new Error(Vn(13));return o.sliceCaseReducersByType[n]=t,a},addMatcher:(e,t)=>(o.sliceMatchers.push({matcher:e,reducer:t}),a),exposeAction:(e,t)=>(o.actionCreators[e]=t,a),exposeCaseReducer:(e,t)=>(o.sliceCaseReducersByName[e]=t,a)};function l(){const[t={},n=[],r]="function"===typeof e.extraReducers?Nn(e.extraReducers):[e.extraReducers],i={...t,...o.sliceCaseReducersByType};return function(e,t){let n,[r,i,s]=Nn(t);if(function(e){return"function"===typeof e}(e))n=()=>En(e());else{const t=En(e);n=()=>t}function o(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n(),t=arguments.length>1?arguments[1]:void 0,o=[r[t.type],...i.filter((e=>{let{matcher:n}=e;return n(t)})).map((e=>{let{reducer:t}=e;return t}))];return 0===o.filter((e=>!!e)).length&&(o=[s]),o.reduce(((e,n)=>{if(n){if(pt(e)){const r=n(e,t);return void 0===r?e:r}if(mt(e))return $t(e,(e=>n(e,t)));{const r=n(e,t);if(void 0===r){if(null===e)return e;throw new Error(Vn(9))}return r}}return e}),e)}return o.getInitialState=n,o}(e.initialState,(e=>{for(let t in i)e.addCase(t,i[t]);for(let t of o.sliceMatchers)e.addMatcher(t.matcher,t.reducer);for(let t of n)e.addMatcher(t.matcher,t.reducer);r&&e.addDefaultCase(r)}))}s.forEach((r=>{const s=i[r],o={reducerName:r,type:On(t,r),createNotation:"function"===typeof e.reducers};!function(e){return"asyncThunk"===e._reducerDefinitionType}(s)?function(e,t,n){let r,i,{type:s,reducerName:o,createNotation:a}=e;if("reducer"in t){if(a&&!function(e){return"reducerWithPrepare"===e._reducerDefinitionType}(t))throw new Error(Vn(17));r=t.reducer,i=t.prepare}else r=t;n.addCase(s,r).exposeCaseReducer(o,r).exposeAction(o,i?_n(s,i):_n(s))}(o,s,a):function(e,t,n,r){let{type:i,reducerName:s}=e;if(!r)throw new Error(Vn(18));const{payloadCreator:o,fulfilled:a,pending:l,rejected:c,settled:u,options:d}=t,h=r(i,o,d);n.exposeAction(s,h),a&&n.addCase(h.fulfilled,a);l&&n.addCase(h.pending,l);c&&n.addCase(h.rejected,c);u&&n.addMatcher(h.settled,u);n.exposeCaseReducer(s,{fulfilled:a||Rn,pending:l||Rn,rejected:c||Rn,settled:u||Rn})}(o,s,a,n)}));const c=e=>e,u=new WeakMap;let d;const h={name:t,reducerPath:r,reducer:(e,t)=>(d||(d=l()),d(e,t)),actions:o.actionCreators,caseReducers:o.sliceCaseReducersByName,getInitialState:()=>(d||(d=l()),d.getInitialState()),getSelectors(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c;const n=xn(u,this,{insert:()=>new WeakMap});return xn(n,t,{insert:()=>{const n={};for(const[i,s]of Object.entries(null!==(r=e.selectors)&&void 0!==r?r:{})){var r;n[i]=Pn(this,s,t,this!==h)}return n}})},selectSlice(e){let t=e[this.reducerPath];return"undefined"===typeof t&&this!==h&&(t=this.getInitialState()),t},get selectors(){return this.getSelectors(this.selectSlice)},injectInto(e){let{reducerPath:t,...n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=null!==t&&void 0!==t?t:this.reducerPath;return e.inject({reducerPath:r,reducer:this.reducer},n),{...this,reducerPath:r}}};return h}}();function Rn(){}var Mn="listener",Ln="completed",jn="cancelled";"task-".concat(jn),"task-".concat(Ln),"".concat(Mn,"-").concat(jn),"".concat(Mn,"-").concat(Ln);var{assign:Fn}=Object,Un="listenerMiddleware";_n("".concat(Un,"/add")),_n("".concat(Un,"/removeAll")),_n("".concat(Un,"/remove"));Symbol.for("rtk-state-proxy-original");function Vn(e){return"Minified Redux Toolkit error #".concat(e,"; visit https://redux-toolkit.js.org/Errors?code=").concat(e," for the full message or use the non-minified dev environment for full errors. ")}const zn=Dn({name:"auth",initialState:{user:null},reducers:{setUser:(e,t)=>{!function(e){try{return JSON.stringify(e),!0}catch(t){return!1}}(t.payload)?console.error("Non-serializable payload detected in setUser action"):e.user=t.payload},clearUser:e=>{e.user=null}}});const{setUser:Bn,clearUser:qn}=zn.actions,Wn=zn.reducer,Gn=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},Hn={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const t=e[i],s=i+1<e.length,o=s?e[i+1]:0,a=i+2<e.length,l=a?e[i+2]:0,c=t>>2,u=(3&t)<<4|o>>4;let d=(15&o)<<2|l>>6,h=63&l;a||(h=64,s||(d=64)),r.push(n[c],n[u],n[d],n[h])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Gn(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const s=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(s>>10)),t[r++]=String.fromCharCode(56320+(1023&s))}else{const s=e[n++],o=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&o)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const t=n[e.charAt(i++)],s=i<e.length?n[e.charAt(i)]:0;++i;const o=i<e.length?n[e.charAt(i)]:64;++i;const a=i<e.length?n[e.charAt(i)]:64;if(++i,null==t||null==s||null==o||null==a)throw new Yn;const l=t<<2|s>>4;if(r.push(l),64!==o){const e=s<<4&240|o>>2;if(r.push(e),64!==a){const e=o<<6&192|a;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class Yn extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Kn=function(e){return function(e){const t=Gn(e);return Hn.encodeByteArray(t,!0)}(e).replace(/\./g,"")},Qn=function(e){try{return Hn.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function Xn(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(const n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=Xn(e[n],t[n]));return e}const Jn=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,$n=()=>{try{return Jn()||(()=>{if("undefined"===typeof process)return;const e={NODE_ENV:"production",PUBLIC_URL:"/zizishopfrontend",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_STRIPE:"pk_test_51OPvWsE20rTG9mx1Sd2vvcDhqLQNQNZBpOzGK5Q8Bqclnz8MXOcVLKkXtcXw8aF9L58QxIlFv3x4RAzAP84NdjpZ00lZK1aYup"}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}const t=e&&Qn(e[1]);return t&&JSON.parse(t)})()}catch(e){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(e))}},Zn=()=>{var e;return null===(e=$n())||void 0===e?void 0:e.config};class er{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch((()=>{})),1===e.length?e(t):e(t,n))}}}function tr(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function nr(){var e;const t=null===(e=$n())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(r){return!1}}function rr(){const e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function ir(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function sr(){const e=tr();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function or(){try{return"object"===typeof indexedDB}catch(e){return!1}}class ar extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,ar.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,lr.prototype.create)}}class lr{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e){const t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?function(e,t){return e.replace(cr,((e,n)=>{const r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}(r,t):"Error",s="".concat(this.serviceName,": ").concat(i," (").concat(n,").");return new ar(n,s,t)}}const cr=/\{\$([^}]+)}/g;function ur(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function dr(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const n=e[i],s=t[i];if(hr(n)&&hr(s)){if(!dr(n,s))return!1}else if(n!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function hr(e){return null!==e&&"object"===typeof e}function fr(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach((e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function pr(e){const t={};return e.replace(/^\?/,"").split("&").forEach((e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}})),t}function mr(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function gr(e,t){const n=new yr(e,t);return n.subscribe.bind(n)}class yr{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((()=>{e(this)})).catch((e=>{this.error(e)}))}next(e){this.forEachObserver((t=>{t.next(e)}))}error(e){this.forEachObserver((t=>{t.error(e)})),this.close(e)}complete(){this.forEachObserver((e=>{e.complete()})),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!==typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"===typeof e[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=vr),void 0===r.error&&(r.error=vr),void 0===r.complete&&(r.complete=vr);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(e){}})),this.observers.push(r),i}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(n){"undefined"!==typeof console&&console.error&&console.error(n)}}))}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function vr(){}function wr(e){return e&&e._delegate?e._delegate:e}class br{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const _r="[DEFAULT]";class Sr{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new er;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(n){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:_r})}catch(t){}for(const[e,n]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:r});n.resolve(e)}catch(t){}}}}clearInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_r;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter((e=>"INTERNAL"in e)).map((e=>e.INTERNAL.delete())),...e.filter((e=>"_delete"in e)).map((e=>e._delete()))])}isComponentSet(){return null!=this.component}isInitialized(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_r;return this.instances.has(e)}getOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_r;return this.instancesOptions.get(e)||{}}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error("".concat(this.name,"(").concat(n,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[i,s]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(i)&&s.resolve(r)}return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);const s=this.instances.get(r);return s&&e(s,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const i of n)try{i(e,t)}catch(r){}}getOrInitializeService(e){let{instanceIdentifier:t,options:n={}}=e,r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(i=t,i===_r?void 0:i),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch(s){}var i;return r||null}normalizeInstanceIdentifier(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_r;return this.component?this.component.multipleInstances?e:_r:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Er{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new Sr(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const xr=[];var Tr;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(Tr||(Tr={}));const kr={debug:Tr.DEBUG,verbose:Tr.VERBOSE,info:Tr.INFO,warn:Tr.WARN,error:Tr.ERROR,silent:Tr.SILENT},Ir=Tr.INFO,Cr={[Tr.DEBUG]:"log",[Tr.VERBOSE]:"log",[Tr.INFO]:"info",[Tr.WARN]:"warn",[Tr.ERROR]:"error"},Nr=function(e,t){if(t<e.logLevel)return;const n=(new Date).toISOString(),r=Cr[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i=arguments.length,s=new Array(i>2?i-2:0),o=2;o<i;o++)s[o-2]=arguments[o];console[r]("[".concat(n,"]  ").concat(e.name,":"),...s)};class Ar{constructor(e){this.name=e,this._logLevel=Ir,this._logHandler=Nr,this._userLogHandler=null,xr.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Tr))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?kr[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Tr.DEBUG,...t),this._logHandler(this,Tr.DEBUG,...t)}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Tr.VERBOSE,...t),this._logHandler(this,Tr.VERBOSE,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Tr.INFO,...t),this._logHandler(this,Tr.INFO,...t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Tr.WARN,...t),this._logHandler(this,Tr.WARN,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Tr.ERROR,...t),this._logHandler(this,Tr.ERROR,...t)}}const Or=(e,t)=>t.some((t=>e instanceof t));let Pr,Dr;const Rr=new WeakMap,Mr=new WeakMap,Lr=new WeakMap,jr=new WeakMap,Fr=new WeakMap;let Ur={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return Mr.get(e);if("objectStoreNames"===t)return e.objectStoreNames||Lr.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Br(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function Vr(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(Dr||(Dr=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(qr(this),n),Br(Rr.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Br(e.apply(qr(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];const s=e.call(qr(this),t,...r);return Lr.set(s,t.sort?t.sort():[t]),Br(s)}}function zr(e){return"function"===typeof e?Vr(e):(e instanceof IDBTransaction&&function(e){if(Mr.has(e))return;const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",s),e.removeEventListener("abort",s)},i=()=>{t(),r()},s=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",s),e.addEventListener("abort",s)}));Mr.set(e,t)}(e),Or(e,Pr||(Pr=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,Ur):e)}function Br(e){if(e instanceof IDBRequest)return function(e){const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",s)},i=()=>{t(Br(e.result)),r()},s=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",s)}));return t.then((t=>{t instanceof IDBCursor&&Rr.set(t,e)})).catch((()=>{})),Fr.set(t,e),t}(e);if(jr.has(e))return jr.get(e);const t=zr(e);return t!==e&&(jr.set(e,t),Fr.set(t,e)),t}const qr=e=>Fr.get(e);const Wr=["get","getKey","getAll","getAllKeys","count"],Gr=["put","add","delete","clear"],Hr=new Map;function Yr(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(Hr.get(t))return Hr.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=Gr.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!Wr.includes(n))return;const s=async function(e){const t=this.transaction(e,i?"readwrite":"readonly");let s=t.store;for(var o=arguments.length,a=new Array(o>1?o-1:0),l=1;l<o;l++)a[l-1]=arguments[l];return r&&(s=s.index(a.shift())),(await Promise.all([s[n](...a),i&&t.done]))[0]};return Hr.set(t,s),s}Ur=(e=>({...e,get:(t,n,r)=>Yr(t,n)||e.get(t,n,r),has:(t,n)=>!!Yr(t,n)||e.has(t,n)}))(Ur);class Kr{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map((e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){const t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((e=>e)).join(" ")}}const Qr="@firebase/app",Xr="0.9.25",Jr=new Ar("@firebase/app"),$r="[DEFAULT]",Zr={[Qr]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},ei=new Map,ti=new Map;function ni(e,t){try{e.container.addComponent(t)}catch(n){Jr.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function ri(e,t){e.container.addOrOverwriteComponent(t)}function ii(e){const t=e.name;if(ti.has(t))return Jr.debug("There were multiple attempts to register component ".concat(t,".")),!1;ti.set(t,e);for(const n of ei.values())ni(n,e);return!0}function si(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function oi(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:$r;si(e,t).clearInstance(n)}function ai(){ti.clear()}const li=new lr("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class ci{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new br("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw li.create("app-deleted",{appName:this._name})}}const ui="10.7.1";function di(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){t={name:t}}const r=Object.assign({name:$r,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw li.create("bad-app-name",{appName:String(i)});if(n||(n=Zn()),!n)throw li.create("no-options");const s=ei.get(i);if(s){if(dr(n,s.options)&&dr(r,s.config))return s;throw li.create("duplicate-app",{appName:i})}const o=new Er(i);for(const l of ti.values())o.addComponent(l);const a=new ci(n,r,o);return ei.set(i,a),a}function hi(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$r;const t=ei.get(e);if(!t&&e===$r&&Zn())return di();if(!t)throw li.create("no-app",{appName:e});return t}function fi(){return Array.from(ei.values())}async function pi(e){const t=e.name;ei.has(t)&&(ei.delete(t),await Promise.all(e.container.getProviders().map((e=>e.delete()))),e.isDeleted=!0)}function mi(e,t,n){var r;let i=null!==(r=Zr[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));const s=i.match(/\s|\//),o=t.match(/\s|\//);if(s||o){const e=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return s&&e.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),s&&o&&e.push("and"),o&&e.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void Jr.warn(e.join(" "))}ii(new br("".concat(i,"-version"),(()=>({library:i,version:t})),"VERSION"))}function gi(e,t){if(null!==e&&"function"!==typeof e)throw li.create("invalid-log-argument");!function(e,t){for(const n of xr){let r=null;t&&t.level&&(r=kr[t.level]),n.userLogHandler=null===e?null:function(t,n){for(var i=arguments.length,s=new Array(i>2?i-2:0),o=2;o<i;o++)s[o-2]=arguments[o];const a=s.map((e=>{if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((e=>e)).join(" ");n>=(null!==r&&void 0!==r?r:t.logLevel)&&e({level:Tr[n].toLowerCase(),message:a,args:s,type:t.name})}}}(e,t)}function yi(e){var t;t=e,xr.forEach((e=>{e.setLogLevel(t)}))}const vi="firebase-heartbeat-database",wi=1,bi="firebase-heartbeat-store";let _i=null;function Si(){return _i||(_i=function(e,t){let{blocked:n,upgrade:r,blocking:i,terminated:s}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const o=indexedDB.open(e,t),a=Br(o);return r&&o.addEventListener("upgradeneeded",(e=>{r(Br(o.result),e.oldVersion,e.newVersion,Br(o.transaction),e)})),n&&o.addEventListener("blocked",(e=>n(e.oldVersion,e.newVersion,e))),a.then((e=>{s&&e.addEventListener("close",(()=>s())),i&&e.addEventListener("versionchange",(e=>i(e.oldVersion,e.newVersion,e)))})).catch((()=>{})),a}(vi,wi,{upgrade:(e,t)=>{if(0===t)e.createObjectStore(bi)}}).catch((e=>{throw li.create("idb-open",{originalErrorMessage:e.message})}))),_i}async function Ei(e,t){try{const n=(await Si()).transaction(bi,"readwrite"),r=n.objectStore(bi);await r.put(t,xi(e)),await n.done}catch(n){if(n instanceof ar)Jr.warn(n.message);else{const e=li.create("idb-set",{originalErrorMessage:null===n||void 0===n?void 0:n.message});Jr.warn(e.message)}}}function xi(e){return"".concat(e.name,"!").concat(e.options.appId)}class Ti{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new Ii(t),this._heartbeatsCachePromise=this._storage.read().then((e=>(this._heartbeatsCache=e,e)))}async triggerHeartbeat(){var e,t;const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=ki();if((null!=(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||(this._heartbeatsCache=await this._heartbeatsCachePromise,null!=(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats)))&&this._heartbeatsCache.lastSentHeartbeatDate!==r&&!this._heartbeatsCache.heartbeats.some((e=>e.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((e=>{const t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||0===this._heartbeatsCache.heartbeats.length)return"";const t=ki(),{heartbeatsToSend:n,unsentEntries:r}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=[];let r=e.slice();for(const i of e){const e=n.find((e=>e.agent===i.agent));if(e){if(e.dates.push(i.date),Ci(n)>t){e.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Ci(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),i=Kn(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function ki(){return(new Date).toISOString().substring(0,10)}class Ii{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!or()&&new Promise(((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(n){t(n)}})).then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=await Si();return await t.transaction(bi).objectStore(bi).get(xi(e))}catch(t){if(t instanceof ar)Jr.warn(t.message);else{const e=li.create("idb-get",{originalErrorMessage:null===t||void 0===t?void 0:t.message});Jr.warn(e.message)}}}(this.app);return(null===e||void 0===e?void 0:e.heartbeats)?e:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return Ei(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return Ei(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function Ci(e){return Kn(JSON.stringify({version:2,heartbeats:e})).length}var Ni;Ni="",ii(new br("platform-logger",(e=>new Kr(e)),"PRIVATE")),ii(new br("heartbeat",(e=>new Ti(e)),"PRIVATE")),mi(Qr,Xr,Ni),mi(Qr,Xr,"esm2017"),mi("fire-js","");class Ai{constructor(e,t){this._delegate=e,this.firebase=t,ni(e,new br("app-compat",(()=>this),"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise((e=>{this._delegate.checkDestroyed(),e()})).then((()=>(this.firebase.INTERNAL.removeApp(this.name),pi(this._delegate))))}_getService(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:$r;var n;this._delegate.checkDestroyed();const r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(n=r.getComponent())||void 0===n?void 0:n.instantiationMode)||r.initialize(),r.getImmediate({identifier:t})}_removeServiceInstance(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:$r;this._delegate.container.getProvider(e).clearInstance(t)}_addComponent(e){ni(this._delegate,e)}_addOrOverwriteComponent(e){ri(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Oi=new lr("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."});const Pi=function t(){const n=function(t){const n={},r={__esModule:!0,initializeApp:function(e){const i=di(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});if(ur(n,i.name))return n[i.name];const s=new t(i,r);return n[i.name]=s,s},app:i,registerVersion:mi,setLogLevel:yi,onLog:gi,apps:null,SDK_VERSION:ui,INTERNAL:{registerComponent:function(e){const n=e.name,s=n.replace("-compat","");if(ii(e)&&"PUBLIC"===e.type){const o=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i();if("function"!==typeof e[s])throw Oi.create("invalid-app-argument",{appName:n});return e[s]()};void 0!==e.serviceProps&&Xn(o,e.serviceProps),r[s]=o,t.prototype[s]=function(){const t=this._getService.bind(this,n);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return t.apply(this,e.multipleInstances?i:[])}}return"PUBLIC"===e.type?r[s]:null},removeApp:function(e){delete n[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:e}};function i(e){if(!ur(n,e=e||$r))throw Oi.create("no-app",{appName:e});return n[e]}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(n).map((e=>n[e]))}}),i.App=t,r}(Ai);return n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(e){Xn(n,e)},createSubscribe:gr,ErrorFactory:lr,deepExtend:Xn}),n}(),Di=new Ar("@firebase/app-compat");if("object"===typeof self&&self.self===self&&void 0!==self.firebase){Di.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const e=self.firebase.SDK_VERSION;e&&e.indexOf("LITE")>=0&&Di.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Ri=Pi;!function(e){mi("@firebase/app-compat","0.2.25",e)}();Ri.registerVersion("firebase","10.7.1","app-compat");function Mi(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;Object.create;"function"===typeof SuppressedError&&SuppressedError;const Li={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},ji="EMAIL_SIGNIN",Fi="PASSWORD_RESET",Ui="RECOVER_EMAIL",Vi="REVERT_SECOND_FACTOR_ADDITION",zi="VERIFY_AND_CHANGE_EMAIL",Bi="VERIFY_EMAIL";function qi(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Wi=function(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements."}},Gi=qi,Hi=new lr("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Yi=new Ar("@firebase/auth");function Ki(e){if(Yi.logLevel<=Tr.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Yi.error("Auth (".concat(ui,"): ").concat(e),...n)}}function Qi(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Zi(e,...n)}function Xi(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Zi(e,...n)}function Ji(e,t,n){const r=Object.assign(Object.assign({},Gi()),{[t]:n});return new lr("auth","Firebase",r).create(t,{appName:e.name})}function $i(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&Qi(e,"argument-error"),Ji(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function Zi(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){const t=n[0],r=[...n.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(t,...r)}return Hi.create(e,...n)}function es(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw Zi(t,...r)}}function ts(e){const t="INTERNAL ASSERTION FAILED: "+e;throw Ki(t),new Error(t)}function ns(e,t){e||ts(t)}function rs(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function is(){return"http:"===ss()||"https:"===ss()}function ss(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}class os{constructor(e,t){this.shortDelay=e,this.longDelay=t,ns(t>e,"Short delay should be less than long delay!"),this.isMobile="undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(tr())||ir()}get(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(is()||rr()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function as(e,t){ns(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}class ls{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:"undefined"!==typeof globalThis&&globalThis.fetch?globalThis.fetch:"undefined"!==typeof fetch?fetch:void ts("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:"undefined"!==typeof globalThis&&globalThis.Headers?globalThis.Headers:"undefined"!==typeof Headers?Headers:void ts("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:"undefined"!==typeof globalThis&&globalThis.Response?globalThis.Response:"undefined"!==typeof Response?Response:void ts("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const cs={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},us=new os(3e4,6e4);function ds(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function hs(e,t,n,r){return fs(e,arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},(async()=>{let i={},s={};r&&("GET"===t?s=r:i={body:JSON.stringify(r)});const o=fr(Object.assign({key:e.config.apiKey},s)).slice(1),a=await e._getAdditionalHeaders();return a["Content-Type"]="application/json",e.languageCode&&(a["X-Firebase-Locale"]=e.languageCode),ls.fetch()(ms(e,e.config.apiHost,n,o),Object.assign({method:t,headers:a,referrerPolicy:"no-referrer"},i))}))}async function fs(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},cs),t);try{const t=new ys(e),i=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const s=await i.json();if("needConfirmation"in s)throw vs(e,"account-exists-with-different-credential",s);if(i.ok&&!("errorMessage"in s))return s;{const t=i.ok?s.errorMessage:s.error.message,[n,o]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw vs(e,"credential-already-in-use",s);if("EMAIL_EXISTS"===n)throw vs(e,"email-already-in-use",s);if("USER_DISABLED"===n)throw vs(e,"user-disabled",s);const a=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(o)throw Ji(e,a,o);Qi(e,a)}}catch(i){if(i instanceof ar)throw i;Qi(e,"network-request-failed",{message:String(i)})}}async function ps(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const s=await hs(e,t,n,r,i);return"mfaPendingCredential"in s&&Qi(e,"multi-factor-auth-required",{_serverResponse:s}),s}function ms(e,t,n,r){const i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?as(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}function gs(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class ys{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise(((e,t)=>{this.timer=setTimeout((()=>t(Xi(this.auth,"network-request-failed"))),us.get())}))}clearNetworkTimeout(){clearTimeout(this.timer)}}function vs(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Xi(e,t,r);return i.customData._tokenResponse=n,i}function ws(e){return void 0!==e&&void 0!==e.getResponse}function bs(e){return void 0!==e&&void 0!==e.enterprise}class _s{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return gs(t.enforcementState);return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}}async function Ss(e,t){return hs(e,"GET","/v2/recaptchaConfig",ds(e,t))}function Es(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(t){}}function xs(e){return 1e3*Number(e)}function Ts(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return Ki("JWT malformed, contained fewer than 3 sections"),null;try{const e=Qn(n);return e?JSON.parse(e):(Ki("Failed to decode base64 JWT payload"),null)}catch(i){return Ki("Caught error parsing JWT payload as JSON",null===i||void 0===i?void 0:i.toString()),null}}async function ks(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2])return t;try{return await t}catch(n){throw n instanceof ar&&function(e){let{code:t}=e;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}(n)&&e.auth.currentUser===e&&await e.auth.signOut(),n}}class Is{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout((async()=>{await this.iteration()}),t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){return void((null===e||void 0===e?void 0:e.code)==="auth/".concat("network-request-failed")&&this.schedule(!0))}this.schedule()}}class Cs{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Es(this.lastLoginAt),this.creationTime=Es(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Ns(e){var t;const n=e.auth,r=await e.getIdToken(),i=await ks(e,async function(e,t){return hs(e,"POST","/v1/accounts:lookup",t)}(n,{idToken:r}));es(null===i||void 0===i?void 0:i.users.length,n,"internal-error");const s=i.users[0];e._notifyReloadListener(s);const o=(null===(t=s.providerUserInfo)||void 0===t?void 0:t.length)?s.providerUserInfo.map((e=>{var{providerId:t}=e,n=Mi(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})):[];const a=function(e,t){const n=e.filter((e=>!t.some((t=>t.providerId===e.providerId))));return[...n,...t]}(e.providerData,o),l=e.isAnonymous,c=!(e.email&&s.passwordHash)&&!(null===a||void 0===a?void 0:a.length),u=!!l&&c,d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new Cs(s.createdAt,s.lastLoginAt),isAnonymous:u};Object.assign(e,d)}class As{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){es(e.idToken,"internal-error"),es("undefined"!==typeof e.idToken,"internal-error"),es("undefined"!==typeof e.refreshToken,"internal-error");const t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){const t=Ts(e);return es(t,"internal-error"),es("undefined"!==typeof t.exp,"internal-error"),es("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}async getToken(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return es(!this.accessToken||this.refreshToken,e,"user-token-expired"),t||!this.accessToken||this.isExpired?this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null:this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:r,expiresIn:i}=await async function(e,t){const n=await fs(e,{},(async()=>{const n=fr({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:i}=e.config,s=ms(e,r,"/v1/token","key=".concat(i)),o=await e._getAdditionalHeaders();return o["Content-Type"]="application/x-www-form-urlencoded",ls.fetch()(s,{method:"POST",headers:o,body:n})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,r,Number(i))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:i}=t,s=new As;return n&&(es("string"===typeof n,"internal-error",{appName:e}),s.refreshToken=n),r&&(es("string"===typeof r,"internal-error",{appName:e}),s.accessToken=r),i&&(es("number"===typeof i,"internal-error",{appName:e}),s.expirationTime=i),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new As,this.toJSON())}_performRefresh(){return ts("not implemented")}}function Os(e,t){es("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}class Ps{constructor(e){var{uid:t,auth:n,stsTokenManager:r}=e,i=Mi(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Is(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new Cs(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await ks(this,this.stsTokenManager.getToken(this.auth,e));return es(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=wr(e),r=await n.getIdToken(t),i=Ts(r);es(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s="object"===typeof i.firebase?i.firebase:void 0,o=null===s||void 0===s?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Es(xs(i.auth_time)),issuedAtTime:Es(xs(i.iat)),expirationTime:Es(xs(i.exp)),signInProvider:o||null,signInSecondFactor:(null===s||void 0===s?void 0:s.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=wr(e);await Ns(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(es(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((e=>Object.assign({},e))),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Ps(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){es(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await Ns(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await ks(this,async function(e,t){return hs(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((e=>Object.assign({},e))),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,i,s,o,a,l,c;const u=null!==(n=t.displayName)&&void 0!==n?n:void 0,d=null!==(r=t.email)&&void 0!==r?r:void 0,h=null!==(i=t.phoneNumber)&&void 0!==i?i:void 0,f=null!==(s=t.photoURL)&&void 0!==s?s:void 0,p=null!==(o=t.tenantId)&&void 0!==o?o:void 0,m=null!==(a=t._redirectEventId)&&void 0!==a?a:void 0,g=null!==(l=t.createdAt)&&void 0!==l?l:void 0,y=null!==(c=t.lastLoginAt)&&void 0!==c?c:void 0,{uid:v,emailVerified:w,isAnonymous:b,providerData:_,stsTokenManager:S}=t;es(v&&S,e,"internal-error");const E=As.fromJSON(this.name,S);es("string"===typeof v,e,"internal-error"),Os(u,e.name),Os(d,e.name),es("boolean"===typeof w,e,"internal-error"),es("boolean"===typeof b,e,"internal-error"),Os(h,e.name),Os(f,e.name),Os(p,e.name),Os(m,e.name),Os(g,e.name),Os(y,e.name);const x=new Ps({uid:v,auth:e,email:d,emailVerified:w,displayName:u,isAnonymous:b,photoURL:f,phoneNumber:h,tenantId:p,stsTokenManager:E,createdAt:g,lastLoginAt:y});return _&&Array.isArray(_)&&(x.providerData=_.map((e=>Object.assign({},e)))),m&&(x._redirectEventId=m),x}static async _fromIdTokenResponse(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=new As;r.updateFromServerResponse(t);const i=new Ps({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await Ns(i),i}}const Ds=new Map;function Rs(e){ns(e instanceof Function,"Expected a class definition");let t=Ds.get(e);return t?(ns(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,Ds.set(e,t),t)}class Ms{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}Ms.type="NONE";const Ls=Ms;function js(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}class Fs{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:i}=this.auth;this.fullUserKey=js(this.userKey,r.apiKey,i),this.fullPersistenceKey=js("persistence",r.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Ps._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"authUser";if(!t.length)return new Fs(Rs(Ls),e,n);const r=(await Promise.all(t.map((async e=>{if(await e._isAvailable())return e})))).filter((e=>e));let i=r[0]||Rs(Ls);const s=js(n,e.config.apiKey,e.name);let o=null;for(const c of t)try{const t=await c._get(s);if(t){const n=Ps._fromJSON(e,t);c!==i&&(o=n),i=c;break}}catch(l){}const a=r.filter((e=>e._shouldAllowMigration));return i._shouldAllowMigration&&a.length?(i=a[0],o&&await i._set(s,o.toJSON()),await Promise.all(t.map((async e=>{if(e!==i)try{await e._remove(s)}catch(l){}}))),new Fs(i,e,n)):new Fs(i,e,n)}}function Us(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(qs(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Vs(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Gs(t))return"Blackberry";if(Hs(t))return"Webos";if(zs(t))return"Safari";if((t.includes("chrome/")||Bs(t))&&!t.includes("edge/"))return"Chrome";if(Ws(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null===n||void 0===n?void 0:n.length))return n[1]}return"Other"}function Vs(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:tr();return/firefox\//i.test(e)}function zs(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:tr()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Bs(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:tr();return/crios\//i.test(e)}function qs(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:tr();return/iemobile/i.test(e)}function Ws(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:tr();return/android/i.test(e)}function Gs(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:tr();return/blackberry/i.test(e)}function Hs(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:tr();return/webos/i.test(e)}function Ys(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:tr();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function Ks(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:tr();return Ys(e)||Ws(e)||Hs(e)||Gs(e)||/windows phone/i.test(e)||qs(e)}function Qs(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=Us(tr());break;case"Worker":t="".concat(Us(tr()),"-").concat(e);break;default:t=e}const r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(ui,"/").concat(r)}class Xs{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=t=>new Promise(((n,r)=>{try{n(e(t))}catch(i){r(i)}}));n.onAbort=t,this.queue.push(n);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(n){t.reverse();for(const e of t)try{e()}catch(r){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===n||void 0===n?void 0:n.message})}}}class Js{constructor(e){var t,n,r,i;const s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(t=s.minPasswordLength)&&void 0!==t?t:6,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),void 0!==s.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),void 0!==s.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),void 0!==s.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),void 0!==s.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(r=null===(n=e.allowedNonAlphanumericCharacters)||void 0===n?void 0:n.join(""))&&void 0!==r?r:"",this.forceUpgradeOnSignin=null!==(i=e.forceUpgradeOnSignin)&&void 0!==i&&i,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,n,r,i,s,o;const a={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,a),this.validatePasswordCharacterOptions(e,a),a.isValid&&(a.isValid=null===(t=a.meetsMinPasswordLength)||void 0===t||t),a.isValid&&(a.isValid=null===(n=a.meetsMaxPasswordLength)||void 0===n||n),a.isValid&&(a.isValid=null===(r=a.containsLowercaseLetter)||void 0===r||r),a.isValid&&(a.isValid=null===(i=a.containsUppercaseLetter)||void 0===i||i),a.isValid&&(a.isValid=null===(s=a.containsNumericCharacter)||void 0===s||s),a.isValid&&(a.isValid=null===(o=a.containsNonAlphanumericCharacter)||void 0===o||o),a}validatePasswordLengthOptions(e,t){const n=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){let n;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let r=0;r<e.length;r++)n=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,r,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}class $s{constructor(e,t,n,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new eo(this),this.idTokenSubscription=new eo(this),this.beforeStateQueue=new Xs(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Hi,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Rs(t)),this._initializationPromise=this.queue((async()=>{var n,r;if(!this._deleted&&(this.persistenceManager=await Fs.create(this,e),!this._deleted)){if(null===(n=this._popupRedirectResolver)||void 0===n?void 0:n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(i){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(r=this.currentUser)||void 0===r?void 0:r.uid)||null,this._deleted||(this._isInitialized=!0)}})),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e,!0):void 0}async initializeCurrentUser(e){var t;const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const n=null===(t=this.redirectUser)||void 0===t?void 0:t._redirectEventId,s=null===r||void 0===r?void 0:r._redirectEventId,o=await this.tryRedirectSignIn(e);n&&n!==s||!(null===o||void 0===o?void 0:o.user)||(r=o.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(s){r=n,this._popupRedirectResolver._overrideRedirectResult(this,(()=>Promise.reject(s)))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return es(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(n){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Ns(e)}catch(t){if((null===t||void 0===t?void 0:t.code)!=="auth/".concat("network-request-failed"))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"===typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const t=e?wr(e):null;return t&&es(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this._deleted)return e&&es(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue((async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()}))}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue((async()=>{await this.assertedPersistence.setPersistence(Rs(e))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await async function(e){return hs(e,"GET","/v2/passwordPolicy",ds(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}))}(this),t=new Js(e);null===this.tenantId?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new lr("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise(((e,t)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged((()=>{n(),e()}),t)}}))}async revokeAccessToken(e){if(this.currentUser){const t={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:await this.currentUser.getIdToken()};null!=this.tenantId&&(t.tenantId=this.tenantId),await async function(e,t){return hs(e,"POST","/v2/accounts:revokeToken",ds(e,t))}(this,t)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Rs(e)||this._popupRedirectResolver;es(t,this,"argument-error"),this.redirectPersistenceManager=await Fs.create(this,[Rs(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue((async()=>{})),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue((async()=>this.directlySetCurrentUser(e)))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const i="function"===typeof t?t:t.next.bind(t);let s=!1;const o=this._isInitialized?Promise.resolve():this._initializationPromise;if(es(o,this,"internal-error"),o.then((()=>{s||i(this.currentUser)})),"function"===typeof t){const i=e.addObserver(t,n,r);return()=>{s=!0,i()}}{const n=e.addObserver(t);return()=>{s=!0,n()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return es(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Qs(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var e;const t=await(null===(e=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken());return(null===t||void 0===t?void 0:t.error)&&function(e){if(Yi.logLevel<=Tr.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Yi.warn("Auth (".concat(ui,"): ").concat(e),...n)}}("Error while retrieving App Check token: ".concat(t.error)),null===t||void 0===t?void 0:t.token}}function Zs(e){return wr(e)}class eo{constructor(e){this.auth=e,this.observer=null,this.addObserver=gr((e=>this.observer=e))}get next(){return es(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function to(e){return new Promise(((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=Xi("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}))}function no(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}class ro{constructor(e){this.type="recaptcha-enterprise",this.auth=Zs(e)}async verify(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"verify",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function n(t,n,r){const i=window.grecaptcha;bs(i)?i.enterprise.ready((()=>{i.enterprise.execute(t,{action:e}).then((e=>{n(e)})).catch((()=>{n("NO_RECAPTCHA")}))})):r(Error("No reCAPTCHA enterprise script loaded."))}return new Promise(((e,r)=>{(async function(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise((async(t,n)=>{Ss(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then((r=>{if(void 0!==r.recaptchaKey){const n=new _s(r);return null==e.tenantId?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}n(new Error("recaptcha Enterprise site key undefined"))})).catch((e=>{n(e)}))}))})(this.auth).then((i=>{if(!t&&bs(window.grecaptcha))n(i,e,r);else{if("undefined"===typeof window)return void r(new Error("RecaptchaVerifier is only supported in browser"));to("https://www.google.com/recaptcha/enterprise.js?render="+i).then((()=>{n(i,e,r)})).catch((e=>{r(e)}))}})).catch((e=>{r(e)}))}))}}async function io(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=new ro(e);let s;try{s=await i.verify(n)}catch(a){s=await i.verify(n,!0)}const o=Object.assign({},t);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function so(e,t,n,r){var i;if(null===(i=e._getRecaptchaConfig())||void 0===i?void 0:i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await io(e,t,n,"getOobCode"===n);return r(e,i)}return r(e,t).catch((async i=>{if(i.code==="auth/".concat("missing-recaptcha-token")){console.log("".concat(n," is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow."));const i=await io(e,t,n,"getOobCode"===n);return r(e,i)}return Promise.reject(i)}))}function oo(e,t,n){const r=Zs(e);es(r._canInitEmulator,r,"emulator-config-failed"),es(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!!(null===n||void 0===n?void 0:n.disableWarnings),s=ao(t),{host:o,port:a}=function(e){const t=ao(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const e=i[1];return{host:e,port:lo(r.substr(e.length+1))}}{const[e,t]=r.split(":");return{host:e,port:lo(t)}}}(t),l=null===a?"":":".concat(a);r.config.emulator={url:"".concat(s,"//").concat(o).concat(l,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function ao(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function lo(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class co{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return ts("not implemented")}_getIdTokenResponse(e){return ts("not implemented")}_linkToIdToken(e,t){return ts("not implemented")}_getReauthenticationResolver(e){return ts("not implemented")}}async function uo(e,t){return hs(e,"POST","/v1/accounts:resetPassword",ds(e,t))}async function ho(e,t){return hs(e,"POST","/v1/accounts:signUp",t)}async function fo(e,t){return ps(e,"POST","/v1/accounts:signInWithPassword",ds(e,t))}async function po(e,t){return hs(e,"POST","/v1/accounts:sendOobCode",ds(e,t))}async function mo(e,t){return po(e,t)}async function go(e,t){return po(e,t)}class yo extends co{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new yo(e,t,"password")}static _fromEmailAndCode(e,t){return new yo(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return so(e,{returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",fo);case"emailLink":return async function(e,t){return ps(e,"POST","/v1/accounts:signInWithEmailLink",ds(e,t))}(e,{email:this._email,oobCode:this._password});default:Qi(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return so(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",ho);case"emailLink":return async function(e,t){return ps(e,"POST","/v1/accounts:signInWithEmailLink",ds(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:Qi(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function vo(e,t){return ps(e,"POST","/v1/accounts:signInWithIdp",ds(e,t))}class wo extends co{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new wo(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Qi("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,i=Mi(t,["providerId","signInMethod"]);if(!n||!r)return null;const s=new wo(n,r);return s.idToken=i.idToken||void 0,s.accessToken=i.accessToken||void 0,s.secret=i.secret,s.nonce=i.nonce,s.pendingToken=i.pendingToken||null,s}_getIdTokenResponse(e){return vo(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,vo(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,vo(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=fr(t)}return e}}const bo={USER_NOT_FOUND:"user-not-found"};class _o extends co{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new _o({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new _o({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return ps(e,"POST","/v1/accounts:signInWithPhoneNumber",ds(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const n=await ps(e,"POST","/v1/accounts:signInWithPhoneNumber",ds(e,t));if(n.temporaryProof)throw vs(e,"account-exists-with-different-credential",n);return n}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return async function(e,t){return ps(e,"POST","/v1/accounts:signInWithPhoneNumber",ds(e,Object.assign(Object.assign({},t),{operation:"REAUTH"})),bo)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"===typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}=e;return n||t||r||i?new _o({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}):null}}class So{constructor(e){var t,n,r,i,s,o;const a=pr(mr(e)),l=null!==(t=a.apiKey)&&void 0!==t?t:null,c=null!==(n=a.oobCode)&&void 0!==n?n:null,u=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=a.mode)&&void 0!==r?r:null);es(l&&c&&u,"argument-error"),this.apiKey=l,this.operation=u,this.code=c,this.continueUrl=null!==(i=a.continueUrl)&&void 0!==i?i:null,this.languageCode=null!==(s=a.languageCode)&&void 0!==s?s:null,this.tenantId=null!==(o=a.tenantId)&&void 0!==o?o:null}static parseLink(e){const t=function(e){const t=pr(mr(e)).link,n=t?pr(mr(t)).deep_link_id:null,r=pr(mr(e)).deep_link_id;return(r?pr(mr(r)).link:null)||r||n||t||e}(e);try{return new So(t)}catch(n){return null}}}class Eo{constructor(){this.providerId=Eo.PROVIDER_ID}static credential(e,t){return yo._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=So.parseLink(t);return es(n,"argument-error"),yo._fromEmailAndCode(e,n.code,n.tenantId)}}Eo.PROVIDER_ID="password",Eo.EMAIL_PASSWORD_SIGN_IN_METHOD="password",Eo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class xo{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class To extends xo{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class ko extends To{static credentialFromJSON(e){const t="string"===typeof e?JSON.parse(e):e;return es("providerId"in t&&"signInMethod"in t,"argument-error"),wo._fromParams(t)}credential(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}_credential(e){return es(e.idToken||e.accessToken,"argument-error"),wo._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(e){return ko.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return ko.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r,oauthTokenSecret:i,pendingToken:s,nonce:o,providerId:a}=t;if(!r&&!i&&!n&&!s)return null;if(!a)return null;try{return new ko(a)._credential({idToken:n,accessToken:r,nonce:o,pendingToken:s})}catch(l){return null}}}class Io extends To{constructor(){super("facebook.com")}static credential(e){return wo._fromParams({providerId:Io.PROVIDER_ID,signInMethod:Io.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Io.credentialFromTaggedObject(e)}static credentialFromError(e){return Io.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return Io.credential(t.oauthAccessToken)}catch(n){return null}}}Io.FACEBOOK_SIGN_IN_METHOD="facebook.com",Io.PROVIDER_ID="facebook.com";class Co extends To{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return wo._fromParams({providerId:Co.PROVIDER_ID,signInMethod:Co.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Co.credentialFromTaggedObject(e)}static credentialFromError(e){return Co.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return Co.credential(n,r)}catch(i){return null}}}Co.GOOGLE_SIGN_IN_METHOD="google.com",Co.PROVIDER_ID="google.com";class No extends To{constructor(){super("github.com")}static credential(e){return wo._fromParams({providerId:No.PROVIDER_ID,signInMethod:No.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return No.credentialFromTaggedObject(e)}static credentialFromError(e){return No.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return No.credential(t.oauthAccessToken)}catch(n){return null}}}No.GITHUB_SIGN_IN_METHOD="github.com",No.PROVIDER_ID="github.com";class Ao extends co{constructor(e,t){super(e,e),this.pendingToken=t}_getIdTokenResponse(e){return vo(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,vo(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,vo(e,t)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r,pendingToken:i}=t;return n&&r&&i&&n===r?new Ao(n,i):null}static _create(e,t){return new Ao(e,t)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Oo extends xo{constructor(e){es(e.startsWith("saml."),"argument-error"),super(e)}static credentialFromResult(e){return Oo.samlCredentialFromTaggedObject(e)}static credentialFromError(e){return Oo.samlCredentialFromTaggedObject(e.customData||{})}static credentialFromJSON(e){const t=Ao.fromJSON(e);return es(t,"argument-error"),t}static samlCredentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{pendingToken:n,providerId:r}=t;if(!n||!r)return null;try{return Ao._create(r,n)}catch(i){return null}}}class Po extends To{constructor(){super("twitter.com")}static credential(e,t){return wo._fromParams({providerId:Po.PROVIDER_ID,signInMethod:Po.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Po.credentialFromTaggedObject(e)}static credentialFromError(e){return Po.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return Po.credential(n,r)}catch(i){return null}}}async function Do(e,t){return ps(e,"POST","/v1/accounts:signUp",ds(e,t))}Po.TWITTER_SIGN_IN_METHOD="twitter.com",Po.PROVIDER_ID="twitter.com";class Ro{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=await Ps._fromIdTokenResponse(e,n,r),s=Mo(n);return new Ro({user:i,providerId:s,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const r=Mo(n);return new Ro({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function Mo(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class Lo extends ar{constructor(e,t,n,r){var i;super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,Lo.prototype),this.customData={appName:e.name,tenantId:null!==(i=e.tenantId)&&void 0!==i?i:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new Lo(e,t,n,r)}}function jo(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((n=>{if(n.code==="auth/".concat("multi-factor-auth-required"))throw Lo._fromErrorAndOperation(e,n,t,r);throw n}))}function Fo(e){return new Set(e.map((e=>{let{providerId:t}=e;return t})).filter((e=>!!e)))}async function Uo(e,t){const n=wr(e);await zo(!0,n,t);const{providerUserInfo:r}=await async function(e,t){return hs(e,"POST","/v1/accounts:update",t)}(n.auth,{idToken:await n.getIdToken(),deleteProvider:[t]}),i=Fo(r||[]);return n.providerData=n.providerData.filter((e=>i.has(e.providerId))),i.has("phone")||(n.phoneNumber=null),await n.auth._persistUserIfCurrent(n),n}async function Vo(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=await ks(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return Ro._forOperation(e,"link",r)}async function zo(e,t,n){await Ns(t);const r=!1===e?"provider-already-linked":"no-such-provider";es(Fo(t.providerData).has(n)===e,t.auth,r)}async function Bo(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{auth:r}=e,i="reauthenticate";try{const s=await ks(e,jo(r,i,t,e),n);es(s.idToken,r,"internal-error");const o=Ts(s.idToken);es(o,r,"internal-error");const{sub:a}=o;return es(e.uid===a,r,"user-mismatch"),Ro._forOperation(e,i,s)}catch(s){throw(null===s||void 0===s?void 0:s.code)==="auth/".concat("user-not-found")&&Qi(r,"user-mismatch"),s}}async function qo(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r="signIn",i=await jo(e,r,t),s=await Ro._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(s.user),s}async function Wo(e,t){return qo(Zs(e),t)}async function Go(e,t){const n=wr(e);return await zo(!1,n,t.providerId),Vo(n,t)}async function Ho(e,t){return Bo(wr(e),t)}async function Yo(e,t){const n=Zs(e),r=await async function(e,t){return ps(e,"POST","/v1/accounts:signInWithCustomToken",ds(e,t))}(n,{token:t,returnSecureToken:!0}),i=await Ro._fromIdTokenResponse(n,"signIn",r);return await n._updateCurrentUser(i.user),i}class Ko{constructor(e,t){this.factorId=e,this.uid=t.mfaEnrollmentId,this.enrollmentTime=new Date(t.enrolledAt).toUTCString(),this.displayName=t.displayName}static _fromServerResponse(e,t){return"phoneInfo"in t?Qo._fromServerResponse(e,t):"totpInfo"in t?Xo._fromServerResponse(e,t):Qi(e,"internal-error")}}class Qo extends Ko{constructor(e){super("phone",e),this.phoneNumber=e.phoneInfo}static _fromServerResponse(e,t){return new Qo(t)}}class Xo extends Ko{constructor(e){super("totp",e)}static _fromServerResponse(e,t){return new Xo(t)}}function Jo(e,t,n){var r;es((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),es("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(es(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(es(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}async function $o(e){const t=Zs(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function Zo(e,t){await async function(e,t){return hs(e,"POST","/v1/accounts:update",ds(e,t))}(wr(e),{oobCode:t})}async function ea(e,t){const n=wr(e),r=await uo(n,{oobCode:t}),i=r.requestType;switch(es(i,n,"internal-error"),i){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":es(r.newEmail,n,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":es(r.mfaInfo,n,"internal-error");default:es(r.email,n,"internal-error")}let s=null;return r.mfaInfo&&(s=Ko._fromServerResponse(Zs(n),r.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===r.requestType?r.newEmail:r.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===r.requestType?r.email:r.newEmail)||null,multiFactorInfo:s},operation:i}}async function ta(e,t,n){const r=Zs(e),i=so(r,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Do),s=await i.catch((t=>{throw t.code==="auth/".concat("password-does-not-meet-requirements")&&$o(e),t})),o=await Ro._fromIdTokenResponse(r,"signIn",s);return await r._updateCurrentUser(o.user),o}function na(e,t,n){return Wo(wr(e),Eo.credential(t,n)).catch((async t=>{throw t.code==="auth/".concat("password-does-not-meet-requirements")&&$o(e),t}))}async function ra(e,t){const n={identifier:t,continueUri:is()?rs():"http://localhost"},{signinMethods:r}=await async function(e,t){return hs(e,"POST","/v1/accounts:createAuthUri",ds(e,t))}(wr(e),n);return r||[]}async function ia(e,t){const n=wr(e),r={requestType:"VERIFY_EMAIL",idToken:await e.getIdToken()};t&&Jo(n.auth,r,t);const{email:i}=await async function(e,t){return po(e,t)}(n.auth,r);i!==e.email&&await e.reload()}async function sa(e,t,n){const r=wr(e),i={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:await e.getIdToken(),newEmail:t};n&&Jo(r.auth,i,n);const{email:s}=await async function(e,t){return po(e,t)}(r.auth,i);s!==e.email&&await e.reload()}async function oa(e,t){let{displayName:n,photoURL:r}=t;if(void 0===n&&void 0===r)return;const i=wr(e),s={idToken:await i.getIdToken(),displayName:n,photoUrl:r,returnSecureToken:!0},o=await ks(i,async function(e,t){return hs(e,"POST","/v1/accounts:update",t)}(i.auth,s));i.displayName=o.displayName||null,i.photoURL=o.photoUrl||null;const a=i.providerData.find((e=>{let{providerId:t}=e;return"password"===t}));a&&(a.displayName=i.displayName,a.photoURL=i.photoURL),await i._updateTokensIfNecessary(o)}async function aa(e,t,n){const{auth:r}=e,i={idToken:await e.getIdToken(),returnSecureToken:!0};t&&(i.email=t),n&&(i.password=n);const s=await ks(e,async function(e,t){return hs(e,"POST","/v1/accounts:update",t)}(r,i));await e._updateTokensIfNecessary(s,!0)}class la{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.isNewUser=e,this.providerId=t,this.profile=n}}class ca extends la{constructor(e,t,n,r){super(e,t,n),this.username=r}}class ua extends la{constructor(e,t){super(e,"facebook.com",t)}}class da extends ca{constructor(e,t){super(e,"github.com",t,"string"===typeof(null===t||void 0===t?void 0:t.login)?null===t||void 0===t?void 0:t.login:null)}}class ha extends la{constructor(e,t){super(e,"google.com",t)}}class fa extends ca{constructor(e,t,n){super(e,"twitter.com",t,n)}}function pa(e){const{user:t,_tokenResponse:n}=e;return t.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:function(e){var t,n;if(!e)return null;const{providerId:r}=e,i=e.rawUserInfo?JSON.parse(e.rawUserInfo):{},s=e.isNewUser||"identitytoolkit#SignupNewUserResponse"===e.kind;if(!r&&(null===e||void 0===e?void 0:e.idToken)){const r=null===(n=null===(t=Ts(e.idToken))||void 0===t?void 0:t.firebase)||void 0===n?void 0:n.sign_in_provider;if(r)return new la(s,"anonymous"!==r&&"custom"!==r?r:null)}if(!r)return null;switch(r){case"facebook.com":return new ua(s,i);case"github.com":return new da(s,i);case"google.com":return new ha(s,i);case"twitter.com":return new fa(s,i,e.screenName||null);case"custom":case"anonymous":return new la(s,null);default:return new la(s,r,i)}}(n)}class ma{constructor(e,t,n){this.type=e,this.credential=t,this.user=n}static _fromIdtoken(e,t){return new ma("enroll",e,t)}static _fromMfaPendingCredential(e){return new ma("signin",e)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(e){var t,n;if(null===e||void 0===e?void 0:e.multiFactorSession){if(null===(t=e.multiFactorSession)||void 0===t?void 0:t.pendingCredential)return ma._fromMfaPendingCredential(e.multiFactorSession.pendingCredential);if(null===(n=e.multiFactorSession)||void 0===n?void 0:n.idToken)return ma._fromIdtoken(e.multiFactorSession.idToken)}return null}}class ga{constructor(e,t,n){this.session=e,this.hints=t,this.signInResolver=n}static _fromError(e,t){const n=Zs(e),r=t.customData._serverResponse,i=(r.mfaInfo||[]).map((e=>Ko._fromServerResponse(n,e)));es(r.mfaPendingCredential,n,"internal-error");const s=ma._fromMfaPendingCredential(r.mfaPendingCredential);return new ga(s,i,(async e=>{const i=await e._process(n,s);delete r.mfaInfo,delete r.mfaPendingCredential;const o=Object.assign(Object.assign({},r),{idToken:i.idToken,refreshToken:i.refreshToken});switch(t.operationType){case"signIn":const e=await Ro._fromIdTokenResponse(n,t.operationType,o);return await n._updateCurrentUser(e.user),e;case"reauthenticate":return es(t.user,n,"internal-error"),Ro._forOperation(t.user,t.operationType,o);default:Qi(n,"internal-error")}}))}async resolveSignIn(e){const t=e;return this.signInResolver(t)}}class ya{constructor(e){this.user=e,this.enrolledFactors=[],e._onReload((t=>{t.mfaInfo&&(this.enrolledFactors=t.mfaInfo.map((t=>Ko._fromServerResponse(e.auth,t))))}))}static _fromUser(e){return new ya(e)}async getSession(){return ma._fromIdtoken(await this.user.getIdToken(),this.user)}async enroll(e,t){const n=e,r=await this.getSession(),i=await ks(this.user,n._process(this.user.auth,r,t));return await this.user._updateTokensIfNecessary(i),this.user.reload()}async unenroll(e){const t="string"===typeof e?e:e.uid,n=await this.user.getIdToken();try{const e=await ks(this.user,function(e,t){return hs(e,"POST","/v2/accounts/mfaEnrollment:withdraw",ds(e,t))}(this.user.auth,{idToken:n,mfaEnrollmentId:t}));this.enrolledFactors=this.enrolledFactors.filter((e=>{let{uid:n}=e;return n!==t})),await this.user._updateTokensIfNecessary(e),await this.user.reload()}catch(r){throw r}}}const va=new WeakMap;const wa="__sak";class ba{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(wa,"1"),this.storage.removeItem(wa),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class _a extends ba{constructor(){super((()=>window.localStorage),"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const e=tr();return zs(e)||Ys(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),this.fallbackToPolling=Ks(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e.key)return void this.forAllChangedKeys(((e,t,n)=>{this.notifyListeners(e,n)}));const n=e.key;if(t?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const r=this.storage.getItem(n);if(e.newValue!==r)null!==e.newValue?this.storage.setItem(n,e.newValue):this.storage.removeItem(n);else if(this.localCache[n]===e.newValue&&!t)return}const r=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},i=this.storage.getItem(n);sr()&&10===document.documentMode&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((()=>{this.forAllChangedKeys(((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)}))}),1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}_a.type="LOCAL";const Sa=_a;class Ea extends ba{constructor(){super((()=>window.sessionStorage),"SESSION")}_addListener(e,t){}_removeListener(e,t){}}Ea.type="SESSION";const xa=Ea;class Ta{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find((t=>t.isListeningto(e)));if(t)return t;const n=new Ta(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:r,data:i}=t.data,s=this.handlersMap[r];if(!(null===s||void 0===s?void 0:s.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const o=Array.from(s).map((async e=>e(t.origin,i))),a=await function(e){return Promise.all(e.map((async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}})))}(o);t.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:a})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function ka(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="";for(let r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}Ta.receivers=[];class Ia{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;const r="undefined"!==typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let i,s;return new Promise(((o,a)=>{const l=ka("",20);r.port1.start();const c=setTimeout((()=>{a(new Error("unsupported_event"))}),n);s={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===l)switch(t.data.status){case"ack":clearTimeout(c),i=setTimeout((()=>{a(new Error("timeout"))}),3e3);break;case"done":clearTimeout(i),o(t.data.response);break;default:clearTimeout(c),clearTimeout(i),a(new Error("invalid_response"))}}},this.handlers.add(s),r.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[r.port2])})).finally((()=>{s&&this.removeMessageHandler(s)}))}}function Ca(){return window}function Na(){return"undefined"!==typeof Ca().WorkerGlobalScope&&"function"===typeof Ca().importScripts}const Aa="firebaseLocalStorageDb",Oa="firebaseLocalStorage",Pa="fbase_key";class Da{constructor(e){this.request=e}toPromise(){return new Promise(((e,t)=>{this.request.addEventListener("success",(()=>{e(this.request.result)})),this.request.addEventListener("error",(()=>{t(this.request.error)}))}))}}function Ra(e,t){return e.transaction([Oa],t?"readwrite":"readonly").objectStore(Oa)}function Ma(){const e=indexedDB.open(Aa,1);return new Promise(((t,n)=>{e.addEventListener("error",(()=>{n(e.error)})),e.addEventListener("upgradeneeded",(()=>{const t=e.result;try{t.createObjectStore(Oa,{keyPath:Pa})}catch(r){n(r)}})),e.addEventListener("success",(async()=>{const n=e.result;n.objectStoreNames.contains(Oa)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(Aa);return new Da(e).toPromise()}(),t(await Ma()))}))}))}async function La(e,t,n){const r=Ra(e,!0).put({[Pa]:t,value:n});return new Da(r).toPromise()}function ja(e,t){const n=Ra(e,!0).delete(t);return new Da(n).toPromise()}class Fa{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((()=>{}),(()=>{}))}async _openDb(){return this.db||(this.db=await Ma()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(n){if(t++>3)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Na()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Ta._getInstance(Na()?self:null),this.receiver._subscribe("keyChanged",(async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)}))),this.receiver._subscribe("ping",(async(e,t)=>["keyChanged"]))}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(e){return null}}(),!this.activeServiceWorker)return;this.sender=new Ia(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&(null===(e=n[0])||void 0===e?void 0:e.fulfilled)&&(null===(t=n[0])||void 0===t?void 0:t.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&function(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(t){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Ma();return await La(e,wa,"1"),await ja(e,wa),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite((async()=>(await this._withRetries((n=>La(n,e,t))),this.localCache[e]=t,this.notifyServiceWorker(e))))}async _get(e){const t=await this._withRetries((t=>async function(e,t){const n=Ra(e,!1).get(t),r=await new Da(n).toPromise();return void 0===r?null:r.value}(t,e)));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite((async()=>(await this._withRetries((t=>ja(t,e))),delete this.localCache[e],this.notifyServiceWorker(e))))}async _poll(){const e=await this._withRetries((e=>{const t=Ra(e,!1).getAll();return new Da(t).toPromise()}));if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;if(0!==e.length)for(const{fbase_key:r,value:i}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!n.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((async()=>this._poll()),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}Fa.type="LOCAL";const Ua=Fa;const Va=1e12;class za{constructor(e){this.auth=e,this.counter=Va,this._widgets=new Map}render(e,t){const n=this.counter;return this._widgets.set(n,new Ba(e,this.auth.name,t||{})),this.counter++,n}reset(e){var t;const n=e||Va;null===(t=this._widgets.get(n))||void 0===t||t.delete(),this._widgets.delete(n)}getResponse(e){var t;const n=e||Va;return(null===(t=this._widgets.get(n))||void 0===t?void 0:t.getResponse())||""}async execute(e){var t;const n=e||Va;return null===(t=this._widgets.get(n))||void 0===t||t.execute(),""}}class Ba{constructor(e,t,n){this.params=n,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const r="string"===typeof e?document.getElementById(e):e;es(r,"argument-error",{appName:t}),this.container=r,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout((()=>{this.responseToken=function(e){const t=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let r=0;r<e;r++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")}(50);const{callback:e,"expired-callback":t}=this.params;if(e)try{e(this.responseToken)}catch(n){}this.timerId=window.setTimeout((()=>{if(this.timerId=null,this.responseToken=null,t)try{t()}catch(n){}this.isVisible&&this.execute()}),6e4)}),500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const qa=no("rcb"),Wa=new os(3e4,6e4);class Ga{constructor(){var e;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(null===(e=Ca().grecaptcha)||void 0===e?void 0:e.render)}load(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return es(function(e){return e.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(e)}(t),e,"argument-error"),this.shouldResolveImmediately(t)&&ws(Ca().grecaptcha)?Promise.resolve(Ca().grecaptcha):new Promise(((n,r)=>{const i=Ca().setTimeout((()=>{r(Xi(e,"network-request-failed"))}),Wa.get());Ca()[qa]=()=>{Ca().clearTimeout(i),delete Ca()[qa];const s=Ca().grecaptcha;if(!s||!ws(s))return void r(Xi(e,"internal-error"));const o=s.render;s.render=(e,t)=>{const n=o(e,t);return this.counter++,n},this.hostLanguage=t,n(s)};to("".concat("https://www.google.com/recaptcha/api.js?","?").concat(fr({onload:qa,render:"explicit",hl:t}))).catch((()=>{clearTimeout(i),r(Xi(e,"internal-error"))}))}))}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){var t;return!!(null===(t=Ca().grecaptcha)||void 0===t?void 0:t.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Ha{async load(e){return new za(e)}clearedOneInstance(){}}const Ya="recaptcha",Ka={theme:"light",type:"image"};class Qa{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Object.assign({},Ka);this.parameters=n,this.type=Ya,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Zs(e),this.isInvisible="invisible"===this.parameters.size,es("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment");const r="string"===typeof t?document.getElementById(t):t;es(r,this.auth,"argument-error"),this.container=r,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Ha:new Ga,this.validateStartingState()}async verify(){this.assertNotDestroyed();const e=await this.render(),t=this.getAssertedRecaptcha(),n=t.getResponse(e);return n||new Promise((n=>{const r=e=>{e&&(this.tokenChangeListeners.delete(r),n(e))};this.tokenChangeListeners.add(r),this.isInvisible&&t.execute(e)}))}render(){try{this.assertNotDestroyed()}catch(e){return Promise.reject(e)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch((e=>{throw this.renderPromise=null,e}))),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach((e=>{this.container.removeChild(e)}))}validateStartingState(){es(!this.parameters.sitekey,this.auth,"argument-error"),es(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),es("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return t=>{if(this.tokenChangeListeners.forEach((e=>e(t))),"function"===typeof e)e(t);else if("string"===typeof e){const n=Ca()[e];"function"===typeof n&&n(t)}}}assertNotDestroyed(){es(!this.destroyed,this.auth,"internal-error")}async makeRenderPromise(){if(await this.init(),!this.widgetId){let e=this.container;if(!this.isInvisible){const t=document.createElement("div");e.appendChild(t),e=t}this.widgetId=this.getAssertedRecaptcha().render(e,this.parameters)}return this.widgetId}async init(){es(is()&&!Na(),this.auth,"internal-error"),await function(){let e=null;return new Promise((t=>{"complete"!==document.readyState?(e=()=>t(),window.addEventListener("load",e)):t()})).catch((t=>{throw e&&window.removeEventListener("load",e),t}))}(),this.recaptcha=await this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);const e=await async function(e){return(await hs(e,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""}(this.auth);es(e,this.auth,"internal-error"),this.parameters.sitekey=e}getAssertedRecaptcha(){return es(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Xa{constructor(e,t){this.verificationId=e,this.onConfirmation=t}confirm(e){const t=_o._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}async function Ja(e,t,n){var r;const i=await n.verify();try{let s;if(es("string"===typeof i,e,"argument-error"),es(n.type===Ya,e,"argument-error"),s="string"===typeof t?{phoneNumber:t}:t,"session"in s){const t=s.session;if("phoneNumber"in s){es("enroll"===t.type,e,"internal-error");const n=await function(e,t){return hs(e,"POST","/v2/accounts/mfaEnrollment:start",ds(e,t))}(e,{idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:s.phoneNumber,recaptchaToken:i}});return n.phoneSessionInfo.sessionInfo}{es("signin"===t.type,e,"internal-error");const n=(null===(r=s.multiFactorHint)||void 0===r?void 0:r.uid)||s.multiFactorUid;es(n,e,"missing-multi-factor-info");const o=await function(e,t){return hs(e,"POST","/v2/accounts/mfaSignIn:start",ds(e,t))}(e,{mfaPendingCredential:t.credential,mfaEnrollmentId:n,phoneSignInInfo:{recaptchaToken:i}});return o.phoneResponseInfo.sessionInfo}}{const{sessionInfo:t}=await async function(e,t){return hs(e,"POST","/v1/accounts:sendVerificationCode",ds(e,t))}(e,{phoneNumber:s.phoneNumber,recaptchaToken:i});return t}}finally{n._reset()}}class $a{constructor(e){this.providerId=$a.PROVIDER_ID,this.auth=Zs(e)}verifyPhoneNumber(e,t){return Ja(this.auth,e,wr(t))}static credential(e,t){return _o._fromVerification(e,t)}static credentialFromResult(e){const t=e;return $a.credentialFromTaggedObject(t)}static credentialFromError(e){return $a.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{phoneNumber:n,temporaryProof:r}=t;return n&&r?_o._fromTokenResponse(n,r):null}}function Za(e,t){return t?Rs(t):(es(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}$a.PROVIDER_ID="phone",$a.PHONE_SIGN_IN_METHOD="phone";class el extends co{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return vo(e,this._buildIdpRequest())}_linkToIdToken(e,t){return vo(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return vo(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function tl(e){return qo(e.auth,new el(e),e.bypassAuthState)}function nl(e){const{auth:t,user:n}=e;return es(n,t,"internal-error"),Bo(n,new el(e),e.bypassAuthState)}async function rl(e){const{auth:t,user:n}=e;return es(n,t,"internal-error"),Vo(n,new el(e),e.bypassAuthState)}class il{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}}))}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:r,tenantId:i,error:s,type:o}=e;if(s)return void this.reject(s);const a={auth:this.auth,requestUri:t,sessionId:n,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(o)(a))}catch(l){this.reject(l)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return tl;case"linkViaPopup":case"linkViaRedirect":return rl;case"reauthViaPopup":case"reauthViaRedirect":return nl;default:Qi(this.auth,"internal-error")}}resolve(e){ns(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ns(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const sl=new os(2e3,1e4);class ol extends il{constructor(e,t,n,r,i){super(e,t,r,i),this.provider=n,this.authWindow=null,this.pollId=null,ol.currentPopupAction&&ol.currentPopupAction.cancel(),ol.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return es(e,this.auth,"internal-error"),e}async onExecution(){ns(1===this.filter.length,"Popup operations only handle one event");const e=ka();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch((e=>{this.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(e=>{e||this.reject(Xi(this.auth,"web-storage-unsupported"))})),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(Xi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ol.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;(null===(n=null===(t=this.authWindow)||void 0===t?void 0:t.window)||void 0===n?void 0:n.closed)?this.pollId=window.setTimeout((()=>{this.pollId=null,this.reject(Xi(this.auth,"popup-closed-by-user"))}),8e3):this.pollId=window.setTimeout(e,sl.get())};e()}}ol.currentPopupAction=null;const al="pendingRedirect",ll=new Map;class cl extends il{constructor(e,t){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,arguments.length>2&&void 0!==arguments[2]&&arguments[2]),this.eventId=null}async execute(){let e=ll.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=fl(t),r=hl(e);if(!await r._isAvailable())return!1;const i="true"===await r._get(n);return await r._remove(n),i}(this.resolver,this.auth),n=t?await super.execute():null;e=()=>Promise.resolve(n)}catch(t){e=()=>Promise.reject(t)}ll.set(this.auth._key(),e)}return this.bypassAuthState||ll.set(this.auth._key(),(()=>Promise.resolve(null))),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}async function ul(e,t){return hl(e)._set(fl(t),"true")}function dl(e,t){ll.set(e._key(),t)}function hl(e){return Rs(e._redirectPersistence)}function fl(e){return js(al,e.config.apiKey,e.name)}function pl(e,t,n){return async function(e,t,n){const r=Zs(e);$i(e,t,xo),await r._initializationPromise;const i=Za(r,n);return await ul(i,r),i._openRedirect(r,t,"signInViaRedirect")}(e,t,n)}function ml(e,t,n){return async function(e,t,n){const r=wr(e);$i(r.auth,t,xo),await r.auth._initializationPromise;const i=Za(r.auth,n);await ul(i,r.auth);const s=await vl(r);return i._openRedirect(r.auth,t,"reauthViaRedirect",s)}(e,t,n)}function gl(e,t,n){return async function(e,t,n){const r=wr(e);$i(r.auth,t,xo),await r.auth._initializationPromise;const i=Za(r.auth,n);await zo(!1,r,t.providerId),await ul(i,r.auth);const s=await vl(r);return i._openRedirect(r.auth,t,"linkViaRedirect",s)}(e,t,n)}async function yl(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=Zs(e),i=Za(r,t),s=new cl(r,i,n),o=await s.execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,t)),o}async function vl(e){const t=ka("".concat(e.uid,":::"));return e._redirectEventId=t,await e.auth._setRedirectUser(e),await e.auth._persistUserIfCurrent(e),t}class wl{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach((n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return _l(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!_l(e)){const r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(Xi(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(bl(e))}saveEventToCache(e){this.cachedEventUids.add(bl(e)),this.lastProcessedEventTime=Date.now()}}function bl(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((e=>e)).join("-")}function _l(e){let{type:t,error:n}=e;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}async function Sl(e){return hs(e,"GET","/v1/projects",arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}const El=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,xl=/^https?/;function Tl(e){const t=rs(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const i=new URL(e);return""===i.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&i.hostname===r}if(!xl.test(n))return!1;if(El.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const kl=new os(3e4,6e4);function Il(){const e=Ca().___jsl;if(null===e||void 0===e?void 0:e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}let Cl=null;function Nl(e){return Cl=Cl||function(e){return new Promise(((t,n)=>{var r,i,s;function o(){Il(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Il(),n(Xi(e,"network-request-failed"))},timeout:kl.get()})}if(null===(i=null===(r=Ca().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(s=Ca().gapi)||void 0===s?void 0:s.load)){const t=no("iframefcb");return Ca()[t]=()=>{gapi.load?o():n(Xi(e,"network-request-failed"))},to("https://apis.google.com/js/api.js?onload=".concat(t)).catch((e=>n(e)))}o()}})).catch((e=>{throw Cl=null,e}))}(e),Cl}const Al=new os(5e3,15e3),Ol="__/auth/iframe",Pl="emulator/auth/iframe",Dl={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Rl=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Ml(e){const t=e.config;es(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?as(t,Pl):"https://".concat(e.config.authDomain,"/").concat(Ol),r={apiKey:t.apiKey,appName:e.name,v:ui},i=Rl.get(e.config.apiHost);i&&(r.eid=i);const s=e._getFrameworks();return s.length&&(r.fw=s.join(",")),"".concat(n,"?").concat(fr(r).slice(1))}const Ll={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class jl{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(e){}}}function Fl(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600;const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},Ll),{width:r.toString(),height:i.toString(),top:s,left:o}),c=tr().toLowerCase();n&&(a=Bs(c)?"_blank":n),Vs(c)&&(t=t||"http://localhost",l.scrollbars="yes");const u=Object.entries(l).reduce(((e,t)=>{let[n,r]=t;return"".concat(e).concat(n,"=").concat(r,",")}),"");if(function(){var e;return Ys(arguments.length>0&&void 0!==arguments[0]?arguments[0]:tr())&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(c)&&"_self"!==a)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",a),new jl(null);const d=window.open(t||"",a,u);es(d,e,"popup-blocked");try{d.focus()}catch(h){}return new jl(d)}const Ul="__/auth/handler",Vl="emulator/auth/handler",zl=encodeURIComponent("fac");async function Bl(e,t,n,r,i,s){es(e.config.authDomain,e,"auth-domain-config-required"),es(e.config.apiKey,e,"invalid-api-key");const o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:ui,eventId:i};if(t instanceof xo){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",function(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(s||{}))o[e]=t}if(t instanceof To){const e=t.getScopes().filter((e=>""!==e));e.length>0&&(o.scopes=e.join(","))}e.tenantId&&(o.tid=e.tenantId);const a=o;for(const u of Object.keys(a))void 0===a[u]&&delete a[u];const l=await e._getAppCheckToken(),c=l?"#".concat(zl,"=").concat(encodeURIComponent(l)):"";return"".concat(function(e){let{config:t}=e;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(Ul);return as(t,Vl)}(e),"?").concat(fr(a).slice(1)).concat(c)}const ql="webStorageSupport";const Wl=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=xa,this._completeRedirectFn=yl,this._overrideRedirectResult=dl}async _openPopup(e,t,n,r){var i;ns(null===(i=this.eventManagers[e._key()])||void 0===i?void 0:i.manager,"_initialize() not called before _openPopup()");return Fl(e,await Bl(e,t,n,rs(),r),ka())}async _openRedirect(e,t,n,r){await this._originValidation(e);return function(e){Ca().location.href=e}(await Bl(e,t,n,rs(),r)),new Promise((()=>{}))}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(ns(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch((()=>{delete this.eventManagers[t]})),n}async initAndGetManager(e){const t=await async function(e){const t=await Nl(e),n=Ca().gapi;return es(n,e,"internal-error"),t.open({where:document.body,url:Ml(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Dl,dontclear:!0},(t=>new Promise((async(n,r)=>{await t.restyle({setHideOnLeave:!1});const i=Xi(e,"network-request-failed"),s=Ca().setTimeout((()=>{r(i)}),Al.get());function o(){Ca().clearTimeout(s),n(t)}t.ping(o).then(o,(()=>{r(i)}))}))))}(e),n=new wl(e);return t.register("authEvent",(t=>{es(null===t||void 0===t?void 0:t.authEvent,e,"invalid-auth-event");return{status:n.onEvent(t.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(ql,{type:ql},(n=>{var r;const i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r[ql];void 0!==i&&t(!!i),Qi(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=async function(e){if(e.config.emulator)return;const{authorizedDomains:t}=await Sl(e);for(const r of t)try{if(Tl(r))return}catch(n){}Qi(e,"unauthorized-domain")}(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Ks()||zs()||Ys()}};class Gl{constructor(e){this.factorId=e}_process(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return ts("unexpected MultiFactorSessionType")}}}class Hl extends Gl{constructor(e){super("phone"),this.credential=e}static _fromCredential(e){return new Hl(e)}_finalizeEnroll(e,t,n){return function(e,t){return hs(e,"POST","/v2/accounts/mfaEnrollment:finalize",ds(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(e,t){return function(e,t){return hs(e,"POST","/v2/accounts/mfaSignIn:finalize",ds(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}class Yl{constructor(){}static assertion(e){return Hl._fromCredential(e)}}Yl.FACTOR_ID="phone";var Kl="@firebase/auth",Ql="1.5.1";class Xl{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(e)}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged((t=>{e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){es(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}(e=>{var t;null===(t=$n())||void 0===t||t["_".concat(e)]})("authIdTokenMaxAge");var Jl;function $l(){return window}Jl="Browser",ii(new br("auth",((e,t)=>{let{options:n}=t;const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;es(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:Jl,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Qs(Jl)},c=new $s(r,i,s,l);return function(e,t){const n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Rs);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(c,n),c}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(((e,t,n)=>{e.getProvider("auth-internal").initialize()}))),ii(new br("auth-internal",(e=>(e=>new Xl(e))(Zs(e.getProvider("auth").getImmediate()))),"PRIVATE").setInstantiationMode("EXPLICIT")),mi(Kl,Ql,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(Jl)),mi(Kl,Ql,"esm2017");async function Zl(e,t,n){var r;const{BuildInfo:i}=$l();ns(t.sessionId,"AuthEvent did not contain a session ID");const s=await async function(e){const t=function(e){if(ns(/[0-9a-zA-Z]+/.test(e),"Can only convert alpha-numeric strings"),"undefined"!==typeof TextEncoder)return(new TextEncoder).encode(e);const t=new ArrayBuffer(e.length),n=new Uint8Array(t);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(e),n=await crypto.subtle.digest("SHA-256",t);return Array.from(new Uint8Array(n)).map((e=>e.toString(16).padStart(2,"0"))).join("")}(t.sessionId),o={};return Ys()?o.ibi=i.packageName:Ws()?o.apn=i.packageName:Qi(e,"operation-not-supported-in-this-environment"),i.displayName&&(o.appDisplayName=i.displayName),o.sessionId=s,Bl(e,n,t.type,void 0,null!==(r=t.eventId)&&void 0!==r?r:void 0,o)}function ec(e){const{cordova:t}=$l();return new Promise((n=>{t.plugins.browsertab.isAvailable((r=>{let i=null;r?t.plugins.browsertab.openUrl(e):i=t.InAppBrowser.open(e,function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:tr();return/(iPad|iPhone|iPod).*OS 7_\d/i.test(e)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(e)}()?"_blank":"_system","location=yes"),n(i)}))}))}const tc=20;class nc extends wl{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise((e=>{this.resolveInialized=e}))}addPassiveListener(e){this.passiveListeners.add(e)}removePassiveListener(e){this.passiveListeners.delete(e)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(e){return this.resolveInialized(),this.passiveListeners.forEach((t=>t(e))),super.onEvent(e)}async initialized(){await this.initPromise}}async function rc(e){const t=await oc()._get(ac(e));return t&&await oc()._remove(ac(e)),t}function ic(e,t){var n,r;const i=function(e){const t=lc(e),n=t.link?decodeURIComponent(t.link):void 0,r=lc(n).link,i=t.deep_link_id?decodeURIComponent(t.deep_link_id):void 0;return lc(i).link||i||r||n||e}(t);if(i.includes("/__/auth/callback")){const t=lc(i),s=t.firebaseError?function(e){try{return JSON.parse(e)}catch(t){return null}}(decodeURIComponent(t.firebaseError)):null,o=null===(r=null===(n=null===s||void 0===s?void 0:s.code)||void 0===n?void 0:n.split("auth/"))||void 0===r?void 0:r[1],a=o?Xi(o):null;return a?{type:e.type,eventId:e.eventId,tenantId:e.tenantId,error:a,urlResponse:null,sessionId:null,postBody:null}:{type:e.type,eventId:e.eventId,tenantId:e.tenantId,sessionId:e.sessionId,urlResponse:i,postBody:null}}return null}function sc(){const e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let n=0;n<tc;n++){const n=Math.floor(62*Math.random());e.push(t.charAt(n))}return e.join("")}function oc(){return Rs(Sa)}function ac(e){return js("authEvent",e.config.apiKey,e.name)}function lc(e){if(!(null===e||void 0===e?void 0:e.includes("?")))return{};const[t,...n]=e.split("?");return pr(n.join("?"))}const cc=class{constructor(){this._redirectPersistence=xa,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=yl,this._overrideRedirectResult=dl}async _initialize(e){const t=e._key();let n=this.eventManagers.get(t);return n||(n=new nc(e),this.eventManagers.set(t,n),this.attachCallbackListeners(e,n)),n}_openPopup(e){Qi(e,"operation-not-supported-in-this-environment")}async _openRedirect(e,t,n,r){!function(e){var t,n,r,i,s,o,a,l,c,u;const d=$l();es("function"===typeof(null===(t=null===d||void 0===d?void 0:d.universalLinks)||void 0===t?void 0:t.subscribe),e,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),es("undefined"!==typeof(null===(n=null===d||void 0===d?void 0:d.BuildInfo)||void 0===n?void 0:n.packageName),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),es("function"===typeof(null===(s=null===(i=null===(r=null===d||void 0===d?void 0:d.cordova)||void 0===r?void 0:r.plugins)||void 0===i?void 0:i.browsertab)||void 0===s?void 0:s.openUrl),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),es("function"===typeof(null===(l=null===(a=null===(o=null===d||void 0===d?void 0:d.cordova)||void 0===o?void 0:o.plugins)||void 0===a?void 0:a.browsertab)||void 0===l?void 0:l.isAvailable),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),es("function"===typeof(null===(u=null===(c=null===d||void 0===d?void 0:d.cordova)||void 0===c?void 0:c.InAppBrowser)||void 0===u?void 0:u.open),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(e);const i=await this._initialize(e);await i.initialized(),i.resetRedirect(),ll.clear(),await this._originValidation(e);const s=function(e,t){return{type:t,eventId:arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,urlResponse:null,sessionId:sc(),postBody:null,tenantId:e.tenantId,error:Xi(e,"no-auth-event")}}(e,n,r);await function(e,t){return oc()._set(ac(e),t)}(e,s);const o=await Zl(e,s,t);return async function(e,t,n){const{cordova:r}=$l();let i=()=>{};try{await new Promise(((s,o)=>{let a=null;function l(){var e;s();const t=null===(e=r.plugins.browsertab)||void 0===e?void 0:e.close;"function"===typeof t&&t(),"function"===typeof(null===n||void 0===n?void 0:n.close)&&n.close()}function c(){a||(a=window.setTimeout((()=>{o(Xi(e,"redirect-cancelled-by-user"))}),2e3))}function u(){"visible"===(null===document||void 0===document?void 0:document.visibilityState)&&c()}t.addPassiveListener(l),document.addEventListener("resume",c,!1),Ws()&&document.addEventListener("visibilitychange",u,!1),i=()=>{t.removePassiveListener(l),document.removeEventListener("resume",c,!1),document.removeEventListener("visibilitychange",u,!1),a&&window.clearTimeout(a)}}))}finally{i()}}(e,i,await ec(o))}_isIframeWebStorageSupported(e,t){throw new Error("Method not implemented.")}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=async function(e){const{BuildInfo:t}=$l(),n={};Ys()?n.iosBundleId=t.packageName:Ws()?n.androidPackageName=t.packageName:Qi(e,"operation-not-supported-in-this-environment"),await Sl(e,n)}(e)),this.originValidationPromises[t]}attachCallbackListeners(e,t){const{universalLinks:n,handleOpenURL:r,BuildInfo:i}=$l(),s=setTimeout((async()=>{await rc(e),t.onEvent(uc())}),500),o=async n=>{clearTimeout(s);const r=await rc(e);let i=null;r&&(null===n||void 0===n?void 0:n.url)&&(i=ic(r,n.url)),t.onEvent(i||uc())};"undefined"!==typeof n&&"function"===typeof n.subscribe&&n.subscribe(null,o);const a=r,l="".concat(i.packageName.toLowerCase(),"://");$l().handleOpenURL=async e=>{if(e.toLowerCase().startsWith(l)&&o({url:e}),"function"===typeof a)try{a(e)}catch(t){console.error(t)}}}};function uc(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Xi("no-auth-event")}}function dc(){var e;return(null===(e=null===self||void 0===self?void 0:self.location)||void 0===e?void 0:e.protocol)||null}function hc(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:tr();return!("file:"!==dc()&&"ionic:"!==dc()&&"capacitor:"!==dc()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function fc(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:tr();return sr()&&11===(null===document||void 0===document?void 0:document.documentMode)||function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:tr();return/Edge\/\d+/.test(e)}(e)}function pc(){try{const e=self.localStorage,t=ka();if(e)return e.setItem(t,"1"),e.removeItem(t),!fc()||or()}catch(e){return mc()&&or()}return!1}function mc(){return"undefined"!==typeof n.g&&"WorkerGlobalScope"in n.g&&"importScripts"in n.g}function gc(){return("http:"===dc()||"https:"===dc()||rr()||hc())&&!(ir()||nr())&&pc()&&!mc()}function yc(){return hc()&&"undefined"!==typeof document}const vc={LOCAL:"local",NONE:"none",SESSION:"session"},wc=es,bc="persistence";async function _c(e){await e._initializationPromise;const t=Sc(),n=js(bc,e.config.apiKey,e.name);t&&t.setItem(n,e._getPersistence())}function Sc(){var e;try{return(null===(e="undefined"!==typeof window?window:null)||void 0===e?void 0:e.sessionStorage)||null}catch(t){return null}}const Ec=es;class xc{constructor(){this.browserResolver=Rs(Wl),this.cordovaResolver=Rs(cc),this.underlyingResolver=null,this._redirectPersistence=xa,this._completeRedirectFn=yl,this._overrideRedirectResult=dl}async _initialize(e){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._initialize(e)}async _openPopup(e,t,n,r){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openPopup(e,t,n,r)}async _openRedirect(e,t,n,r){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openRedirect(e,t,n,r)}_isIframeWebStorageSupported(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}_originValidation(e){return this.assertedUnderlyingResolver._originValidation(e)}get _shouldInitProactively(){return yc()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Ec(this.underlyingResolver,"internal-error"),this.underlyingResolver}async selectUnderlyingResolver(){if(this.underlyingResolver)return;const e=await async function(){return!!yc()&&new Promise((e=>{const t=setTimeout((()=>{e(!1)}),1e3);document.addEventListener("deviceready",(()=>{clearTimeout(t),e(!0)}))}))}();this.underlyingResolver=e?this.cordovaResolver:this.browserResolver}}function Tc(e){return e.unwrap()}function kc(e,t){var n;const r=null===(n=t.customData)||void 0===n?void 0:n._tokenResponse;if("auth/multi-factor-auth-required"===(null===t||void 0===t?void 0:t.code)){t.resolver=new Ac(e,function(e,t){var n;const r=wr(e),i=t;return es(t.customData.operationType,r,"argument-error"),es(null===(n=i.customData._serverResponse)||void 0===n?void 0:n.mfaPendingCredential,r,"argument-error"),ga._fromError(r,i)}(e,t))}else if(r){const e=Ic(t),n=t;e&&(n.credential=e,n.tenantId=r.tenantId||void 0,n.email=r.email||void 0,n.phoneNumber=r.phoneNumber||void 0)}}function Ic(e){const{_tokenResponse:t}=e instanceof ar?e.customData:e;if(!t)return null;if(!(e instanceof ar)&&"temporaryProof"in t&&"phoneNumber"in t)return $a.credentialFromResult(e);const n=t.providerId;if(!n||n===Li.PASSWORD)return null;let r;switch(n){case Li.GOOGLE:r=Co;break;case Li.FACEBOOK:r=Io;break;case Li.GITHUB:r=No;break;case Li.TWITTER:r=Po;break;default:const{oauthIdToken:e,oauthAccessToken:i,oauthTokenSecret:s,pendingToken:o,nonce:a}=t;return i||s||e||o?o?n.startsWith("saml.")?Ao._create(n,o):wo._fromParams({providerId:n,signInMethod:n,pendingToken:o,idToken:e,accessToken:i}):new ko(n).credential({idToken:e,accessToken:i,rawNonce:a}):null}return e instanceof ar?r.credentialFromError(e):r.credentialFromResult(e)}function Cc(e,t){return t.catch((t=>{throw t instanceof ar&&kc(e,t),t})).then((e=>{const t=e.operationType,n=e.user;return{operationType:t,credential:(r=e,Ic(r)),additionalUserInfo:pa(e),user:Oc.getOrCreate(n)};var r}))}async function Nc(e,t){const n=await t;return{verificationId:n.verificationId,confirm:t=>Cc(e,n.confirm(t))}}class Ac{constructor(e,t){this.resolver=t,this.auth=e.wrapped()}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(e){return Cc(Tc(this.auth),this.resolver.resolveSignIn(e))}}class Oc{constructor(e){this._delegate=e,this.multiFactor=function(e){const t=wr(e);return va.has(t)||va.set(t,ya._fromUser(t)),va.get(t)}(e)}static getOrCreate(e){return Oc.USER_MAP.has(e)||Oc.USER_MAP.set(e,new Oc(e)),Oc.USER_MAP.get(e)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(e){return this._delegate.getIdTokenResult(e)}getIdToken(e){return this._delegate.getIdToken(e)}linkAndRetrieveDataWithCredential(e){return this.linkWithCredential(e)}async linkWithCredential(e){return Cc(this.auth,Go(this._delegate,e))}async linkWithPhoneNumber(e,t){return Nc(this.auth,async function(e,t,n){const r=wr(e);await zo(!1,r,"phone");const i=await Ja(r.auth,t,wr(n));return new Xa(i,(e=>Go(r,e)))}(this._delegate,e,t))}async linkWithPopup(e){return Cc(this.auth,async function(e,t,n){const r=wr(e);$i(r.auth,t,xo);const i=Za(r.auth,n);return new ol(r.auth,"linkViaPopup",t,i,r).executeNotNull()}(this._delegate,e,xc))}async linkWithRedirect(e){return await _c(Zs(this.auth)),gl(this._delegate,e,xc)}reauthenticateAndRetrieveDataWithCredential(e){return this.reauthenticateWithCredential(e)}async reauthenticateWithCredential(e){return Cc(this.auth,Ho(this._delegate,e))}reauthenticateWithPhoneNumber(e,t){return Nc(this.auth,async function(e,t,n){const r=wr(e),i=await Ja(r.auth,t,wr(n));return new Xa(i,(e=>Ho(r,e)))}(this._delegate,e,t))}reauthenticateWithPopup(e){return Cc(this.auth,async function(e,t,n){const r=wr(e);$i(r.auth,t,xo);const i=Za(r.auth,n);return new ol(r.auth,"reauthViaPopup",t,i,r).executeNotNull()}(this._delegate,e,xc))}async reauthenticateWithRedirect(e){return await _c(Zs(this.auth)),ml(this._delegate,e,xc)}sendEmailVerification(e){return ia(this._delegate,e)}async unlink(e){return await Uo(this._delegate,e),this}updateEmail(e){return function(e,t){return aa(wr(e),t,null)}(this._delegate,e)}updatePassword(e){return function(e,t){return aa(wr(e),null,t)}(this._delegate,e)}updatePhoneNumber(e){return async function(e,t){await Vo(wr(e),t)}(this._delegate,e)}updateProfile(e){return oa(this._delegate,e)}verifyBeforeUpdateEmail(e,t){return sa(this._delegate,e,t)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Oc.USER_MAP=new WeakMap;const Pc=es;class Dc{constructor(e,t){if(this.app=e,t.isInitialized())return this._delegate=t.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:n}=e.options;Pc(n,"invalid-api-key",{appName:e.name}),Pc(n,"invalid-api-key",{appName:e.name});const r="undefined"!==typeof window?xc:void 0;this._delegate=t.initialize({options:{persistence:Mc(n,e.name),popupRedirectResolver:r}}),this._delegate._updateErrorMap(Wi),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Oc.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(e){this._delegate.languageCode=e}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(e){this._delegate.tenantId=e}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(e,t){oo(this._delegate,e,t)}applyActionCode(e){return Zo(this._delegate,e)}checkActionCode(e){return ea(this._delegate,e)}confirmPasswordReset(e,t){return async function(e,t,n){await uo(wr(e),{oobCode:t,newPassword:n}).catch((async t=>{throw t.code==="auth/".concat("password-does-not-meet-requirements")&&$o(e),t}))}(this._delegate,e,t)}async createUserWithEmailAndPassword(e,t){return Cc(this._delegate,ta(this._delegate,e,t))}fetchProvidersForEmail(e){return this.fetchSignInMethodsForEmail(e)}fetchSignInMethodsForEmail(e){return ra(this._delegate,e)}isSignInWithEmailLink(e){return function(e,t){const n=So.parseLink(t);return"EMAIL_SIGNIN"===(null===n||void 0===n?void 0:n.operation)}(this._delegate,e)}async getRedirectResult(){Pc(gc(),this._delegate,"operation-not-supported-in-this-environment");const e=await async function(e,t){return await Zs(e)._initializationPromise,yl(e,t,!1)}(this._delegate,xc);return e?Cc(this._delegate,Promise.resolve(e)):{credential:null,user:null}}addFrameworkForLogging(e){!function(e,t){Zs(e)._logFramework(t)}(this._delegate,e)}onAuthStateChanged(e,t,n){const{next:r,error:i,complete:s}=Rc(e,t,n);return this._delegate.onAuthStateChanged(r,i,s)}onIdTokenChanged(e,t,n){const{next:r,error:i,complete:s}=Rc(e,t,n);return this._delegate.onIdTokenChanged(r,i,s)}sendSignInLinkToEmail(e,t){return async function(e,t,n){const r=Zs(e),i={requestType:"EMAIL_SIGNIN",email:t,clientType:"CLIENT_TYPE_WEB"};!function(e,t){es(t.handleCodeInApp,r,"argument-error"),t&&Jo(r,e,t)}(i,n),await so(r,i,"getOobCode",go)}(this._delegate,e,t)}sendPasswordResetEmail(e,t){return async function(e,t,n){const r=Zs(e),i={requestType:"PASSWORD_RESET",email:t,clientType:"CLIENT_TYPE_WEB"};n&&Jo(r,i,n),await so(r,i,"getOobCode",mo)}(this._delegate,e,t||void 0)}async setPersistence(e){let t;switch(function(e,t){wc(Object.values(vc).includes(t),e,"invalid-persistence-type"),ir()?wc(t!==vc.SESSION,e,"unsupported-persistence-type"):nr()?wc(t===vc.NONE,e,"unsupported-persistence-type"):mc()?wc(t===vc.NONE||t===vc.LOCAL&&or(),e,"unsupported-persistence-type"):wc(t===vc.NONE||pc(),e,"unsupported-persistence-type")}(this._delegate,e),e){case vc.SESSION:t=xa;break;case vc.LOCAL:t=await Rs(Ua)._isAvailable()?Ua:Sa;break;case vc.NONE:t=Ls;break;default:return Qi("argument-error",{appName:this._delegate.name})}return this._delegate.setPersistence(t)}signInAndRetrieveDataWithCredential(e){return this.signInWithCredential(e)}signInAnonymously(){return Cc(this._delegate,async function(e){var t;const n=Zs(e);if(await n._initializationPromise,null===(t=n.currentUser)||void 0===t?void 0:t.isAnonymous)return new Ro({user:n.currentUser,providerId:null,operationType:"signIn"});const r=await Do(n,{returnSecureToken:!0}),i=await Ro._fromIdTokenResponse(n,"signIn",r,!0);return await n._updateCurrentUser(i.user),i}(this._delegate))}signInWithCredential(e){return Cc(this._delegate,Wo(this._delegate,e))}signInWithCustomToken(e){return Cc(this._delegate,Yo(this._delegate,e))}signInWithEmailAndPassword(e,t){return Cc(this._delegate,na(this._delegate,e,t))}signInWithEmailLink(e,t){return Cc(this._delegate,async function(e,t,n){const r=wr(e),i=Eo.credentialWithLink(t,n||rs());return es(i._tenantId===(r.tenantId||null),r,"tenant-id-mismatch"),Wo(r,i)}(this._delegate,e,t))}signInWithPhoneNumber(e,t){return Nc(this._delegate,async function(e,t,n){const r=Zs(e),i=await Ja(r,t,wr(n));return new Xa(i,(e=>Wo(r,e)))}(this._delegate,e,t))}async signInWithPopup(e){return Pc(gc(),this._delegate,"operation-not-supported-in-this-environment"),Cc(this._delegate,async function(e,t,n){const r=Zs(e);$i(e,t,xo);const i=Za(r,n);return new ol(r,"signInViaPopup",t,i).executeNotNull()}(this._delegate,e,xc))}async signInWithRedirect(e){return Pc(gc(),this._delegate,"operation-not-supported-in-this-environment"),await _c(this._delegate),pl(this._delegate,e,xc)}updateCurrentUser(e){return this._delegate.updateCurrentUser(e)}verifyPasswordResetCode(e){return async function(e,t){const{data:n}=await ea(wr(e),t);return n.email}(this._delegate,e)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}function Rc(e,t,n){let r=e;"function"!==typeof e&&({next:r,error:t,complete:n}=e);const i=r;return{next:e=>i(e&&Oc.getOrCreate(e)),error:t,complete:n}}function Mc(e,t){const n=function(e,t){const n=Sc();if(!n)return[];const r=js(bc,e,t);switch(n.getItem(r)){case vc.NONE:return[Ls];case vc.LOCAL:return[Ua,xa];case vc.SESSION:return[xa];default:return[]}}(e,t);if("undefined"===typeof self||n.includes(Ua)||n.push(Ua),"undefined"!==typeof window)for(const r of[Sa,xa])n.includes(r)||n.push(r);return n.includes(Ls)||n.push(Ls),n}Dc.Persistence=vc;class Lc{constructor(){this.providerId="phone",this._delegate=new $a(Tc(Ri.auth()))}static credential(e,t){return $a.credential(e,t)}verifyPhoneNumber(e,t){return this._delegate.verifyPhoneNumber(e,t)}unwrap(){return this._delegate}}Lc.PHONE_SIGN_IN_METHOD=$a.PHONE_SIGN_IN_METHOD,Lc.PROVIDER_ID=$a.PROVIDER_ID;const jc=es;class Fc{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Ri.app();var r;jc(null===(r=n.options)||void 0===r?void 0:r.apiKey,"invalid-api-key",{appName:n.name}),this._delegate=new Qa(n.auth(),e,t),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function(e){e.INTERNAL.registerComponent(new br("auth-compat",(e=>{const t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("auth");return new Dc(t,n)}),"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:ji,PASSWORD_RESET:Fi,RECOVER_EMAIL:Ui,REVERT_SECOND_FACTOR_ADDITION:Vi,VERIFY_AND_CHANGE_EMAIL:zi,VERIFY_EMAIL:Bi}},EmailAuthProvider:Eo,FacebookAuthProvider:Io,GithubAuthProvider:No,GoogleAuthProvider:Co,OAuthProvider:ko,SAMLAuthProvider:Oo,PhoneAuthProvider:Lc,PhoneMultiFactorGenerator:Yl,RecaptchaVerifier:Fc,TwitterAuthProvider:Po,Auth:Dc,AuthCredential:co,Error:ar}).setInstantiationMode("LAZY").setMultipleInstances(!1)),e.registerVersion("@firebase/auth-compat","0.5.1")}(Ri);var Uc,Vc="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},zc={},Bc=Bc||{},qc=Vc||self;function Wc(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function Gc(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var Hc="closure_uid_"+(1e9*Math.random()>>>0),Yc=0;function Kc(e,t,n){return e.call.apply(e.bind,arguments)}function Qc(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function Xc(e,t,n){return(Xc=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Kc:Qc).apply(null,arguments)}function Jc(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function $c(e,t){function n(){}n.prototype=t.prototype,e.$=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.ac=function(e,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return t.prototype[n].apply(e,i)}}function Zc(){this.s=this.s,this.o=this.o}Zc.prototype.s=!1,Zc.prototype.sa=function(){var e;!this.s&&(this.s=!0,this.N(),0)&&(e=this,Object.prototype.hasOwnProperty.call(e,Hc)&&e[Hc]||(e[Hc]=++Yc))},Zc.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const eu=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(let n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function tu(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function nu(e,t){for(let n=1;n<arguments.length;n++){const t=arguments[n];if(Wc(t)){const n=e.length||0,r=t.length||0;e.length=n+r;for(let i=0;i<r;i++)e[n+i]=t[i]}else e.push(t)}}function ru(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}ru.prototype.h=function(){this.defaultPrevented=!0};var iu=function(){if(!qc.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{const e=()=>{};qc.addEventListener("test",e,t),qc.removeEventListener("test",e,t)}catch(n){}return e}();function su(e){return/^[\s\xa0]*$/.test(e)}function ou(){var e=qc.navigator;return e&&(e=e.userAgent)?e:""}function au(e){return-1!=ou().indexOf(e)}function lu(e){return lu[" "](e),e}lu[" "]=function(){};var cu,uu,du=au("Opera"),hu=au("Trident")||au("MSIE"),fu=au("Edge"),pu=fu||hu,mu=au("Gecko")&&!(-1!=ou().toLowerCase().indexOf("webkit")&&!au("Edge"))&&!(au("Trident")||au("MSIE"))&&!au("Edge"),gu=-1!=ou().toLowerCase().indexOf("webkit")&&!au("Edge");function yu(){var e=qc.document;return e?e.documentMode:void 0}e:{var vu="",wu=function(){var e=ou();return mu?/rv:([^\);]+)(\)|;)/.exec(e):fu?/Edge\/([\d\.]+)/.exec(e):hu?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):gu?/WebKit\/(\S+)/.exec(e):du?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(wu&&(vu=wu?wu[1]:""),hu){var bu=yu();if(null!=bu&&bu>parseFloat(vu)){cu=String(bu);break e}}cu=vu}if(qc.document&&hu){var _u=yu();uu=_u||(parseInt(cu,10)||void 0)}else uu=void 0;var Su=uu;function Eu(e,t){if(ru.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(mu){e:{try{lu(t.nodeName);var i=!0;break e}catch(s){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:xu[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&Eu.$.h.call(this)}}$c(Eu,ru);var xu={2:"touch",3:"pen",4:"mouse"};Eu.prototype.h=function(){Eu.$.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var Tu="closure_listenable_"+(1e6*Math.random()|0),ku=0;function Iu(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.la=i,this.key=++ku,this.fa=this.ia=!1}function Cu(e){e.fa=!0,e.listener=null,e.proxy=null,e.src=null,e.la=null}function Nu(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function Au(e){const t={};for(const n in e)t[n]=e[n];return t}const Ou="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Pu(e,t){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)e[n]=r[n];for(let t=0;t<Ou.length;t++)n=Ou[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function Du(e){this.src=e,this.g={},this.h=0}function Ru(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],s=eu(i,t);(r=0<=s)&&Array.prototype.splice.call(i,s,1),r&&(Cu(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function Mu(e,t,n,r){for(var i=0;i<e.length;++i){var s=e[i];if(!s.fa&&s.listener==t&&s.capture==!!n&&s.la==r)return i}return-1}Du.prototype.add=function(e,t,n,r,i){var s=e.toString();(e=this.g[s])||(e=this.g[s]=[],this.h++);var o=Mu(e,t,r,i);return-1<o?(t=e[o],n||(t.ia=!1)):((t=new Iu(t,this.src,s,!!r,i)).ia=n,e.push(t)),t};var Lu="closure_lm_"+(1e6*Math.random()|0),ju={};function Fu(e,t,n,r,i){if(r&&r.once)return Vu(e,t,n,r,i);if(Array.isArray(t)){for(var s=0;s<t.length;s++)Fu(e,t[s],n,r,i);return null}return n=Yu(n),e&&e[Tu]?e.O(t,n,Gc(r)?!!r.capture:!!r,i):Uu(e,t,n,!1,r,i)}function Uu(e,t,n,r,i,s){if(!t)throw Error("Invalid event type");var o=Gc(i)?!!i.capture:!!i,a=Gu(e);if(a||(e[Lu]=a=new Du(e)),(n=a.add(t,n,r,o,s)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}const t=Wu;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)iu||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(qu(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function Vu(e,t,n,r,i){if(Array.isArray(t)){for(var s=0;s<t.length;s++)Vu(e,t[s],n,r,i);return null}return n=Yu(n),e&&e[Tu]?e.P(t,n,Gc(r)?!!r.capture:!!r,i):Uu(e,t,n,!0,r,i)}function zu(e,t,n,r,i){if(Array.isArray(t))for(var s=0;s<t.length;s++)zu(e,t[s],n,r,i);else r=Gc(r)?!!r.capture:!!r,n=Yu(n),e&&e[Tu]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=Mu(s=e.g[t],n,r,i))&&(Cu(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete e.g[t],e.h--)))):e&&(e=Gu(e))&&(t=e.g[t.toString()],e=-1,t&&(e=Mu(t,n,r,i)),(n=-1<e?t[e]:null)&&Bu(n))}function Bu(e){if("number"!==typeof e&&e&&!e.fa){var t=e.src;if(t&&t[Tu])Ru(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(qu(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Gu(t))?(Ru(n,e),0==n.h&&(n.src=null,t[Lu]=null)):Cu(e)}}}function qu(e){return e in ju?ju[e]:ju[e]="on"+e}function Wu(e,t){if(e.fa)e=!0;else{t=new Eu(t,this);var n=e.listener,r=e.la||e.src;e.ia&&Bu(e),e=n.call(r,t)}return e}function Gu(e){return(e=e[Lu])instanceof Du?e:null}var Hu="__closure_events_fn_"+(1e9*Math.random()>>>0);function Yu(e){return"function"===typeof e?e:(e[Hu]||(e[Hu]=function(t){return e.handleEvent(t)}),e[Hu])}function Ku(){Zc.call(this),this.i=new Du(this),this.S=this,this.J=null}function Qu(e,t){var n,r=e.J;if(r)for(n=[];r;r=r.J)n.push(r);if(e=e.S,r=t.type||t,"string"===typeof t)t=new ru(t,e);else if(t instanceof ru)t.target=t.target||e;else{var i=t;Pu(t=new ru(r,e),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=t.g=n[s];i=Xu(o,r,!0,t)&&i}if(i=Xu(o=t.g=e,r,!0,t)&&i,i=Xu(o,r,!1,t)&&i,n)for(s=0;s<n.length;s++)i=Xu(o=t.g=n[s],r,!1,t)&&i}function Xu(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,s=0;s<t.length;++s){var o=t[s];if(o&&!o.fa&&o.capture==n){var a=o.listener,l=o.la||o.src;o.ia&&Ru(e.i,o),i=!1!==a.call(l,r)&&i}}return i&&!r.defaultPrevented}$c(Ku,Zc),Ku.prototype[Tu]=!0,Ku.prototype.removeEventListener=function(e,t,n,r){zu(this,e,t,n,r)},Ku.prototype.N=function(){if(Ku.$.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Cu(n[r]);delete t.g[e],t.h--}}this.J=null},Ku.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},Ku.prototype.P=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var Ju=qc.JSON.stringify;function $u(){var e=sd;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var Zu=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}((()=>new ed),(e=>e.reset()));class ed{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function td(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function nd(e){qc.setTimeout((()=>{throw e}),0)}let rd,id=!1,sd=new class{constructor(){this.h=this.g=null}add(e,t){const n=Zu.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}},od=()=>{const e=qc.Promise.resolve(void 0);rd=()=>{e.then(ad)}};var ad=()=>{for(var e;e=$u();){try{e.h.call(e.g)}catch(n){nd(n)}var t=Zu;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}id=!1};function ld(e,t){Ku.call(this),this.h=e||1,this.g=t||qc,this.j=Xc(this.qb,this),this.l=Date.now()}function cd(e){e.ga=!1,e.T&&(e.g.clearTimeout(e.T),e.T=null)}function ud(e,t,n){if("function"===typeof e)n&&(e=Xc(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=Xc(e.handleEvent,e)}return 2147483647<Number(t)?-1:qc.setTimeout(e,t||0)}function dd(e){e.g=ud((()=>{e.g=null,e.i&&(e.i=!1,dd(e))}),e.j);const t=e.h;e.h=null,e.m.apply(null,t)}$c(ld,Ku),(Uc=ld.prototype).ga=!1,Uc.T=null,Uc.qb=function(){if(this.ga){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-e):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Qu(this,"tick"),this.ga&&(cd(this),this.start()))}},Uc.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Uc.N=function(){ld.$.N.call(this),cd(this),delete this.g};class hd extends Zc{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:dd(this)}N(){super.N(),this.g&&(qc.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function fd(e){Zc.call(this),this.h=e,this.g={}}$c(fd,Zc);var pd=[];function md(e,t,n,r){Array.isArray(n)||(n&&(pd[0]=n.toString()),n=pd);for(var i=0;i<n.length;i++){var s=Fu(t,n[i],r||e.handleEvent,!1,e.h||e);if(!s)break;e.g[s.key]=s}}function gd(e){Nu(e.g,(function(e,t){this.g.hasOwnProperty(t)&&Bu(e)}),e),e.g={}}function yd(){this.g=!0}function vd(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return Ju(n)}catch(a){return t}}(e,n)+(r?" "+r:"")}))}fd.prototype.N=function(){fd.$.N.call(this),gd(this)},fd.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},yd.prototype.Ea=function(){this.g=!1},yd.prototype.info=function(){};var wd={},bd=null;function _d(){return bd=bd||new Ku}function Sd(e){ru.call(this,wd.Ta,e)}function Ed(e){const t=_d();Qu(t,new Sd(t))}function xd(e,t){ru.call(this,wd.STAT_EVENT,e),this.stat=t}function Td(e){const t=_d();Qu(t,new xd(t,e))}function kd(e,t){ru.call(this,wd.Ua,e),this.size=t}function Id(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return qc.setTimeout((function(){e()}),t)}wd.Ta="serverreachability",$c(Sd,ru),wd.STAT_EVENT="statevent",$c(xd,ru),wd.Ua="timingevent",$c(kd,ru);var Cd={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},Nd={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Ad(){}function Od(e){return e.h||(e.h=e.i())}function Pd(){}Ad.prototype.h=null;var Dd,Rd={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Md(){ru.call(this,"d")}function Ld(){ru.call(this,"c")}function jd(){}function Fd(e,t,n,r){this.l=e,this.j=t,this.m=n,this.W=r||1,this.U=new fd(this),this.P=Vd,e=pu?125:void 0,this.V=new ld(e),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new Ud}function Ud(){this.i=null,this.g="",this.h=!1}$c(Md,ru),$c(Ld,ru),$c(jd,Ad),jd.prototype.g=function(){return new XMLHttpRequest},jd.prototype.i=function(){return{}},Dd=new jd;var Vd=45e3,zd={},Bd={};function qd(e,t,n){e.L=1,e.A=lh(rh(t)),e.u=n,e.S=!0,Wd(e,null)}function Wd(e,t){e.G=Date.now(),Kd(e),e.B=rh(e.A);var n=e.B,r=e.W;Array.isArray(r)||(r=[String(r)]),_h(n.i,"t",r),e.o=0,n=e.l.J,e.h=new Ud,e.g=Ef(e.l,n?t:null,!e.u),0<e.O&&(e.M=new hd(Xc(e.Pa,e,e.g),e.O)),md(e.U,e.g,"readystatechange",e.nb),t=e.I?Au(e.I):{},e.u?(e.v||(e.v="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ha(e.B,e.v,e.u,t)):(e.v="GET",e.g.ha(e.B,e.v,null,t)),Ed(),function(e,t,n,r,i,s){e.info((function(){if(e.g)if(s)for(var o="",a=s.split("&"),l=0;l<a.length;l++){var c=a[l].split("=");if(1<c.length){var u=c[0];c=c[1];var d=u.split("_");o=2<=d.length&&"type"==d[1]?o+(u+"=")+c+"&":o+(u+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.j,e.v,e.B,e.m,e.W,e.u)}function Gd(e){return!!e.g&&("GET"==e.v&&2!=e.L&&e.l.Ha)}function Hd(e,t,n){let r,i=!0;for(;!e.J&&e.o<n.length;){if(r=Yd(e,n),r==Bd){4==t&&(e.s=4,Td(14),i=!1),vd(e.j,e.m,null,"[Incomplete Response]");break}if(r==zd){e.s=4,Td(15),vd(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}vd(e.j,e.m,r,null),Zd(e,r)}Gd(e)&&0!=e.o&&(e.h.g=e.h.g.slice(e.o),e.o=0),4!=t||0!=n.length||e.h.h||(e.s=1,Td(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.ba&&(e.ba=!0,(t=e.l).g==e&&t.ca&&!t.M&&(t.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),mf(t),t.M=!0,Td(11))):(vd(e.j,e.m,n,"[Invalid Chunked Response]"),$d(e),Jd(e))}function Yd(e,t){var n=e.o,r=t.indexOf("\n",n);return-1==r?Bd:(n=Number(t.substring(n,r)),isNaN(n)?zd:(r+=1)+n>t.length?Bd:(t=t.slice(r,r+n),e.o=r+n,t))}function Kd(e){e.Y=Date.now()+e.P,Qd(e,e.P)}function Qd(e,t){if(null!=e.C)throw Error("WatchDog timer not null");e.C=Id(Xc(e.lb,e),t)}function Xd(e){e.C&&(qc.clearTimeout(e.C),e.C=null)}function Jd(e){0==e.l.H||e.J||vf(e.l,e)}function $d(e){Xd(e);var t=e.M;t&&"function"==typeof t.sa&&t.sa(),e.M=null,cd(e.V),gd(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.sa())}function Zd(e,t){try{var n=e.l;if(0!=n.H&&(n.g==e||Ch(n.i,e)))if(!e.K&&Ch(n.i,e)&&3==n.H){try{var r=n.Ja.g.parse(t)}catch(c){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<e.G))break e;yf(n),af(n)}pf(n),Td(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&0==n.A&&!n.v&&(n.v=Id(Xc(n.ib,n),6e3));if(1>=Ih(n.i)&&n.oa){try{n.oa()}catch(c){}n.oa=void 0}}else bf(n,11)}else if((e.K||n.g==e)&&yf(n),!su(t))for(i=n.Ja.g.parse(t),t=0;t<i.length;t++){let c=i[t];if(n.V=c[0],c=c[1],2==n.H)if("c"==c[0]){n.K=c[1],n.pa=c[2];const t=c[3];null!=t&&(n.ra=t,n.l.info("VER="+n.ra));const i=c[4];null!=i&&(n.Ga=i,n.l.info("SVER="+n.Ga));const u=c[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const d=e.g;if(d){const e=d.g?d.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var s=r.i;s.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(Nh(s,s.h),s.h=null))}if(r.F){const e=d.g?d.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.Da=e,ah(r.I,r.F,e))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-e.G,n.l.info("Handshake RTT: "+n.S+"ms"));var o=e;if((r=n).wa=Sf(r,r.J?r.pa:null,r.Y),o.K){Ah(r.i,o);var a=o,l=r.L;l&&a.setTimeout(l),a.C&&(Xd(a),Kd(a)),r.g=o}else ff(r);0<n.j.length&&cf(n)}else"stop"!=c[0]&&"close"!=c[0]||bf(n,7);else 3==n.H&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?bf(n,7):of(n):"noop"!=c[0]&&n.h&&n.h.Aa(c),n.A=0)}Ed()}catch(c){}}function eh(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(Wc(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.ta&&"function"==typeof e.ta)return e.ta();if(!e.Z||"function"!=typeof e.Z){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(Wc(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}(e),r=function(e){if(e.Z&&"function"==typeof e.Z)return e.Z();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(Wc(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,s=0;s<i;s++)t.call(void 0,r[s],n&&n[s],e)}(Uc=Fd.prototype).setTimeout=function(e){this.P=e},Uc.nb=function(e){e=e.target;const t=this.M;t&&3==Zh(e)?t.l():this.Pa(e)},Uc.Pa=function(e){try{if(e==this.g)e:{const u=Zh(this.g);var t=this.g.Ia();this.g.da();if(!(3>u)&&(3!=u||pu||this.g&&(this.h.h||this.g.ja()||ef(this.g)))){this.J||4!=u||7==t||Ed(),Xd(this);var n=this.g.da();this.ca=n;t:if(Gd(this)){var r=ef(this.g);e="";var i=r.length,s=4==Zh(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){$d(this),Jd(this);var o="";break t}this.h.i=new qc.TextDecoder}for(t=0;t<i;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:s&&t==i-1});r.length=0,this.h.g+=e,this.o=0,o=this.h.g}else o=this.g.ja();if(this.i=200==n,function(e,t,n,r,i,s,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+s+" "+o}))}(this.j,this.v,this.B,this.m,this.W,u,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!su(a)){var c=a;break t}}c=null}if(!(n=c)){this.i=!1,this.s=3,Td(12),$d(this),Jd(this);break e}vd(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Zd(this,n)}this.S?(Hd(this,u,o),pu&&this.i&&3==u&&(md(this.U,this.V,"tick",this.mb),this.V.start())):(vd(this.j,this.m,o,null),Zd(this,o)),4==u&&$d(this),this.i&&!this.J&&(4==u?vf(this.l,this):(this.i=!1,Kd(this)))}else(function(e){const t={};e=(e.g&&2<=Zh(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<e.length;r++){if(su(e[r]))continue;var n=td(e[r]);const i=n[0];if("string"!==typeof(n=n[1]))continue;n=n.trim();const s=t[i]||[];t[i]=s,s.push(n)}!function(e,t){for(const n in e)t.call(void 0,e[n],n,e)}(t,(function(e){return e.join(", ")}))})(this.g),400==n&&0<o.indexOf("Unknown SID")?(this.s=3,Td(12)):(this.s=0,Td(13)),$d(this),Jd(this)}}}catch(u){}},Uc.mb=function(){if(this.g){var e=Zh(this.g),t=this.g.ja();this.o<t.length&&(Xd(this),Hd(this,e,t),this.i&&4!=e&&Kd(this))}},Uc.cancel=function(){this.J=!0,$d(this)},Uc.lb=function(){this.C=null;const e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.B),2!=this.L&&(Ed(),Td(17)),$d(this),this.s=2,Jd(this)):Qd(this,this.Y-e)};var th=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function nh(e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof nh){this.h=e.h,ih(this,e.j),this.s=e.s,this.g=e.g,sh(this,e.m),this.l=e.l;var t=e.i,n=new yh;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),oh(this,n),this.o=e.o}else e&&(t=String(e).match(th))?(this.h=!1,ih(this,t[1]||"",!0),this.s=ch(t[2]||""),this.g=ch(t[3]||"",!0),sh(this,t[4]),this.l=ch(t[5]||"",!0),oh(this,t[6]||"",!0),this.o=ch(t[7]||"")):(this.h=!1,this.i=new yh(null,this.h))}function rh(e){return new nh(e)}function ih(e,t,n){e.j=n?ch(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function sh(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function oh(e,t,n){t instanceof yh?(e.i=t,function(e,t){t&&!e.j&&(vh(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(wh(this,t),_h(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=uh(t,mh)),e.i=new yh(t,e.h))}function ah(e,t,n){e.i.set(t,n)}function lh(e){return ah(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function ch(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function uh(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,dh),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function dh(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}nh.prototype.toString=function(){var e=[],t=this.j;t&&e.push(uh(t,hh,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(uh(t,hh,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(uh(n,"/"==n.charAt(0)?ph:fh,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",uh(n,gh)),e.join("")};var hh=/[#\/\?@]/g,fh=/[#\?:]/g,ph=/[#\?]/g,mh=/[#\?@]/g,gh=/#/g;function yh(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function vh(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var s=e[n].substring(0,r);i=e[n].substring(r+1)}else s=e[n];t(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function wh(e,t){vh(e),t=Sh(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function bh(e,t){return vh(e),t=Sh(e,t),e.g.has(t)}function _h(e,t,n){wh(e,t),0<n.length&&(e.i=null,e.g.set(Sh(e,t),tu(n)),e.h+=n.length)}function Sh(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(Uc=yh.prototype).add=function(e,t){vh(this),this.i=null,e=Sh(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},Uc.forEach=function(e,t){vh(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},Uc.ta=function(){vh(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const i=e[r];for(let e=0;e<i.length;e++)n.push(t[r])}return n},Uc.Z=function(e){vh(this);let t=[];if("string"===typeof e)bh(this,e)&&(t=t.concat(this.g.get(Sh(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t},Uc.set=function(e,t){return vh(this),this.i=null,bh(this,e=Sh(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},Uc.get=function(e,t){return e&&0<(e=this.Z(e)).length?String(e[0]):t},Uc.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;""!==o[r]&&(i+="="+encodeURIComponent(String(o[r]))),e.push(i)}}return this.i=e.join("&")};var Eh=class{constructor(e,t){this.g=e,this.map=t}};function xh(e){this.l=e||Th,qc.PerformanceNavigationTiming?e=0<(e=qc.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(qc.g&&qc.g.Ka&&qc.g.Ka()&&qc.g.Ka().dc),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Th=10;function kh(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Ih(e){return e.h?1:e.g?e.g.size:0}function Ch(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function Nh(e,t){e.g?e.g.add(t):e.h=t}function Ah(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function Oh(e){if(null!=e.h)return e.i.concat(e.h.F);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.F);return t}return tu(e.i)}xh.prototype.cancel=function(){if(this.i=Oh(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var Ph,Dh=class{stringify(e){return qc.JSON.stringify(e,void 0)}parse(e){return qc.JSON.parse(e,void 0)}};function Rh(){this.g=new Dh}function Mh(e,t,n){const r=n||"";try{eh(e,(function(e,n){let i=e;Gc(e)&&(i=Ju(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function Lh(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(s){}}function jh(e){this.l=e.ec||null,this.j=e.ob||!1}function Fh(e,t){Ku.call(this),this.F=e,this.u=t,this.m=void 0,this.readyState=Uh,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}$c(jh,Ad),jh.prototype.g=function(){return new Fh(this.l,this.j)},jh.prototype.i=(Ph={},function(){return Ph}),$c(Fh,Ku);var Uh=0;function Vh(e){e.j.read().then(e.Xa.bind(e)).catch(e.ka.bind(e))}function zh(e){e.readyState=4,e.l=null,e.j=null,e.A=null,Bh(e)}function Bh(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(Uc=Fh.prototype).open=function(e,t){if(this.readyState!=Uh)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,Bh(this)},Uc.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.F||qc).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))},Uc.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((()=>{})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,zh(this)),this.readyState=Uh},Uc.$a=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Bh(this)),this.g&&(this.readyState=3,Bh(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if("undefined"!==typeof qc.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Vh(this)}else e.text().then(this.Za.bind(this),this.ka.bind(this))},Uc.Xa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?zh(this):Bh(this),3==this.readyState&&Vh(this)}},Uc.Za=function(e){this.g&&(this.response=this.responseText=e,zh(this))},Uc.Ya=function(e){this.g&&(this.response=e,zh(this))},Uc.ka=function(){this.g&&zh(this)},Uc.setRequestHeader=function(e,t){this.v.append(e,t)},Uc.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},Uc.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Fh.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var qh=qc.JSON.parse;function Wh(e){Ku.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=Gh,this.L=this.M=!1}$c(Wh,Ku);var Gh="",Hh=/^https?$/i,Yh=["POST","PUT"];function Kh(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,Qh(e),Jh(e)}function Qh(e){e.F||(e.F=!0,Qu(e,"complete"),Qu(e,"error"))}function Xh(e){if(e.h&&"undefined"!=typeof Bc&&(!e.C[1]||4!=Zh(e)||2!=e.da()))if(e.v&&4==Zh(e))ud(e.La,0,e);else if(Qu(e,"readystatechange"),4==Zh(e)){e.h=!1;try{const a=e.da();e:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var r;if(r=0===a){var i=String(e.I).match(th)[1]||null;!i&&qc.self&&qc.self.location&&(i=qc.self.location.protocol.slice(0,-1)),r=!Hh.test(i?i.toLowerCase():"")}n=r}if(n)Qu(e,"complete"),Qu(e,"success");else{e.m=6;try{var s=2<Zh(e)?e.g.statusText:""}catch(o){s=""}e.j=s+" ["+e.da()+"]",Qh(e)}}finally{Jh(e)}}}function Jh(e,t){if(e.g){$h(e);const r=e.g,i=e.C[0]?()=>{}:null;e.g=null,e.C=null,t||Qu(e,"ready");try{r.onreadystatechange=i}catch(n){}}}function $h(e){e.g&&e.L&&(e.g.ontimeout=null),e.A&&(qc.clearTimeout(e.A),e.A=null)}function Zh(e){return e.g?e.g.readyState:0}function ef(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.K){case Gh:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(lp){return null}}function tf(e){let t="";return Nu(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function nf(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=tf(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):ah(e,t,n))}function rf(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function sf(e){this.Ga=0,this.j=[],this.l=new yd,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=rf("failFast",!1,e),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=rf("baseRetryDelayMs",5e3,e),this.hb=rf("retryDelaySeedMs",1e4,e),this.eb=rf("forwardChannelMaxRetries",2,e),this.xa=rf("forwardChannelRequestTimeoutMs",2e4,e),this.va=e&&e.xmlHttpFactory||void 0,this.Ha=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.i=new xh(e&&e.concurrentRequestLimit),this.Ja=new Rh,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=e&&e.bc||!1,e&&e.Ea&&this.l.Ea(),e&&e.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&e&&e.detectBufferingProxy||!1,this.qa=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.qa=e.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function of(e){if(lf(e),3==e.H){var t=e.W++,n=rh(e.I);if(ah(n,"SID",e.K),ah(n,"RID",t),ah(n,"TYPE","terminate"),df(e,n),(t=new Fd(e,e.l,t)).L=2,t.A=lh(rh(n)),n=!1,qc.navigator&&qc.navigator.sendBeacon)try{n=qc.navigator.sendBeacon(t.A.toString(),"")}catch(r){}!n&&qc.Image&&((new Image).src=t.A,n=!0),n||(t.g=Ef(t.l,null),t.g.ha(t.A)),t.G=Date.now(),Kd(t)}_f(e)}function af(e){e.g&&(mf(e),e.g.cancel(),e.g=null)}function lf(e){af(e),e.u&&(qc.clearTimeout(e.u),e.u=null),yf(e),e.i.cancel(),e.m&&("number"===typeof e.m&&qc.clearTimeout(e.m),e.m=null)}function cf(e){if(!kh(e.i)&&!e.m){e.m=!0;var t=e.Na;rd||od(),id||(rd(),id=!0),sd.add(t,e),e.C=0}}function uf(e,t){var n;n=t?t.m:e.W++;const r=rh(e.I);ah(r,"SID",e.K),ah(r,"RID",n),ah(r,"AID",e.V),df(e,r),e.o&&e.s&&nf(r,e.o,e.s),n=new Fd(e,e.l,n,e.C+1),null===e.o&&(n.I=e.s),t&&(e.j=t.F.concat(e.j)),t=hf(e,n,1e3),n.setTimeout(Math.round(.5*e.xa)+Math.round(.5*e.xa*Math.random())),Nh(e.i,n),qd(n,r,t)}function df(e,t){e.na&&Nu(e.na,(function(e,n){ah(t,n,e)})),e.h&&eh({},(function(e,n){ah(t,n,e)}))}function hf(e,t,n){n=Math.min(e.j.length,n);var r=e.h?Xc(e.h.Va,e.h,e):null;e:{var i=e.j;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=i[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let s=!0;for(let o=0;o<n;o++){let n=i[o].g;const a=i[o].map;if(n-=t,0>n)t=Math.max(0,i[o].g-100),s=!1;else try{Mh(a,e,"req"+n+"_")}catch(Tm){r&&r(a)}}if(s){r=e.join("&");break e}}}return e=e.j.splice(0,n),t.F=e,r}function ff(e){if(!e.g&&!e.u){e.ba=1;var t=e.Ma;rd||od(),id||(rd(),id=!0),sd.add(t,e),e.A=0}}function pf(e){return!(e.g||e.u||3<=e.A)&&(e.ba++,e.u=Id(Xc(e.Ma,e),wf(e,e.A)),e.A++,!0)}function mf(e){null!=e.B&&(qc.clearTimeout(e.B),e.B=null)}function gf(e){e.g=new Fd(e,e.l,"rpc",e.ba),null===e.o&&(e.g.I=e.s),e.g.O=0;var t=rh(e.wa);ah(t,"RID","rpc"),ah(t,"SID",e.K),ah(t,"AID",e.V),ah(t,"CI",e.G?"0":"1"),!e.G&&e.qa&&ah(t,"TO",e.qa),ah(t,"TYPE","xmlhttp"),df(e,t),e.o&&e.s&&nf(t,e.o,e.s),e.L&&e.g.setTimeout(e.L);var n=e.g;e=e.pa,n.L=1,n.A=lh(rh(t)),n.u=null,n.S=!0,Wd(n,e)}function yf(e){null!=e.v&&(qc.clearTimeout(e.v),e.v=null)}function vf(e,t){var n=null;if(e.g==t){yf(e),mf(e),e.g=null;var r=2}else{if(!Ch(e.i,t))return;n=t.F,Ah(e.i,t),r=1}if(0!=e.H)if(t.i)if(1==r){n=t.u?t.u.length:0,t=Date.now()-t.G;var i=e.C;Qu(r=_d(),new kd(r,n)),cf(e)}else ff(e);else if(3==(i=t.s)||0==i&&0<t.ca||!(1==r&&function(e,t){return!(Ih(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.j=t.F.concat(e.j),!0):!(1==e.H||2==e.H||e.C>=(e.cb?0:e.eb))&&(e.m=Id(Xc(e.Na,e,t),wf(e,e.C)),e.C++,!0))}(e,t)||2==r&&pf(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:bf(e,5);break;case 4:bf(e,10);break;case 3:bf(e,6);break;default:bf(e,2)}}function wf(e,t){let n=e.ab+Math.floor(Math.random()*e.hb);return e.isActive()||(n*=2),n*t}function bf(e,t){if(e.l.info("Error code "+t),2==t){var n=null;e.h&&(n=null);var r=Xc(e.pb,e);n||(n=new nh("//www.google.com/images/cleardot.gif"),qc.location&&"http"==qc.location.protocol||ih(n,"https"),lh(n)),function(e,t){const n=new yd;if(qc.Image){const r=new Image;r.onload=Jc(Lh,n,r,"TestLoadImage: loaded",!0,t),r.onerror=Jc(Lh,n,r,"TestLoadImage: error",!1,t),r.onabort=Jc(Lh,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=Jc(Lh,n,r,"TestLoadImage: timeout",!1,t),qc.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else Td(2);e.H=0,e.h&&e.h.za(t),_f(e),lf(e)}function _f(e){if(e.H=0,e.ma=[],e.h){const t=Oh(e.i);0==t.length&&0==e.j.length||(nu(e.ma,t),nu(e.ma,e.j),e.i.i.length=0,tu(e.j),e.j.length=0),e.h.ya()}}function Sf(e,t,n){var r=n instanceof nh?rh(n):new nh(n);if(""!=r.g)t&&(r.g=t+"."+r.g),sh(r,r.m);else{var i=qc.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var s=new nh(null);r&&ih(s,r),t&&(s.g=t),i&&sh(s,i),n&&(s.l=n),r=s}return n=e.F,t=e.Da,n&&t&&ah(r,n,t),ah(r,"VER",e.ra),df(e,r),r}function Ef(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=e.Ha&&!e.va?new Wh(new jh({ob:n})):new Wh(e.va)).Oa(e.J),t}function xf(){}function Tf(){if(hu&&!(10<=Number(Su)))throw Error("Environmental error: no available transport.")}function kf(e,t){Ku.call(this),this.g=new sf(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(e?e["X-WebChannel-Client-Profile"]=t.Ca:e={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=e,(e=t&&t.cc)&&!su(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!su(t)&&(this.g.F=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new Nf(this)}function If(e){Md.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function Cf(){Ld.call(this),this.status=1}function Nf(e){this.g=e}function Af(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function Of(e,t,n){n||(n=0);var r=Array(16);if("string"===typeof t)for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var s=e.g[3],o=t+(s^n&(i^s))+r[0]+3614090360&4294967295;o=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=n+(o<<7&4294967295|o>>>25))+((o=s+(i^t&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(s^t))+r[3]+3250441966&4294967295)<<22&4294967295|o>>>10))+((o=t+(s^n&(i^s))+r[4]+4118548399&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^t&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(s^t))+r[7]+4249261313&4294967295)<<22&4294967295|o>>>10))+((o=t+(s^n&(i^s))+r[8]+1770035416&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^t&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(s^t))+r[11]+2304563134&4294967295)<<22&4294967295|o>>>10))+((o=t+(s^n&(i^s))+r[12]+1804603682&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^t&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(s^t))+r[15]+1236535329&4294967295)<<22&4294967295|o>>>10))+((o=t+(i^s&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(s^t))+r[11]+643717713&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^t&(i^s))+r[0]+3921069994&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^s&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(s^t))+r[15]+3634488961&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^t&(i^s))+r[4]+3889429448&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^s&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(s^t))+r[3]+4107603335&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^t&(i^s))+r[8]+1163531501&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^s&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(s^t))+r[7]+1735328473&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^t&(i^s))+r[12]+2368359562&4294967295)<<20&4294967295|o>>>12))+((o=t+(n^i^s)+r[5]+4294588738&4294967295)<<4&4294967295|o>>>28))+((o=s+(t^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^t)+r[14]+4259657740&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^s)+r[1]+2763975236&4294967295)<<4&4294967295|o>>>28))+((o=s+(t^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^t)+r[10]+3200236656&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^s)+r[13]+681279174&4294967295)<<4&4294967295|o>>>28))+((o=s+(t^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^t)+r[6]+76029189&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^s)+r[9]+3654602809&4294967295)<<4&4294967295|o>>>28))+((o=s+(t^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^t^n)+r[15]+530742520&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^t)+r[2]+3299628645&4294967295)<<23&4294967295|o>>>9))+((o=t+(i^(n|~s))+r[0]+4096336452&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(t|~i))+r[7]+1126891415&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(s|~n))+r[14]+2878612391&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~t))+r[5]+4237533241&4294967295)<<21&4294967295|o>>>11))+((o=t+(i^(n|~s))+r[12]+1700485571&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(t|~i))+r[3]+2399980690&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(s|~n))+r[10]+4293915773&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~t))+r[1]+2240044497&4294967295)<<21&4294967295|o>>>11))+((o=t+(i^(n|~s))+r[8]+1873313359&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(t|~i))+r[15]+4264355552&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(s|~n))+r[6]+2734768916&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~t))+r[13]+1309151649&4294967295)<<21&4294967295|o>>>11))+((s=(t=n+((o=t+(i^(n|~s))+r[4]+4149444226&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(t|~i))+r[11]+3174756917&4294967295)<<10&4294967295|o>>>22))^((i=s+((o=i+(t^(s|~n))+r[2]+718787259&4294967295)<<15&4294967295|o>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+s&4294967295}function Pf(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var s=0|e[i];r&&s==t||(n[i]=s,r=!1)}this.g=n}(Uc=Wh.prototype).Oa=function(e){this.M=e},Uc.ha=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+e);t=t?t.toUpperCase():"GET",this.I=e,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Dd.g(),this.C=this.u?Od(this.u):Od(Dd),this.g.onreadystatechange=Xc(this.La,this);try{this.G=!0,this.g.open(t,String(e),!0),this.G=!1}catch(s){return void Kh(this,s)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const e of r.keys())n.set(e,r.get(e))}r=Array.from(n.keys()).find((e=>"content-type"==e.toLowerCase())),i=qc.FormData&&e instanceof qc.FormData,!(0<=eu(Yh,t))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[o,a]of n)this.g.setRequestHeader(o,a);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{$h(this),0<this.B&&((this.L=function(e){return hu&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Xc(this.ua,this)):this.A=ud(this.ua,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(s){Kh(this,s)}},Uc.ua=function(){"undefined"!=typeof Bc&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Qu(this,"timeout"),this.abort(8))},Uc.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,Qu(this,"complete"),Qu(this,"abort"),Jh(this))},Uc.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Jh(this,!0)),Wh.$.N.call(this)},Uc.La=function(){this.s||(this.G||this.v||this.l?Xh(this):this.kb())},Uc.kb=function(){Xh(this)},Uc.isActive=function(){return!!this.g},Uc.da=function(){try{return 2<Zh(this)?this.g.status:-1}catch(Ph){return-1}},Uc.ja=function(){try{return this.g?this.g.responseText:""}catch(Ph){return""}},Uc.Wa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),qh(t)}},Uc.Ia=function(){return this.m},Uc.Sa=function(){return"string"===typeof this.j?this.j:String(this.j)},(Uc=sf.prototype).ra=8,Uc.H=1,Uc.Na=function(e){if(this.m)if(this.m=null,1==this.H){if(!e){this.W=Math.floor(1e5*Math.random()),e=this.W++;const i=new Fd(this,this.l,e);let s=this.s;if(this.U&&(s?(s=Au(s),Pu(s,this.U)):s=this.U),null!==this.o||this.O||(i.I=s,s=null),this.P)e:{for(var t=0,n=0;n<this.j.length;n++){var r=this.j[n];if(void 0===(r="__data__"in r.map&&"string"===typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(t+=r)){t=n;break e}if(4096===t||n===this.j.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=hf(this,i,t),ah(n=rh(this.I),"RID",e),ah(n,"CVER",22),this.F&&ah(n,"X-HTTP-Session-Id",this.F),df(this,n),s&&(this.O?t="headers="+encodeURIComponent(String(tf(s)))+"&"+t:this.o&&nf(n,this.o,s)),Nh(this.i,i),this.bb&&ah(n,"TYPE","init"),this.P?(ah(n,"$req",t),ah(n,"SID","null"),i.aa=!0,qd(i,n,null)):qd(i,n,t),this.H=2}}else 3==this.H&&(e?uf(this,e):0==this.j.length||kh(this.i)||uf(this))},Uc.Ma=function(){if(this.u=null,gf(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var e=2*this.S;this.l.info("BP detection timer enabled: "+e),this.B=Id(Xc(this.jb,this),e)}},Uc.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Td(10),af(this),gf(this))},Uc.ib=function(){null!=this.v&&(this.v=null,af(this),pf(this),Td(19))},Uc.pb=function(e){e?(this.l.info("Successfully pinged google.com"),Td(2)):(this.l.info("Failed to ping google.com"),Td(1))},Uc.isActive=function(){return!!this.h&&this.h.isActive(this)},(Uc=xf.prototype).Ba=function(){},Uc.Aa=function(){},Uc.za=function(){},Uc.ya=function(){},Uc.isActive=function(){return!0},Uc.Va=function(){},Tf.prototype.g=function(e,t){return new kf(e,t)},$c(kf,Ku),kf.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var e=this.g,t=this.l,n=this.h||void 0;Td(0),e.Y=t,e.na=n||{},e.G=e.aa,e.I=Sf(e,null,e.Y),cf(e)},kf.prototype.close=function(){of(this.g)},kf.prototype.u=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.v&&((n={}).__data__=Ju(e),e=n);t.j.push(new Eh(t.fb++,e)),3==t.H&&cf(t)},kf.prototype.N=function(){this.g.h=null,delete this.j,of(this.g),delete this.g,kf.$.N.call(this)},$c(If,Md),$c(Cf,Ld),$c(Nf,xf),Nf.prototype.Ba=function(){Qu(this.g,"a")},Nf.prototype.Aa=function(e){Qu(this.g,new If(e))},Nf.prototype.za=function(e){Qu(this.g,new Cf)},Nf.prototype.ya=function(){Qu(this.g,"b")},$c(Af,(function(){this.blockSize=-1})),Af.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Af.prototype.j=function(e,t){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=this.m,i=this.h,s=0;s<t;){if(0==i)for(;s<=n;)Of(this,e,s),s+=this.blockSize;if("string"===typeof e){for(;s<t;)if(r[i++]=e.charCodeAt(s++),i==this.blockSize){Of(this,r),i=0;break}}else for(;s<t;)if(r[i++]=e[s++],i==this.blockSize){Of(this,r),i=0;break}}this.h=i,this.i+=t},Af.prototype.l=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.i;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.j(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var Df={};function Rf(e){return-128<=e&&128>e?function(e,t){var n=Df;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,(function(e){return new Pf([0|e],0>e?-1:0)})):new Pf([0|e],0>e?-1:0)}function Mf(e){if(isNaN(e)||!isFinite(e))return jf;if(0>e)return Bf(Mf(-e));for(var t=[],n=1,r=0;e>=n;r++)t[r]=e/n|0,n*=Lf;return new Pf(t,0)}var Lf=4294967296,jf=Rf(0),Ff=Rf(1),Uf=Rf(16777216);function Vf(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function zf(e){return-1==e.h}function Bf(e){for(var t=e.g.length,n=[],r=0;r<t;r++)n[r]=~e.g[r];return new Pf(n,~e.h).add(Ff)}function qf(e,t){return e.add(Bf(t))}function Wf(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function Gf(e,t){this.g=e,this.h=t}function Hf(e,t){if(Vf(t))throw Error("division by zero");if(Vf(e))return new Gf(jf,jf);if(zf(e))return t=Hf(Bf(e),t),new Gf(Bf(t.g),Bf(t.h));if(zf(t))return t=Hf(e,Bf(t)),new Gf(Bf(t.g),t.h);if(30<e.g.length){if(zf(e)||zf(t))throw Error("slowDivide_ only works with positive integers.");for(var n=Ff,r=t;0>=r.X(e);)n=Yf(n),r=Yf(r);var i=Kf(n,1),s=Kf(r,1);for(r=Kf(r,2),n=Kf(n,2);!Vf(r);){var o=s.add(r);0>=o.X(e)&&(i=i.add(n),s=o),r=Kf(r,1),n=Kf(n,1)}return t=qf(e,i.R(t)),new Gf(i,t)}for(i=jf;0<=e.X(t);){for(n=Math.max(1,Math.floor(e.ea()/t.ea())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),o=(s=Mf(n)).R(t);zf(o)||0<o.X(e);)o=(s=Mf(n-=r)).R(t);Vf(s)&&(s=Ff),i=i.add(s),e=qf(e,o)}return new Gf(i,e)}function Yf(e){for(var t=e.g.length+1,n=[],r=0;r<t;r++)n[r]=e.D(r)<<1|e.D(r-1)>>>31;return new Pf(n,e.h)}function Kf(e,t){var n=t>>5;t%=32;for(var r=e.g.length-n,i=[],s=0;s<r;s++)i[s]=0<t?e.D(s+n)>>>t|e.D(s+n+1)<<32-t:e.D(s+n);return new Pf(i,e.h)}(Uc=Pf.prototype).ea=function(){if(zf(this))return-Bf(this).ea();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.D(n);e+=(0<=r?r:Lf+r)*t,t*=Lf}return e},Uc.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(Vf(this))return"0";if(zf(this))return"-"+Bf(this).toString(e);for(var t=Mf(Math.pow(e,6)),n=this,r="";;){var i=Hf(n,t).g,s=((0<(n=qf(n,i.R(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(Vf(n=i))return s+r;for(;6>s.length;)s="0"+s;r=s+r}},Uc.D=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},Uc.X=function(e){return zf(e=qf(this,e))?-1:Vf(e)?0:1},Uc.abs=function(){return zf(this)?Bf(this):this},Uc.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0,i=0;i<=t;i++){var s=r+(65535&this.D(i))+(65535&e.D(i)),o=(s>>>16)+(this.D(i)>>>16)+(e.D(i)>>>16);r=o>>>16,s&=65535,o&=65535,n[i]=o<<16|s}return new Pf(n,-2147483648&n[n.length-1]?-1:0)},Uc.R=function(e){if(Vf(this)||Vf(e))return jf;if(zf(this))return zf(e)?Bf(this).R(Bf(e)):Bf(Bf(this).R(e));if(zf(e))return Bf(this.R(Bf(e)));if(0>this.X(Uf)&&0>e.X(Uf))return Mf(this.ea()*e.ea());for(var t=this.g.length+e.g.length,n=[],r=0;r<2*t;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<e.g.length;i++){var s=this.D(r)>>>16,o=65535&this.D(r),a=e.D(i)>>>16,l=65535&e.D(i);n[2*r+2*i]+=o*l,Wf(n,2*r+2*i),n[2*r+2*i+1]+=s*l,Wf(n,2*r+2*i+1),n[2*r+2*i+1]+=o*a,Wf(n,2*r+2*i+1),n[2*r+2*i+2]+=s*a,Wf(n,2*r+2*i+2)}for(r=0;r<t;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=t;r<2*t;r++)n[r]=0;return new Pf(n,0)},Uc.gb=function(e){return Hf(this,e).h},Uc.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)&e.D(r);return new Pf(n,this.h&e.h)},Uc.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)|e.D(r);return new Pf(n,this.h|e.h)},Uc.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)^e.D(r);return new Pf(n,this.h^e.h)},Tf.prototype.createWebChannel=Tf.prototype.g,kf.prototype.send=kf.prototype.u,kf.prototype.open=kf.prototype.m,kf.prototype.close=kf.prototype.close,Cd.NO_ERROR=0,Cd.TIMEOUT=8,Cd.HTTP_ERROR=6,Nd.COMPLETE="complete",Pd.EventType=Rd,Rd.OPEN="a",Rd.CLOSE="b",Rd.ERROR="c",Rd.MESSAGE="d",Ku.prototype.listen=Ku.prototype.O,Wh.prototype.listenOnce=Wh.prototype.P,Wh.prototype.getLastError=Wh.prototype.Sa,Wh.prototype.getLastErrorCode=Wh.prototype.Ia,Wh.prototype.getStatus=Wh.prototype.da,Wh.prototype.getResponseJson=Wh.prototype.Wa,Wh.prototype.getResponseText=Wh.prototype.ja,Wh.prototype.send=Wh.prototype.ha,Wh.prototype.setWithCredentials=Wh.prototype.Oa,Af.prototype.digest=Af.prototype.l,Af.prototype.reset=Af.prototype.reset,Af.prototype.update=Af.prototype.j,Pf.prototype.add=Pf.prototype.add,Pf.prototype.multiply=Pf.prototype.R,Pf.prototype.modulo=Pf.prototype.gb,Pf.prototype.compare=Pf.prototype.X,Pf.prototype.toNumber=Pf.prototype.ea,Pf.prototype.toString=Pf.prototype.toString,Pf.prototype.getBits=Pf.prototype.D,Pf.fromNumber=Mf,Pf.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return Bf(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=Mf(Math.pow(n,8)),i=jf,s=0;s<t.length;s+=8){var o=Math.min(8,t.length-s),a=parseInt(t.substring(s,s+o),n);8>o?(o=Mf(Math.pow(n,o)),i=i.R(o).add(Mf(a))):i=(i=i.R(r)).add(Mf(a))}return i};var Qf=zc.createWebChannelTransport=function(){return new Tf},Xf=zc.getStatEventTarget=function(){return _d()},Jf=zc.ErrorCode=Cd,$f=zc.EventType=Nd,Zf=zc.Event=wd,ep=zc.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},tp=(zc.FetchXmlHttpFactory=jh,zc.WebChannel=Pd),np=zc.XhrIo=Wh,rp=zc.Md5=Af,ip=zc.Integer=Pf;const sp="@firebase/firestore";class op{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}op.UNAUTHENTICATED=new op(null),op.GOOGLE_CREDENTIALS=new op("google-credentials-uid"),op.FIRST_PARTY=new op("first-party-uid"),op.MOCK_USER=new op("mock-user");let ap="10.7.0";const lp=new Ar("@firebase/firestore");function cp(){return lp.logLevel}function up(e){if(lp.logLevel<=Tr.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(fp);lp.debug("Firestore (".concat(ap,"): ").concat(e),...i)}}function dp(e){if(lp.logLevel<=Tr.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(fp);lp.error("Firestore (".concat(ap,"): ").concat(e),...i)}}function hp(e){if(lp.logLevel<=Tr.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(fp);lp.warn("Firestore (".concat(ap,"): ").concat(e),...i)}}function fp(e){if("string"==typeof e)return e;try{return function(e){return JSON.stringify(e)}(e)}catch(t){return e}}function pp(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state";const t="FIRESTORE (".concat(ap,") INTERNAL ASSERTION FAILED: ")+e;throw dp(t),new Error(t)}function mp(e,t){e||pp()}function gp(e,t){return e}const yp={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class vp extends ar{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>"".concat(this.name,": [code=").concat(this.code,"]: ").concat(this.message)}}class wp{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class bp{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(e))}}class _p{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(op.UNAUTHENTICATED)))}shutdown(){}}class Sp{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class Ep{constructor(e){this.t=e,this.currentUser=op.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let i=new wp;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new wp,e.enqueueRetryable((()=>r(this.currentUser)))};const s=()=>{const t=i;e.enqueueRetryable((async()=>{await t.promise,await r(this.currentUser)}))},o=e=>{up("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.auth.addAuthTokenListener(this.o),s()};this.t.onInit((e=>o(e))),setTimeout((()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?o(e):(up("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new wp)}}),0),s()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((t=>this.i!==e?(up("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(mp("string"==typeof t.accessToken),new bp(t.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return mp(null===e||"string"==typeof e),new op(e)}}class xp{constructor(e,t,n){this.l=e,this.h=t,this.P=n,this.type="FirstParty",this.user=op.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class Tp{constructor(e,t,n){this.l=e,this.h=t,this.P=n}getToken(){return Promise.resolve(new xp(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable((()=>t(op.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class kp{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Ip{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){const n=e=>{null!=e.error&&up("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));const n=e.token!==this.R;return this.R=e.token,up("FirebaseAppCheckTokenProvider","Received ".concat(n?"new":"existing"," token.")),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable((()=>n(t)))};const r=e=>{up("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.appCheck.addTokenListener(this.o)};this.A.onInit((e=>r(e))),setTimeout((()=>{if(!this.appCheck){const e=this.A.getImmediate({optional:!0});e?r(e):up("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((e=>e?(mp("string"==typeof e.token),this.R=e.token,new kp(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Cp(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}class Np{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(256/62);let n="";for(;n.length<20;){const r=Cp(40);for(let i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%62))}return n}}function Ap(e,t){return e<t?-1:e>t?1:0}function Op(e,t,n){return e.length===t.length&&e.every(((e,r)=>n(e,t[r])))}function Pp(e){return e+"\0"}class Dp{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new vp(yp.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new vp(yp.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new vp(yp.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new vp(yp.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Dp.fromMillis(Date.now())}static fromDate(e){return Dp.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*t));return new Dp(t,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ap(this.nanoseconds,e.nanoseconds):Ap(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Rp{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Rp(e)}static min(){return new Rp(new Dp(0,0))}static max(){return new Rp(new Dp(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Mp{constructor(e,t,n){void 0===t?t=0:t>e.length&&pp(),void 0===n?n=e.length-t:n>e.length-t&&pp(),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===Mp.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Mp?e.forEach((e=>{t.push(e)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=e.get(r),i=t.get(r);if(n<i)return-1;if(n>i)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Lp extends Mp{construct(e,t,n){return new Lp(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(){const e=[];for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n){if(i.indexOf("//")>=0)throw new vp(yp.INVALID_ARGUMENT,"Invalid segment (".concat(i,"). Paths must not contain // in them."));e.push(...i.split("/").filter((e=>e.length>0)))}return new Lp(e)}static emptyPath(){return new Lp([])}}const jp=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Fp extends Mp{construct(e,t,n){return new Fp(e,t,n)}static isValidIdentifier(e){return jp.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Fp.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Fp(["__name__"])}static fromServerFormat(e){const t=[];let n="",r=0;const i=()=>{if(0===n.length)throw new vp(yp.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(n),n=""};let s=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new vp(yp.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new vp(yp.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(s=!s,r++):"."!==t||s?(n+=t,r++):(i(),r++)}if(i(),s)throw new vp(yp.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Fp(t)}static emptyPath(){return new Fp([])}}class Up{constructor(e){this.path=e}static fromPath(e){return new Up(Lp.fromString(e))}static fromName(e){return new Up(Lp.fromString(e).popFirst(5))}static empty(){return new Up(Lp.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Lp.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Lp.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Up(new Lp(e.slice()))}}class Vp{constructor(e,t,n,r){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=r}}function zp(e){return e.fields.find((e=>2===e.kind))}function Bp(e){return e.fields.filter((e=>2!==e.kind))}Vp.UNKNOWN_ID=-1;class qp{constructor(e,t){this.fieldPath=e,this.kind=t}}class Wp{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new Wp(0,Yp.min())}}function Gp(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=Rp.fromTimestamp(1e9===r?new Dp(n+1,0):new Dp(n,r));return new Yp(i,Up.empty(),t)}function Hp(e){return new Yp(e.readTime,e.key,-1)}class Yp{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new Yp(Rp.min(),Up.empty(),-1)}static max(){return new Yp(Rp.max(),Up.empty(),-1)}}function Kp(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=Up.comparator(e.documentKey,t.documentKey),0!==n?n:Ap(e.largestBatchId,t.largestBatchId))}const Qp="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Xp{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Jp(e){if(e.code!==yp.FAILED_PRECONDITION||e.message!==Qp)throw e;up("LocalStore","Unexpectedly lost primary lease")}class $p{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&pp(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new $p(((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof $p?t:$p.resolve(t)}catch(e){return $p.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):$p.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):$p.reject(t)}static resolve(e){return new $p(((t,n)=>{t(e)}))}static reject(e){return new $p(((t,n)=>{n(e)}))}static waitFor(e){return new $p(((t,n)=>{let r=0,i=0,s=!1;e.forEach((e=>{++r,e.next((()=>{++i,s&&i===r&&t()}),(e=>n(e)))})),s=!0,i===r&&t()}))}static or(e){let t=$p.resolve(!1);for(const n of e)t=t.next((e=>e?$p.resolve(e):n()));return t}static forEach(e,t){const n=[];return e.forEach(((e,r)=>{n.push(t.call(this,e,r))})),this.waitFor(n)}static mapArray(e,t){return new $p(((n,r)=>{const i=e.length,s=new Array(i);let o=0;for(let a=0;a<i;a++){const l=a;t(e[l]).next((e=>{s[l]=e,++o,o===i&&n(s)}),(e=>r(e)))}}))}static doWhile(e,t){return new $p(((n,r)=>{const i=()=>{!0===e()?t().next((()=>{i()}),r):n()};i()}))}}class Zp{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.V=new wp,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{t.error?this.V.reject(new nm(e,t.error)):this.V.resolve()},this.transaction.onerror=t=>{const n=am(t.target.error);this.V.reject(new nm(e,n))}}static open(e,t,n,r){try{return new Zp(t,e.transaction(r,n))}catch(e){throw new nm(t,e)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(up("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new im(t)}}class em{constructor(e,t,n){this.name=e,this.version=t,this.p=n,12.2===em.S(tr())&&dp("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return up("SimpleDb","Removing database:",e),sm(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!or())return!1;if(em.C())return!0;const e=tr(),t=em.S(e),n=0<t&&t<10,r=em.v(e),i=0<r&&r<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||n||i)}static C(){var e;return"undefined"!=typeof process&&"YES"===(null===(e={NODE_ENV:"production",PUBLIC_URL:"/zizishopfrontend",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_STRIPE:"pk_test_51OPvWsE20rTG9mx1Sd2vvcDhqLQNQNZBpOzGK5Q8Bqclnz8MXOcVLKkXtcXw8aF9L58QxIlFv3x4RAzAP84NdjpZ00lZK1aYup"})||void 0===e?void 0:e.F)}static M(e,t){return e.store(t)}static S(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}static v(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}async O(e){return this.db||(up("SimpleDb","Opening database:",this.name),this.db=await new Promise(((t,n)=>{const r=indexedDB.open(this.name,this.version);r.onsuccess=e=>{const n=e.target.result;t(n)},r.onblocked=()=>{n(new nm(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},r.onerror=t=>{const r=t.target.error;"VersionError"===r.name?n(new vp(yp.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===r.name?n(new vp(yp.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+r)):n(new nm(e,r))},r.onupgradeneeded=e=>{up("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',e.oldVersion);const t=e.target.result;this.p.N(t,r.transaction,e.oldVersion,this.version).next((()=>{up("SimpleDb","Database upgrade to version "+this.version+" complete")}))}}))),this.B&&(this.db.onversionchange=e=>this.B(e)),this.db}L(e){this.B=e,this.db&&(this.db.onversionchange=t=>e(t))}async runTransaction(e,t,n,r){const i="readonly"===t;let s=0;for(;;){++s;try{this.db=await this.O(e);const t=Zp.open(this.db,e,i?"readonly":"readwrite",n),s=r(t).next((e=>(t.g(),e))).catch((e=>(t.abort(e),$p.reject(e)))).toPromise();return s.catch((()=>{})),await t.m,s}catch(e){const t=e,n="FirebaseError"!==t.name&&s<3;if(up("SimpleDb","Transaction failed with error:",t.message,"Retrying:",n),this.close(),!n)return Promise.reject(t)}}}close(){this.db&&this.db.close(),this.db=void 0}}class tm{constructor(e){this.k=e,this.q=!1,this.K=null}get isDone(){return this.q}get $(){return this.K}set cursor(e){this.k=e}done(){this.q=!0}U(e){this.K=e}delete(){return sm(this.k.delete())}}class nm extends vp{constructor(e,t){super(yp.UNAVAILABLE,"IndexedDB transaction '".concat(e,"' failed: ").concat(t)),this.name="IndexedDbTransactionError"}}function rm(e){return"IndexedDbTransactionError"===e.name}class im{constructor(e){this.store=e}put(e,t){let n;return void 0!==t?(up("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(up("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),sm(n)}add(e){return up("SimpleDb","ADD",this.store.name,e,e),sm(this.store.add(e))}get(e){return sm(this.store.get(e)).next((t=>(void 0===t&&(t=null),up("SimpleDb","GET",this.store.name,e,t),t)))}delete(e){return up("SimpleDb","DELETE",this.store.name,e),sm(this.store.delete(e))}count(){return up("SimpleDb","COUNT",this.store.name),sm(this.store.count())}W(e,t){const n=this.options(e,t);if(n.index||"function"!=typeof this.store.getAll){const e=this.cursor(n),t=[];return this.G(e,((e,n)=>{t.push(n)})).next((()=>t))}{const e=this.store.getAll(n.range);return new $p(((t,n)=>{e.onerror=e=>{n(e.target.error)},e.onsuccess=e=>{t(e.target.result)}}))}}j(e,t){const n=this.store.getAll(e,null===t?void 0:t);return new $p(((e,t)=>{n.onerror=e=>{t(e.target.error)},n.onsuccess=t=>{e(t.target.result)}}))}H(e,t){up("SimpleDb","DELETE ALL",this.store.name);const n=this.options(e,t);n.J=!1;const r=this.cursor(n);return this.G(r,((e,t,n)=>n.delete()))}Y(e,t){let n;t?n=e:(n={},t=e);const r=this.cursor(n);return this.G(r,t)}Z(e){const t=this.cursor({});return new $p(((n,r)=>{t.onerror=e=>{const t=am(e.target.error);r(t)},t.onsuccess=t=>{const r=t.target.result;r?e(r.primaryKey,r.value).next((e=>{e?r.continue():n()})):n()}}))}G(e,t){const n=[];return new $p(((r,i)=>{e.onerror=e=>{i(e.target.error)},e.onsuccess=e=>{const i=e.target.result;if(!i)return void r();const s=new tm(i),o=t(i.primaryKey,i.value,s);if(o instanceof $p){const e=o.catch((e=>(s.done(),$p.reject(e))));n.push(e)}s.isDone?r():null===s.$?i.continue():i.continue(s.$)}})).next((()=>$p.waitFor(n)))}options(e,t){let n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const n=this.store.index(e.index);return e.J?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function sm(e){return new $p(((t,n)=>{e.onsuccess=e=>{const n=e.target.result;t(n)},e.onerror=e=>{const t=am(e.target.error);n(t)}}))}let om=!1;function am(e){const t=em.S(tr());if(t>=12.2&&t<13){const t="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(t)>=0){const e=new vp("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '".concat(t,"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."));return om||(om=!0,setTimeout((()=>{throw e}),0)),e}}return e}class lm{constructor(e,t){this.asyncQueue=e,this.X=t,this.task=null}start(){this.ee(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}ee(e){up("IndexBackiller","Scheduled in ".concat(e,"ms")),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(async()=>{this.task=null;try{up("IndexBackiller","Documents written: ".concat(await this.X.te()))}catch(e){rm(e)?up("IndexBackiller","Ignoring IndexedDB error during index backfill: ",e):await Jp(e)}await this.ee(6e4)}))}}class cm{constructor(e,t){this.localStore=e,this.persistence=t}async te(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:50;return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(t=>this.ne(t,e)))}ne(e,t){const n=new Set;let r=t,i=!0;return $p.doWhile((()=>!0===i&&r>0),(()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((t=>{if(null!==t&&!n.has(t))return up("IndexBackiller","Processing collection: ".concat(t)),this.re(e,t,r).next((e=>{r-=e,n.add(t)}));i=!1})))).next((()=>t-r))}re(e,t,n){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next((r=>this.localStore.localDocuments.getNextDocuments(e,t,r,n).next((n=>{const i=n.changes;return this.localStore.indexManager.updateIndexEntries(e,i).next((()=>this.ie(r,n))).next((n=>(up("IndexBackiller","Updating offset: ".concat(n)),this.localStore.indexManager.updateCollectionGroup(e,t,n)))).next((()=>i.size))}))))}ie(e,t){let n=e;return t.changes.forEach(((e,t)=>{const r=Hp(t);Kp(r,n)>0&&(n=r)})),new Yp(n.readTime,n.documentKey,Math.max(t.batchId,e.largestBatchId))}}class um{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.se(e),this.oe=e=>t.writeSequenceNumber(e))}se(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.oe&&this.oe(e),e}}function dm(e){return null==e}function hm(e){return 0===e&&1/e==-1/0}function fm(e){return"number"==typeof e&&Number.isInteger(e)&&!hm(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}function pm(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=gm(t)),t=mm(e.get(n),t);return gm(t)}function mm(e,t){let n=t;const r=e.length;for(let i=0;i<r;i++){const t=e.charAt(i);switch(t){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=t}}return n}function gm(e){return e+"\x01\x01"}function ym(e){const t=e.length;if(mp(t>=2),2===t)return mp("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),Lp.emptyPath();const n=t-2,r=[];let i="";for(let s=0;s<t;){const t=e.indexOf("\x01",s);switch((t<0||t>n)&&pp(),e.charAt(t+1)){case"\x01":const n=e.substring(s,t);let o;0===i.length?o=n:(i+=n,o=i,i=""),r.push(o);break;case"\x10":i+=e.substring(s,t),i+="\0";break;case"\x11":i+=e.substring(s,t+1);break;default:pp()}s=t+2}return new Lp(r)}um._e=-1;const vm=["userId","batchId"];function wm(e,t){return[e,pm(t)]}function bm(e,t,n){return[e,pm(t),n]}const _m={},Sm=["prefixPath","collectionGroup","readTime","documentId"],Em=["prefixPath","collectionGroup","documentId"],xm=["collectionGroup","readTime","prefixPath","documentId"],Tm=["canonicalId","targetId"],km=["targetId","path"],Im=["path","targetId"],Cm=["collectionId","parent"],Nm=["indexId","uid"],Am=["uid","sequenceNumber"],Om=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],Pm=["indexId","uid","orderedDocumentKey"],Dm=["userId","collectionPath","documentId"],Rm=["userId","collectionPath","largestBatchId"],Mm=["userId","collectionGroup","largestBatchId"],Lm=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],jm=[...Lm,"documentOverlays"],Fm=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Um=Fm,Vm=[...Um,"indexConfiguration","indexState","indexEntries"];class zm extends Xp{constructor(e,t){super(),this.ae=e,this.currentSequenceNumber=t}}function Bm(e,t){const n=gp(e);return em.M(n.ae,t)}function qm(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Wm(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Gm(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class Hm{constructor(e,t){this.comparator=e,this.root=t||Km.EMPTY}insert(e,t){return new Hm(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Km.BLACK,null,null))}remove(e){return new Hm(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Km.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,n)=>(e(t,n),!1)))}toString(){const e=[];return this.inorderTraversal(((t,n)=>(e.push("".concat(t,":").concat(n)),!1))),"{".concat(e.join(", "),"}")}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ym(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ym(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ym(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ym(this.root,e,this.comparator,!0)}}class Ym{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,t&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Km{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:Km.RED,this.left=null!=r?r:Km.EMPTY,this.right=null!=i?i:Km.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,i){return new Km(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Km.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return Km.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Km.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Km.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw pp();if(this.right.isRed())throw pp();const e=this.left.check();if(e!==this.right.check())throw pp();return e+(this.isRed()?0:1)}}Km.EMPTY=null,Km.RED=!0,Km.BLACK=!1,Km.EMPTY=new class{constructor(){this.size=0}get key(){throw pp()}get value(){throw pp()}get color(){throw pp()}get left(){throw pp()}get right(){throw pp()}copy(e,t,n,r,i){return this}insert(e,t,n){return new Km(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Qm{constructor(e){this.comparator=e,this.data=new Hm(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,n)=>(e(t),!1)))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Xm(this.data.getIterator())}getIteratorFrom(e){return new Xm(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((e=>{t=t.add(e)})),t}isEqual(e){if(!(e instanceof Qm))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new Qm(this.comparator);return t.data=e,t}}class Xm{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Jm(e){return e.hasNext()?e.getNext():void 0}class $m{constructor(e){this.fields=e,e.sort(Fp.comparator)}static empty(){return new $m([])}unionWith(e){let t=new Qm(Fp.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new $m(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Op(this.fields,e.fields,((e,t)=>e.isEqual(t)))}}class Zm extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class eg{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new Zm("Invalid base64 string: "+e):e}}(e);return new eg(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new eg(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ap(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}eg.EMPTY_BYTE_STRING=new eg("");const tg=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ng(e){if(mp(!!e),"string"==typeof e){let t=0;const n=tg.exec(e);if(mp(!!n),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:rg(e.seconds),nanos:rg(e.nanos)}}function rg(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function ig(e){return"string"==typeof e?eg.fromBase64String(e):eg.fromUint8Array(e)}function sg(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function og(e){const t=e.mapValue.fields.__previous_value__;return sg(t)?og(t):t}function ag(e){const t=ng(e.mapValue.fields.__local_write_time__.timestampValue);return new Dp(t.seconds,t.nanos)}class lg{constructor(e,t,n,r,i,s,o,a,l){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=s,this.autoDetectLongPolling=o,this.longPollingOptions=a,this.useFetchStreams=l}}class cg{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new cg("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof cg&&e.projectId===this.projectId&&e.database===this.database}}const ug={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},dg={nullValue:"NULL_VALUE"};function hg(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?sg(e)?4:kg(e)?9007199254740991:10:pp()}function fg(e,t){if(e===t)return!0;const n=hg(e);if(n!==hg(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return ag(e).isEqual(ag(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=ng(e.timestampValue),r=ng(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return ig(e.bytesValue).isEqual(ig(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return rg(e.geoPointValue.latitude)===rg(t.geoPointValue.latitude)&&rg(e.geoPointValue.longitude)===rg(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return rg(e.integerValue)===rg(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=rg(e.doubleValue),r=rg(t.doubleValue);return n===r?hm(n)===hm(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Op(e.arrayValue.values||[],t.arrayValue.values||[],fg);case 10:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(qm(n)!==qm(r))return!1;for(const i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!fg(n[i],r[i])))return!1;return!0}(e,t);default:return pp()}}function pg(e,t){return void 0!==(e.values||[]).find((e=>fg(e,t)))}function mg(e,t){if(e===t)return 0;const n=hg(e),r=hg(t);if(n!==r)return Ap(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ap(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=rg(e.integerValue||e.doubleValue),r=rg(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return gg(e.timestampValue,t.timestampValue);case 4:return gg(ag(e),ag(t));case 5:return Ap(e.stringValue,t.stringValue);case 6:return function(e,t){const n=ig(e),r=ig(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let i=0;i<n.length&&i<r.length;i++){const e=Ap(n[i],r[i]);if(0!==e)return e}return Ap(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=Ap(rg(e.latitude),rg(t.latitude));return 0!==n?n:Ap(rg(e.longitude),rg(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){const n=e.values||[],r=t.values||[];for(let i=0;i<n.length&&i<r.length;++i){const e=mg(n[i],r[i]);if(e)return e}return Ap(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===ug.mapValue&&t===ug.mapValue)return 0;if(e===ug.mapValue)return 1;if(t===ug.mapValue)return-1;const n=e.fields||{},r=Object.keys(n),i=t.fields||{},s=Object.keys(i);r.sort(),s.sort();for(let o=0;o<r.length&&o<s.length;++o){const e=Ap(r[o],s[o]);if(0!==e)return e;const t=mg(n[r[o]],i[s[o]]);if(0!==t)return t}return Ap(r.length,s.length)}(e.mapValue,t.mapValue);default:throw pp()}}function gg(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Ap(e,t);const n=ng(e),r=ng(t),i=Ap(n.seconds,r.seconds);return 0!==i?i:Ap(n.nanos,r.nanos)}function yg(e){return vg(e)}function vg(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=ng(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(e){return ig(e).toBase64()}(e.bytesValue):"referenceValue"in e?function(e){return Up.fromName(e).toString()}(e.referenceValue):"geoPointValue"in e?function(e){return"geo(".concat(e.latitude,",").concat(e.longitude,")")}(e.geoPointValue):"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=vg(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const i of t)r?r=!1:n+=",",n+="".concat(i,":").concat(vg(e.fields[i]));return n+"}"}(e.mapValue):pp()}function wg(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function bg(e){return!!e&&"integerValue"in e}function _g(e){return!!e&&"arrayValue"in e}function Sg(e){return!!e&&"nullValue"in e}function Eg(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function xg(e){return!!e&&"mapValue"in e}function Tg(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return Wm(e.mapValue.fields,((e,n)=>t.mapValue.fields[e]=Tg(n))),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Tg(e.arrayValue.values[n]);return t}return Object.assign({},e)}function kg(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}function Ig(e){return"nullValue"in e?dg:"booleanValue"in e?{booleanValue:!1}:"integerValue"in e||"doubleValue"in e?{doubleValue:NaN}:"timestampValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in e?{stringValue:""}:"bytesValue"in e?{bytesValue:""}:"referenceValue"in e?wg(cg.empty(),Up.empty()):"geoPointValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in e?{arrayValue:{}}:"mapValue"in e?{mapValue:{}}:pp()}function Cg(e){return"nullValue"in e?{booleanValue:!1}:"booleanValue"in e?{doubleValue:NaN}:"integerValue"in e||"doubleValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in e?{stringValue:""}:"stringValue"in e?{bytesValue:""}:"bytesValue"in e?wg(cg.empty(),Up.empty()):"referenceValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in e?{arrayValue:{}}:"arrayValue"in e?{mapValue:{}}:"mapValue"in e?ug:pp()}function Ng(e,t){const n=mg(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?-1:!e.inclusive&&t.inclusive?1:0}function Ag(e,t){const n=mg(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?1:!e.inclusive&&t.inclusive?-1:0}class Og{constructor(e){this.value=e}static empty(){return new Og({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!xg(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Tg(t)}setAll(e){let t=Fp.emptyPath(),n={},r=[];e.forEach(((e,i)=>{if(!t.isImmediateParentOf(i)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=Tg(e):r.push(i.lastSegment())}));const i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){const t=this.field(e.popLast());xg(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return fg(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];xg(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){Wm(t,((t,n)=>e[t]=n));for(const r of n)delete e[r]}clone(){return new Og(Tg(this.value))}}function Pg(e){const t=[];return Wm(e.fields,((e,n)=>{const r=new Fp([e]);if(xg(n)){const e=Pg(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)})),new $m(t)}class Dg{constructor(e,t,n,r,i,s,o){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=i,this.data=s,this.documentState=o}static newInvalidDocument(e){return new Dg(e,0,Rp.min(),Rp.min(),Rp.min(),Og.empty(),0)}static newFoundDocument(e,t,n,r){return new Dg(e,1,t,Rp.min(),n,r,0)}static newNoDocument(e,t){return new Dg(e,2,t,Rp.min(),Rp.min(),Og.empty(),0)}static newUnknownDocument(e,t){return new Dg(e,3,t,Rp.min(),Rp.min(),Og.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Rp.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Og.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Og.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Rp.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Dg&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Dg(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}class Rg{constructor(e,t){this.position=e,this.inclusive=t}}function Mg(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const s=t[i],o=e.position[i];if(r=s.field.isKeyField()?Up.comparator(Up.fromName(o.referenceValue),n.key):mg(o,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function Lg(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!fg(e.position[n],t.position[n]))return!1;return!0}class jg{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";this.field=e,this.dir=t}}function Fg(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class Ug{}class Vg extends Ug{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new Xg(e,t,n):"array-contains"===t?new ey(e,n):"in"===t?new ty(e,n):"not-in"===t?new ny(e,n):"array-contains-any"===t?new ry(e,n):new Vg(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new Jg(e,n):new $g(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(mg(t,this.value)):null!==t&&hg(this.value)===hg(t)&&this.matchesComparison(mg(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return pp()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class zg extends Ug{constructor(e,t){super(),this.filters=e,this.op=t,this.ue=null}static create(e,t){return new zg(e,t)}matches(e){return Bg(this)?void 0===this.filters.find((t=>!t.matches(e))):void 0!==this.filters.find((t=>t.matches(e)))}getFlattenedFilters(){return null!==this.ue||(this.ue=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function Bg(e){return"and"===e.op}function qg(e){return"or"===e.op}function Wg(e){return Gg(e)&&Bg(e)}function Gg(e){for(const t of e.filters)if(t instanceof zg)return!1;return!0}function Hg(e){if(e instanceof Vg)return e.field.canonicalString()+e.op.toString()+yg(e.value);if(Wg(e))return e.filters.map((e=>Hg(e))).join(",");{const t=e.filters.map((e=>Hg(e))).join(",");return"".concat(e.op,"(").concat(t,")")}}function Yg(e,t){return e instanceof Vg?function(e,t){return t instanceof Vg&&e.op===t.op&&e.field.isEqual(t.field)&&fg(e.value,t.value)}(e,t):e instanceof zg?function(e,t){return t instanceof zg&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce(((e,n,r)=>e&&Yg(n,t.filters[r])),!0)}(e,t):void pp()}function Kg(e,t){const n=e.filters.concat(t);return zg.create(n,e.op)}function Qg(e){return e instanceof Vg?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat(yg(e.value))}(e):e instanceof zg?function(e){return e.op.toString()+" {"+e.getFilters().map(Qg).join(" ,")+"}"}(e):"Filter"}class Xg extends Vg{constructor(e,t,n){super(e,t,n),this.key=Up.fromName(n.referenceValue)}matches(e){const t=Up.comparator(e.key,this.key);return this.matchesComparison(t)}}class Jg extends Vg{constructor(e,t){super(e,"in",t),this.keys=Zg("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class $g extends Vg{constructor(e,t){super(e,"not-in",t),this.keys=Zg("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function Zg(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((e=>Up.fromName(e.referenceValue)))}class ey extends Vg{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return _g(t)&&pg(t.arrayValue,this.value)}}class ty extends Vg{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&pg(this.value.arrayValue,t)}}class ny extends Vg{constructor(e,t){super(e,"not-in",t)}matches(e){if(pg(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!pg(this.value.arrayValue,t)}}class ry extends Vg{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!_g(t)||!t.arrayValue.values)&&t.arrayValue.values.some((e=>pg(this.value.arrayValue,e)))}}class iy{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=s,this.endAt=o,this.ce=null}}function sy(e){return new iy(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function oy(e){const t=gp(e);if(null===t.ce){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((e=>Hg(e))).join(","),e+="|ob:",e+=t.orderBy.map((e=>function(e){return e.field.canonicalString()+e.dir}(e))).join(","),dm(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((e=>yg(e))).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((e=>yg(e))).join(",")),t.ce=e}return t.ce}function ay(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!Fg(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!Yg(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Lg(e.startAt,t.startAt)&&Lg(e.endAt,t.endAt)}function ly(e){return Up.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}function cy(e,t){return e.filters.filter((e=>e instanceof Vg&&e.field.isEqual(t)))}function uy(e,t,n){let r=dg,i=!0;for(const s of cy(e,t)){let e=dg,t=!0;switch(s.op){case"<":case"<=":e=Ig(s.value);break;case"==":case"in":case">=":e=s.value;break;case">":e=s.value,t=!1;break;case"!=":case"not-in":e=dg}Ng({value:r,inclusive:i},{value:e,inclusive:t})<0&&(r=e,i=t)}if(null!==n)for(let s=0;s<e.orderBy.length;++s)if(e.orderBy[s].field.isEqual(t)){const e=n.position[s];Ng({value:r,inclusive:i},{value:e,inclusive:n.inclusive})<0&&(r=e,i=n.inclusive);break}return{value:r,inclusive:i}}function dy(e,t,n){let r=ug,i=!0;for(const s of cy(e,t)){let e=ug,t=!0;switch(s.op){case">=":case">":e=Cg(s.value),t=!1;break;case"==":case"in":case"<=":e=s.value;break;case"<":e=s.value,t=!1;break;case"!=":case"not-in":e=ug}Ag({value:r,inclusive:i},{value:e,inclusive:t})>0&&(r=e,i=t)}if(null!==n)for(let s=0;s<e.orderBy.length;++s)if(e.orderBy[s].field.isEqual(t)){const e=n.position[s];Ag({value:r,inclusive:i},{value:e,inclusive:n.inclusive})>0&&(r=e,i=n.inclusive);break}return{value:r,inclusive:i}}class hy{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=s,this.startAt=o,this.endAt=a,this.le=null,this.he=null,this.Pe=null,this.startAt,this.endAt}}function fy(e,t,n,r,i,s,o,a){return new hy(e,t,n,r,i,s,o,a)}function py(e){return new hy(e)}function my(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function gy(e){return null!==e.collectionGroup}function yy(e){const t=gp(e);if(null===t.le){t.le=[];const e=new Set;for(const i of t.explicitOrderBy)t.le.push(i),e.add(i.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc",r=function(e){let t=new Qm(Fp.comparator);return e.filters.forEach((e=>{e.getFlattenedFilters().forEach((e=>{e.isInequality()&&(t=t.add(e.field))}))})),t}(t);r.forEach((r=>{e.has(r.canonicalString())||r.isKeyField()||t.le.push(new jg(r,n))})),e.has(Fp.keyField().canonicalString())||t.le.push(new jg(Fp.keyField(),n))}return t.le}function vy(e){const t=gp(e);return t.he||(t.he=wy(t,yy(e))),t.he}function wy(e,t){if("F"===e.limitType)return sy(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map((e=>{const t="desc"===e.dir?"asc":"desc";return new jg(e.field,t)}));const n=e.endAt?new Rg(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new Rg(e.startAt.position,e.startAt.inclusive):null;return sy(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function by(e,t){const n=e.filters.concat([t]);return new hy(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function _y(e,t,n){return new hy(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Sy(e,t){return ay(vy(e),vy(t))&&e.limitType===t.limitType}function Ey(e){return"".concat(oy(vy(e)),"|lt:").concat(e.limitType)}function xy(e){return"Query(target=".concat(function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((e=>Qg(e))).join(", "),"]")),dm(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((e=>function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e))).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((e=>yg(e))).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((e=>yg(e))).join(",")),"Target(".concat(t,")")}(vy(e)),"; limitType=").concat(e.limitType,")")}function Ty(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):Up.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of yy(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){const r=Mg(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,yy(e),t))&&!(e.endAt&&!function(e,t,n){const r=Mg(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,yy(e),t))}(e,t)}function ky(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function Iy(e){return(t,n)=>{let r=!1;for(const i of yy(e)){const e=Cy(i,t,n);if(0!==e)return e;r=r||i.field.isKeyField()}return 0}}function Cy(e,t,n){const r=e.field.isKeyField()?Up.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?mg(r,i):pp()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return pp()}}class Ny{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[r,i]of n)if(this.equalsFn(r,e))return i}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){Wm(this.inner,((t,n)=>{for(const[r,i]of n)e(r,i)}))}isEmpty(){return Gm(this.inner)}size(){return this.innerSize}}const Ay=new Hm(Up.comparator);function Oy(){return Ay}const Py=new Hm(Up.comparator);function Dy(){let e=Py;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.insert(i.key,i);return e}function Ry(e){let t=Py;return e.forEach(((e,n)=>t=t.insert(e,n.overlayedDocument))),t}function My(){return jy()}function Ly(){return jy()}function jy(){return new Ny((e=>e.toString()),((e,t)=>e.isEqual(t)))}const Fy=new Hm(Up.comparator),Uy=new Qm(Up.comparator);function Vy(){let e=Uy;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.add(i);return e}const zy=new Qm(Ap);function By(){return zy}function qy(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:hm(t)?"-0":t}}function Wy(e){return{integerValue:""+e}}function Gy(e,t){return fm(t)?Wy(t):qy(e,t)}class Hy{constructor(){this._=void 0}}function Yy(e,t,n){return e instanceof Xy?function(e,t){const n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&sg(t)&&(t=og(t)),t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof Jy?$y(e,t):e instanceof Zy?ev(e,t):function(e,t){const n=Qy(e,t),r=nv(n)+nv(e.Ie);return bg(n)&&bg(e.Ie)?Wy(r):qy(e.serializer,r)}(e,t)}function Ky(e,t,n){return e instanceof Jy?$y(e,t):e instanceof Zy?ev(e,t):n}function Qy(e,t){return e instanceof tv?function(e){return bg(e)||function(e){return!!e&&"doubleValue"in e}(e)}(t)?t:{integerValue:0}:null}class Xy extends Hy{}class Jy extends Hy{constructor(e){super(),this.elements=e}}function $y(e,t){const n=rv(t);for(const r of e.elements)n.some((e=>fg(e,r)))||n.push(r);return{arrayValue:{values:n}}}class Zy extends Hy{constructor(e){super(),this.elements=e}}function ev(e,t){let n=rv(t);for(const r of e.elements)n=n.filter((e=>!fg(e,r)));return{arrayValue:{values:n}}}class tv extends Hy{constructor(e,t){super(),this.serializer=e,this.Ie=t}}function nv(e){return rg(e.integerValue||e.doubleValue)}function rv(e){return _g(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class iv{constructor(e,t){this.field=e,this.transform=t}}class sv{constructor(e,t){this.version=e,this.transformResults=t}}class ov{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new ov}static exists(e){return new ov(void 0,e)}static updateTime(e){return new ov(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function av(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class lv{}function cv(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new wv(e.key,ov.none()):new pv(e.key,e.data,ov.none());{const n=e.data,r=Og.empty();let i=new Qm(Fp.comparator);for(let e of t.fields)if(!i.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?r.delete(e):r.set(e,t),i=i.add(e)}return new mv(e.key,r,new $m(i.toArray()),ov.none())}}function uv(e,t,n){e instanceof pv?function(e,t,n){const r=e.value.clone(),i=yv(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof mv?function(e,t,n){if(!av(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=yv(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(gv(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function dv(e,t,n,r){return e instanceof pv?function(e,t,n,r){if(!av(e.precondition,t))return n;const i=e.value.clone(),s=vv(e.fieldTransforms,r,t);return i.setAll(s),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof mv?function(e,t,n,r){if(!av(e.precondition,t))return n;const i=vv(e.fieldTransforms,r,t),s=t.data;return s.setAll(gv(e)),s.setAll(i),t.convertToFoundDocument(t.version,s).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((e=>e.field)))}(e,t,n,r):function(e,t,n){return av(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function hv(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),i=Qy(r.transform,e||null);null!=i&&(null===n&&(n=Og.empty()),n.set(r.field,i))}return n||null}function fv(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&Op(e,t,((e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof Jy&&t instanceof Jy||e instanceof Zy&&t instanceof Zy?Op(e.elements,t.elements,fg):e instanceof tv&&t instanceof tv?fg(e.Ie,t.Ie):e instanceof Xy&&t instanceof Xy}(e.transform,t.transform)}(e,t)))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class pv extends lv{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class mv extends lv{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function gv(e){const t=new Map;return e.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}})),t}function yv(e,t,n){const r=new Map;mp(e.length===n.length);for(let i=0;i<n.length;i++){const s=e[i],o=s.transform,a=t.data.field(s.field);r.set(s.field,Ky(o,a,n[i]))}return r}function vv(e,t,n){const r=new Map;for(const i of e){const e=i.transform,s=n.data.field(i.field);r.set(i.field,Yy(e,s,t))}return r}class wv extends lv{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class bv extends lv{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class _v{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const t=this.mutations[r];t.key.isEqual(e.key)&&uv(t,e,n[r])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=dv(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=dv(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=Ly();return this.mutations.forEach((r=>{const i=e.get(r.key),s=i.overlayedDocument;let o=this.applyToLocalView(s,i.mutatedFields);o=t.has(r.key)?null:o;const a=cv(s,o);null!==a&&n.set(r.key,a),s.isValidDocument()||s.convertToNoDocument(Rp.min())})),n}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),Vy())}isEqual(e){return this.batchId===e.batchId&&Op(this.mutations,e.mutations,((e,t)=>fv(e,t)))&&Op(this.baseMutations,e.baseMutations,((e,t)=>fv(e,t)))}}class Sv{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){mp(e.mutations.length===n.length);let r=Fy;const i=e.mutations;for(let s=0;s<i.length;s++)r=r.insert(i[s].key,n[s].version);return new Sv(e,t,n,r)}}class Ev{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}class xv{constructor(e,t){this.count=e,this.unchangedNames=t}}var Tv,kv;function Iv(e){switch(e){default:return pp();case yp.CANCELLED:case yp.UNKNOWN:case yp.DEADLINE_EXCEEDED:case yp.RESOURCE_EXHAUSTED:case yp.INTERNAL:case yp.UNAVAILABLE:case yp.UNAUTHENTICATED:return!1;case yp.INVALID_ARGUMENT:case yp.NOT_FOUND:case yp.ALREADY_EXISTS:case yp.PERMISSION_DENIED:case yp.FAILED_PRECONDITION:case yp.ABORTED:case yp.OUT_OF_RANGE:case yp.UNIMPLEMENTED:case yp.DATA_LOSS:return!0}}function Cv(e){if(void 0===e)return dp("GRPC error has no .code"),yp.UNKNOWN;switch(e){case Tv.OK:return yp.OK;case Tv.CANCELLED:return yp.CANCELLED;case Tv.UNKNOWN:return yp.UNKNOWN;case Tv.DEADLINE_EXCEEDED:return yp.DEADLINE_EXCEEDED;case Tv.RESOURCE_EXHAUSTED:return yp.RESOURCE_EXHAUSTED;case Tv.INTERNAL:return yp.INTERNAL;case Tv.UNAVAILABLE:return yp.UNAVAILABLE;case Tv.UNAUTHENTICATED:return yp.UNAUTHENTICATED;case Tv.INVALID_ARGUMENT:return yp.INVALID_ARGUMENT;case Tv.NOT_FOUND:return yp.NOT_FOUND;case Tv.ALREADY_EXISTS:return yp.ALREADY_EXISTS;case Tv.PERMISSION_DENIED:return yp.PERMISSION_DENIED;case Tv.FAILED_PRECONDITION:return yp.FAILED_PRECONDITION;case Tv.ABORTED:return yp.ABORTED;case Tv.OUT_OF_RANGE:return yp.OUT_OF_RANGE;case Tv.UNIMPLEMENTED:return yp.UNIMPLEMENTED;case Tv.DATA_LOSS:return yp.DATA_LOSS;default:return pp()}}(kv=Tv||(Tv={}))[kv.OK=0]="OK",kv[kv.CANCELLED=1]="CANCELLED",kv[kv.UNKNOWN=2]="UNKNOWN",kv[kv.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",kv[kv.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",kv[kv.NOT_FOUND=5]="NOT_FOUND",kv[kv.ALREADY_EXISTS=6]="ALREADY_EXISTS",kv[kv.PERMISSION_DENIED=7]="PERMISSION_DENIED",kv[kv.UNAUTHENTICATED=16]="UNAUTHENTICATED",kv[kv.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",kv[kv.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",kv[kv.ABORTED=10]="ABORTED",kv[kv.OUT_OF_RANGE=11]="OUT_OF_RANGE",kv[kv.UNIMPLEMENTED=12]="UNIMPLEMENTED",kv[kv.INTERNAL=13]="INTERNAL",kv[kv.UNAVAILABLE=14]="UNAVAILABLE",kv[kv.DATA_LOSS=15]="DATA_LOSS";let Nv=null;function Av(){return new TextEncoder}const Ov=new ip([4294967295,4294967295],0);function Pv(e){const t=Av().encode(e),n=new rp;return n.update(t),new Uint8Array(n.digest())}function Dv(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),s=t.getUint32(12,!0);return[new ip([n,r],0),new ip([i,s],0)]}class Rv{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new Mv("Invalid padding: ".concat(t));if(n<0)throw new Mv("Invalid hash count: ".concat(n));if(e.length>0&&0===this.hashCount)throw new Mv("Invalid hash count: ".concat(n));if(0===e.length&&0!==t)throw new Mv("Invalid padding when bitmap length is 0: ".concat(t));this.Te=8*e.length-t,this.Ee=ip.fromNumber(this.Te)}de(e,t,n){let r=e.add(t.multiply(ip.fromNumber(n)));return 1===r.compare(Ov)&&(r=new ip([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Ee).toNumber()}Ae(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Te)return!1;const t=Pv(e),[n,r]=Dv(t);for(let i=0;i<this.hashCount;i++){const e=this.de(n,r,i);if(!this.Ae(e))return!1}return!0}static create(e,t,n){const r=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),s=new Rv(i,r,t);return n.forEach((e=>s.insert(e))),s}insert(e){if(0===this.Te)return;const t=Pv(e),[n,r]=Dv(t);for(let i=0;i<this.hashCount;i++){const e=this.de(n,r,i);this.Re(e)}}Re(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class Mv extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Lv{constructor(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const r=new Map;return r.set(e,jv.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new Lv(Rp.min(),r,new Hm(Ap),Oy(),Vy())}}class jv{constructor(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new jv(n,t,Vy(),Vy(),Vy())}}class Fv{constructor(e,t,n,r){this.Ve=e,this.removedTargetIds=t,this.key=n,this.me=r}}class Uv{constructor(e,t){this.targetId=e,this.fe=t}}class Vv{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:eg.EMPTY_BYTE_STRING,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class zv{constructor(){this.ge=0,this.pe=Wv(),this.ye=eg.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return 0!==this.ge}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=Vy(),t=Vy(),n=Vy();return this.pe.forEach(((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:pp()}})),new jv(this.ye,this.we,e,t,n)}Fe(){this.Se=!1,this.pe=Wv()}Me(e,t){this.Se=!0,this.pe=this.pe.insert(e,t)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1,mp(this.ge>=0)}Be(){this.Se=!0,this.we=!0}}class Bv{constructor(e){this.Le=e,this.ke=new Map,this.qe=Oy(),this.Qe=qv(),this.Ke=new Hm(Ap)}$e(e){for(const t of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(t,e.me):this.We(t,e.key,e.me);for(const t of e.removedTargetIds)this.We(t,e.key,e.me)}Ge(e){this.forEachTarget(e,(t=>{const n=this.ze(t);switch(e.state){case 0:this.je(t)&&n.Ce(e.resumeToken);break;case 1:n.Ne(),n.be||n.Fe(),n.Ce(e.resumeToken);break;case 2:n.Ne(),n.be||this.removeTarget(t);break;case 3:this.je(t)&&(n.Be(),n.Ce(e.resumeToken));break;case 4:this.je(t)&&(this.He(t),n.Ce(e.resumeToken));break;default:pp()}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ke.forEach(((e,n)=>{this.je(n)&&t(n)}))}Je(e){const t=e.targetId,n=e.fe.count,r=this.Ye(t);if(r){const i=r.target;if(ly(i))if(0===n){const e=new Up(i.path);this.We(t,e,Dg.newNoDocument(e,Rp.min()))}else mp(1===n);else{const r=this.Ze(t);if(r!==n){const n=this.Xe(e),i=n?this.et(n,e,r):1;if(0!==i){this.He(t);const e=2===i?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(t,e)}null==Nv||Nv.tt(function(e,t,n,r,i){var s,o,a,l,c,u;const d={localCacheCount:e,existenceFilterCount:t.count,databaseId:n.database,projectId:n.projectId},h=t.unchangedNames;return h&&(d.bloomFilter={applied:0===i,hashCount:null!==(s=null==h?void 0:h.hashCount)&&void 0!==s?s:0,bitmapLength:null!==(l=null===(a=null===(o=null==h?void 0:h.bits)||void 0===o?void 0:o.bitmap)||void 0===a?void 0:a.length)&&void 0!==l?l:0,padding:null!==(u=null===(c=null==h?void 0:h.bits)||void 0===c?void 0:c.padding)&&void 0!==u?u:0,mightContain:e=>{var t;return null!==(t=null==r?void 0:r.mightContain(e))&&void 0!==t&&t}}),d}(r,e.fe,this.Le.nt(),n,i))}}}}Xe(e){const t=e.fe.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:r=0},hashCount:i=0}=t;let s,o;try{s=ig(n).toUint8Array()}catch(e){if(e instanceof Zm)return hp("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw e}try{o=new Rv(s,r,i)}catch(e){return hp(e instanceof Mv?"BloomFilter error: ":"Applying bloom filter failed: ",e),null}return 0===o.Te?null:o}et(e,t,n){return t.fe.count===n-this.rt(e,t.targetId)?0:2}rt(e,t){const n=this.Le.getRemoteKeysForTarget(t);let r=0;return n.forEach((n=>{const i=this.Le.nt(),s="projects/".concat(i.projectId,"/databases/").concat(i.database,"/documents/").concat(n.path.canonicalString());e.mightContain(s)||(this.We(t,n,null),r++)})),r}it(e){const t=new Map;this.ke.forEach(((n,r)=>{const i=this.Ye(r);if(i){if(n.current&&ly(i.target)){const t=new Up(i.target.path);null!==this.qe.get(t)||this.st(r,t)||this.We(r,t,Dg.newNoDocument(t,e))}n.De&&(t.set(r,n.ve()),n.Fe())}}));let n=Vy();this.Qe.forEach(((e,t)=>{let r=!0;t.forEachWhile((e=>{const t=this.Ye(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(r=!1,!1)})),r&&(n=n.add(e))})),this.qe.forEach(((t,n)=>n.setReadTime(e)));const r=new Lv(e,t,this.Ke,this.qe,n);return this.qe=Oy(),this.Qe=qv(),this.Ke=new Hm(Ap),r}Ue(e,t){if(!this.je(e))return;const n=this.st(e,t.key)?2:0;this.ze(e).Me(t.key,n),this.qe=this.qe.insert(t.key,t),this.Qe=this.Qe.insert(t.key,this.ot(t.key).add(e))}We(e,t,n){if(!this.je(e))return;const r=this.ze(e);this.st(e,t)?r.Me(t,1):r.xe(t),this.Qe=this.Qe.insert(t,this.ot(t).delete(e)),n&&(this.qe=this.qe.insert(t,n))}removeTarget(e){this.ke.delete(e)}Ze(e){const t=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let t=this.ke.get(e);return t||(t=new zv,this.ke.set(e,t)),t}ot(e){let t=this.Qe.get(e);return t||(t=new Qm(Ap),this.Qe=this.Qe.insert(e,t)),t}je(e){const t=null!==this.Ye(e);return t||up("WatchChangeAggregator","Detected inactive target",e),t}Ye(e){const t=this.ke.get(e);return t&&t.be?null:this.Le._t(e)}He(e){this.ke.set(e,new zv),this.Le.getRemoteKeysForTarget(e).forEach((t=>{this.We(e,t,null)}))}st(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}function qv(){return new Hm(Up.comparator)}function Wv(){return new Hm(Up.comparator)}const Gv={asc:"ASCENDING",desc:"DESCENDING"},Hv={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Yv={and:"AND",or:"OR"};class Kv{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Qv(e,t){return e.useProto3Json||dm(t)?t:{value:t}}function Xv(e,t){return e.useProto3Json?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function Jv(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function $v(e,t){return Xv(e,t.toTimestamp())}function Zv(e){return mp(!!e),Rp.fromTimestamp(function(e){const t=ng(e);return new Dp(t.seconds,t.nanos)}(e))}function ew(e,t){return function(e){return new Lp(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function tw(e){const t=Lp.fromString(e);return mp(Ew(t)),t}function nw(e,t){return ew(e.databaseId,t.path)}function rw(e,t){const n=tw(t);if(n.get(1)!==e.databaseId.projectId)throw new vp(yp.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new vp(yp.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Up(aw(n))}function iw(e,t){return ew(e.databaseId,t)}function sw(e){const t=tw(e);return 4===t.length?Lp.emptyPath():aw(t)}function ow(e){return new Lp(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function aw(e){return mp(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function lw(e,t,n){return{name:nw(e,t),fields:n.value.mapValue.fields}}function cw(e,t,n){const r=rw(e,t.name),i=Zv(t.updateTime),s=t.createTime?Zv(t.createTime):Rp.min(),o=new Og({mapValue:{fields:t.fields}}),a=Dg.newFoundDocument(r,i,s,o);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function uw(e,t){let n;if(t instanceof pv)n={update:lw(e,t.key,t.value)};else if(t instanceof wv)n={delete:nw(e,t.key)};else if(t instanceof mv)n={update:lw(e,t.key,t.data),updateMask:Sw(t.fieldMask)};else{if(!(t instanceof bv))return pp();n={verify:nw(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((e=>function(e,t){const n=t.transform;if(n instanceof Xy)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Jy)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Zy)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof tv)return{fieldPath:t.field.canonicalString(),increment:n.Ie};throw pp()}(0,e)))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:$v(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:pp()}(e,t.precondition)),n}function dw(e,t){const n=t.currentDocument?function(e){return void 0!==e.updateTime?ov.updateTime(Zv(e.updateTime)):void 0!==e.exists?ov.exists(e.exists):ov.none()}(t.currentDocument):ov.none(),r=t.updateTransforms?t.updateTransforms.map((t=>function(e,t){let n=null;if("setToServerValue"in t)mp("REQUEST_TIME"===t.setToServerValue),n=new Xy;else if("appendMissingElements"in t){const e=t.appendMissingElements.values||[];n=new Jy(e)}else if("removeAllFromArray"in t){const e=t.removeAllFromArray.values||[];n=new Zy(e)}else"increment"in t?n=new tv(e,t.increment):pp();const r=Fp.fromServerFormat(t.fieldPath);return new iv(r,n)}(e,t))):[];if(t.update){t.update.name;const i=rw(e,t.update.name),s=new Og({mapValue:{fields:t.update.fields}});if(t.updateMask){const e=function(e){const t=e.fieldPaths||[];return new $m(t.map((e=>Fp.fromServerFormat(e))))}(t.updateMask);return new mv(i,s,e,n,r)}return new pv(i,s,n,r)}if(t.delete){const r=rw(e,t.delete);return new wv(r,n)}if(t.verify){const r=rw(e,t.verify);return new bv(r,n)}return pp()}function hw(e,t){return{documents:[iw(e,t.path)]}}function fw(e,t){const n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=iw(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=iw(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(e){if(0!==e.length)return _w(zg.create(e,"and"))}(t.filters);i&&(n.structuredQuery.where=i);const s=function(e){if(0!==e.length)return e.map((e=>function(e){return{field:ww(e.field),direction:gw(e.dir)}}(e)))}(t.orderBy);s&&(n.structuredQuery.orderBy=s);const o=Qv(e,t.limit);return null!==o&&(n.structuredQuery.limit=o),t.startAt&&(n.structuredQuery.startAt=function(e){return{before:e.inclusive,values:e.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function pw(e){let t=sw(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){mp(1===r);const e=n.from[0];e.allDescendants?i=e.collectionId:t=t.child(e.collectionId)}let s=[];n.where&&(s=function(e){const t=mw(e);return t instanceof zg&&Wg(t)?t.getFilters():[t]}(n.where));let o=[];n.orderBy&&(o=function(e){return e.map((e=>function(e){return new jg(bw(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)))}(n.orderBy));let a=null;n.limit&&(a=function(e){let t;return t="object"==typeof e?e.value:e,dm(t)?null:t}(n.limit));let l=null;n.startAt&&(l=function(e){const t=!!e.before,n=e.values||[];return new Rg(n,t)}(n.startAt));let c=null;return n.endAt&&(c=function(e){const t=!e.before,n=e.values||[];return new Rg(n,t)}(n.endAt)),fy(t,i,o,s,a,"F",l,c)}function mw(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=bw(e.unaryFilter.field);return Vg.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=bw(e.unaryFilter.field);return Vg.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=bw(e.unaryFilter.field);return Vg.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=bw(e.unaryFilter.field);return Vg.create(i,"!=",{nullValue:"NULL_VALUE"});default:return pp()}}(e):void 0!==e.fieldFilter?function(e){return Vg.create(bw(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return pp()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return zg.create(e.compositeFilter.filters.map((e=>mw(e))),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return pp()}}(e.compositeFilter.op))}(e):pp()}function gw(e){return Gv[e]}function yw(e){return Hv[e]}function vw(e){return Yv[e]}function ww(e){return{fieldPath:e.canonicalString()}}function bw(e){return Fp.fromServerFormat(e.fieldPath)}function _w(e){return e instanceof Vg?function(e){if("=="===e.op){if(Eg(e.value))return{unaryFilter:{field:ww(e.field),op:"IS_NAN"}};if(Sg(e.value))return{unaryFilter:{field:ww(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Eg(e.value))return{unaryFilter:{field:ww(e.field),op:"IS_NOT_NAN"}};if(Sg(e.value))return{unaryFilter:{field:ww(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ww(e.field),op:yw(e.op),value:e.value}}}(e):e instanceof zg?function(e){const t=e.getFilters().map((e=>_w(e)));return 1===t.length?t[0]:{compositeFilter:{op:vw(e.op),filters:t}}}(e):pp()}function Sw(e){const t=[];return e.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function Ew(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}class xw{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Rp.min(),s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Rp.min(),o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:eg.EMPTY_BYTE_STRING,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=o,this.expectedCount=a}withSequenceNumber(e){return new xw(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new xw(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new xw(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new xw(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class Tw{constructor(e){this.ut=e}}function kw(e,t){const n=t.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:Iw(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())r.document=function(e,t){return{name:nw(e,t.key),fields:t.data.value.mapValue.fields,updateTime:Xv(e,t.version.toTimestamp()),createTime:Xv(e,t.createTime.toTimestamp())}}(e.ut,t);else if(t.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:Cw(t.version)};else{if(!t.isUnknownDocument())return pp();r.unknownDocument={path:n.path.toArray(),version:Cw(t.version)}}return r}function Iw(e){const t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function Cw(e){const t=e.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function Nw(e){const t=new Dp(e.seconds,e.nanoseconds);return Rp.fromTimestamp(t)}function Aw(e,t){const n=(t.baseMutations||[]).map((t=>dw(e.ut,t)));for(let s=0;s<t.mutations.length-1;++s){const e=t.mutations[s];if(s+1<t.mutations.length&&void 0!==t.mutations[s+1].transform){const n=t.mutations[s+1];e.updateTransforms=n.transform.fieldTransforms,t.mutations.splice(s+1,1),++s}}const r=t.mutations.map((t=>dw(e.ut,t))),i=Dp.fromMillis(t.localWriteTimeMs);return new _v(t.batchId,i,n,r)}function Ow(e){const t=Nw(e.readTime),n=void 0!==e.lastLimboFreeSnapshotVersion?Nw(e.lastLimboFreeSnapshotVersion):Rp.min();let r;return r=function(e){return void 0!==e.documents}(e.query)?function(e){return mp(1===e.documents.length),vy(py(sw(e.documents[0])))}(e.query):function(e){return vy(pw(e))}(e.query),new xw(r,e.targetId,"TargetPurposeListen",e.lastListenSequenceNumber,t,n,eg.fromBase64String(e.resumeToken))}function Pw(e,t){const n=Cw(t.snapshotVersion),r=Cw(t.lastLimboFreeSnapshotVersion);let i;i=ly(t.target)?hw(e.ut,t.target):fw(e.ut,t.target);const s=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:oy(t.target),readTime:n,resumeToken:s,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function Dw(e){const t=pw({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?_y(t,t.limit,"L"):t}function Rw(e,t){return new Ev(t.largestBatchId,dw(e.ut,t.overlayMutation))}function Mw(e,t){const n=t.path.lastSegment();return[e,pm(t.path.popLast()),n]}function Lw(e,t,n,r){return{indexId:e,uid:t.uid||"",sequenceNumber:n,readTime:Cw(r.readTime),documentKey:pm(r.documentKey.path),largestBatchId:r.largestBatchId}}class jw{getBundleMetadata(e,t){return Fw(e).get(t).next((e=>{if(e)return function(e){return{id:e.bundleId,createTime:Nw(e.createTime),version:e.version}}(e)}))}saveBundleMetadata(e,t){return Fw(e).put(function(e){return{bundleId:e.id,createTime:Cw(Zv(e.createTime)),version:e.version}}(t))}getNamedQuery(e,t){return Uw(e).get(t).next((e=>{if(e)return function(e){return{name:e.name,query:Dw(e.bundledQuery),readTime:Nw(e.readTime)}}(e)}))}saveNamedQuery(e,t){return Uw(e).put(function(e){return{name:e.name,readTime:Cw(Zv(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}function Fw(e){return Bm(e,"bundles")}function Uw(e){return Bm(e,"namedQueries")}class Vw{constructor(e,t){this.serializer=e,this.userId=t}static ct(e,t){const n=t.uid||"";return new Vw(e,n)}getOverlay(e,t){return zw(e).get(Mw(this.userId,t)).next((e=>e?Rw(this.serializer,e):null))}getOverlays(e,t){const n=My();return $p.forEach(t,(t=>this.getOverlay(e,t).next((e=>{null!==e&&n.set(t,e)})))).next((()=>n))}saveOverlays(e,t,n){const r=[];return n.forEach(((n,i)=>{const s=new Ev(t,i);r.push(this.lt(e,s))})),$p.waitFor(r)}removeOverlaysForBatchId(e,t,n){const r=new Set;t.forEach((e=>r.add(pm(e.getCollectionPath()))));const i=[];return r.forEach((t=>{const r=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,n+1],!1,!0);i.push(zw(e).H("collectionPathOverlayIndex",r))})),$p.waitFor(i)}getOverlaysForCollection(e,t,n){const r=My(),i=pm(t),s=IDBKeyRange.bound([this.userId,i,n],[this.userId,i,Number.POSITIVE_INFINITY],!0);return zw(e).W("collectionPathOverlayIndex",s).next((e=>{for(const t of e){const e=Rw(this.serializer,t);r.set(e.getKey(),e)}return r}))}getOverlaysForCollectionGroup(e,t,n,r){const i=My();let s;const o=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,Number.POSITIVE_INFINITY],!0);return zw(e).Y({index:"collectionGroupOverlayIndex",range:o},((e,t,n)=>{const o=Rw(this.serializer,t);i.size()<r||o.largestBatchId===s?(i.set(o.getKey(),o),s=o.largestBatchId):n.done()})).next((()=>i))}lt(e,t){return zw(e).put(function(e,t,n){const[r,i,s]=Mw(t,n.mutation.key);return{userId:t,collectionPath:i,documentId:s,collectionGroup:n.mutation.key.getCollectionGroup(),largestBatchId:n.largestBatchId,overlayMutation:uw(e.ut,n.mutation)}}(this.serializer,this.userId,t))}}function zw(e){return Bm(e,"documentOverlays")}class Bw{constructor(){}ht(e,t){this.Pt(e,t),t.It()}Pt(e,t){if("nullValue"in e)this.Tt(t,5);else if("booleanValue"in e)this.Tt(t,10),t.Et(e.booleanValue?1:0);else if("integerValue"in e)this.Tt(t,15),t.Et(rg(e.integerValue));else if("doubleValue"in e){const n=rg(e.doubleValue);isNaN(n)?this.Tt(t,13):(this.Tt(t,15),hm(n)?t.Et(0):t.Et(n))}else if("timestampValue"in e){const n=e.timestampValue;this.Tt(t,20),"string"==typeof n?t.dt(n):(t.dt("".concat(n.seconds||"")),t.Et(n.nanos||0))}else if("stringValue"in e)this.At(e.stringValue,t),this.Rt(t);else if("bytesValue"in e)this.Tt(t,30),t.Vt(ig(e.bytesValue)),this.Rt(t);else if("referenceValue"in e)this.ft(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.Tt(t,45),t.Et(n.latitude||0),t.Et(n.longitude||0)}else"mapValue"in e?kg(e)?this.Tt(t,Number.MAX_SAFE_INTEGER):(this.gt(e.mapValue,t),this.Rt(t)):"arrayValue"in e?(this.yt(e.arrayValue,t),this.Rt(t)):pp()}At(e,t){this.Tt(t,25),this.wt(e,t)}wt(e,t){t.dt(e)}gt(e,t){const n=e.fields||{};this.Tt(t,55);for(const r of Object.keys(n))this.At(r,t),this.Pt(n[r],t)}yt(e,t){const n=e.values||[];this.Tt(t,50);for(const r of n)this.Pt(r,t)}ft(e,t){this.Tt(t,37),Up.fromName(e).path.forEach((e=>{this.Tt(t,60),this.wt(e,t)}))}Tt(e,t){e.Et(t)}Rt(e){e.Et(2)}}function qw(e){if(0===e)return 8;let t=0;return e>>4==0&&(t+=4,e<<=4),e>>6==0&&(t+=2,e<<=2),e>>7==0&&(t+=1),t}function Ww(e){const t=64-function(e){let t=0;for(let n=0;n<8;++n){const r=qw(255&e[n]);if(t+=r,8!==r)break}return t}(e);return Math.ceil(t/8)}Bw.St=new Bw;class Gw{constructor(){this.buffer=new Uint8Array(1024),this.position=0}bt(e){const t=e[Symbol.iterator]();let n=t.next();for(;!n.done;)this.Dt(n.value),n=t.next();this.Ct()}vt(e){const t=e[Symbol.iterator]();let n=t.next();for(;!n.done;)this.Ft(n.value),n=t.next();this.Mt()}xt(e){for(const t of e){const e=t.charCodeAt(0);if(e<128)this.Dt(e);else if(e<2048)this.Dt(960|e>>>6),this.Dt(128|63&e);else if(t<"\ud800"||"\udbff"<t)this.Dt(480|e>>>12),this.Dt(128|63&e>>>6),this.Dt(128|63&e);else{const e=t.codePointAt(0);this.Dt(240|e>>>18),this.Dt(128|63&e>>>12),this.Dt(128|63&e>>>6),this.Dt(128|63&e)}}this.Ct()}Ot(e){for(const t of e){const e=t.charCodeAt(0);if(e<128)this.Ft(e);else if(e<2048)this.Ft(960|e>>>6),this.Ft(128|63&e);else if(t<"\ud800"||"\udbff"<t)this.Ft(480|e>>>12),this.Ft(128|63&e>>>6),this.Ft(128|63&e);else{const e=t.codePointAt(0);this.Ft(240|e>>>18),this.Ft(128|63&e>>>12),this.Ft(128|63&e>>>6),this.Ft(128|63&e)}}this.Mt()}Nt(e){const t=this.Bt(e),n=Ww(t);this.Lt(1+n),this.buffer[this.position++]=255&n;for(let r=t.length-n;r<t.length;++r)this.buffer[this.position++]=255&t[r]}kt(e){const t=this.Bt(e),n=Ww(t);this.Lt(1+n),this.buffer[this.position++]=~(255&n);for(let r=t.length-n;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}qt(){this.Qt(255),this.Qt(255)}Kt(){this.$t(255),this.$t(255)}reset(){this.position=0}seed(e){this.Lt(e.length),this.buffer.set(e,this.position),this.position+=e.length}Ut(){return this.buffer.slice(0,this.position)}Bt(e){const t=function(e){const t=new DataView(new ArrayBuffer(8));return t.setFloat64(0,e,!1),new Uint8Array(t.buffer)}(e),n=0!=(128&t[0]);t[0]^=n?255:128;for(let r=1;r<t.length;++r)t[r]^=n?255:0;return t}Dt(e){const t=255&e;0===t?(this.Qt(0),this.Qt(255)):255===t?(this.Qt(255),this.Qt(0)):this.Qt(t)}Ft(e){const t=255&e;0===t?(this.$t(0),this.$t(255)):255===t?(this.$t(255),this.$t(0)):this.$t(e)}Ct(){this.Qt(0),this.Qt(1)}Mt(){this.$t(0),this.$t(1)}Qt(e){this.Lt(1),this.buffer[this.position++]=e}$t(e){this.Lt(1),this.buffer[this.position++]=~e}Lt(e){const t=e+this.position;if(t<=this.buffer.length)return;let n=2*this.buffer.length;n<t&&(n=t);const r=new Uint8Array(n);r.set(this.buffer),this.buffer=r}}class Hw{constructor(e){this.Wt=e}Vt(e){this.Wt.bt(e)}dt(e){this.Wt.xt(e)}Et(e){this.Wt.Nt(e)}It(){this.Wt.qt()}}class Yw{constructor(e){this.Wt=e}Vt(e){this.Wt.vt(e)}dt(e){this.Wt.Ot(e)}Et(e){this.Wt.kt(e)}It(){this.Wt.Kt()}}class Kw{constructor(){this.Wt=new Gw,this.Gt=new Hw(this.Wt),this.zt=new Yw(this.Wt)}seed(e){this.Wt.seed(e)}jt(e){return 0===e?this.Gt:this.zt}Ut(){return this.Wt.Ut()}reset(){this.Wt.reset()}}class Qw{constructor(e,t,n,r){this.indexId=e,this.documentKey=t,this.arrayValue=n,this.directionalValue=r}Ht(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,n=new Uint8Array(t);return n.set(this.directionalValue,0),t!==e?n.set([0],this.directionalValue.length):++n[n.length-1],new Qw(this.indexId,this.documentKey,this.arrayValue,n)}}function Xw(e,t){let n=e.indexId-t.indexId;return 0!==n?n:(n=Jw(e.arrayValue,t.arrayValue),0!==n?n:(n=Jw(e.directionalValue,t.directionalValue),0!==n?n:Up.comparator(e.documentKey,t.documentKey)))}function Jw(e,t){for(let n=0;n<e.length&&n<t.length;++n){const r=e[n]-t[n];if(0!==r)return r}return e.length-t.length}class $w{constructor(e){this.Jt=new Qm(((e,t)=>Fp.comparator(e.field,t.field))),this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Yt=e.orderBy,this.Zt=[];for(const t of e.filters){const e=t;e.isInequality()?this.Jt=this.Jt.add(e):this.Zt.push(e)}}get Xt(){return this.Jt.size>1}en(e){if(mp(e.collectionGroup===this.collectionId),this.Xt)return!1;const t=zp(e);if(void 0!==t&&!this.tn(t))return!1;const n=Bp(e);let r=new Set,i=0,s=0;for(;i<n.length&&this.tn(n[i]);++i)r=r.add(n[i].fieldPath.canonicalString());if(i===n.length)return!0;if(this.Jt.size>0){const e=this.Jt.getIterator().getNext();if(!r.has(e.field.canonicalString())){const t=n[i];if(!this.nn(e,t)||!this.rn(this.Yt[s++],t))return!1}++i}for(;i<n.length;++i){const e=n[i];if(s>=this.Yt.length||!this.rn(this.Yt[s++],e))return!1}return!0}sn(){if(this.Xt)return null;let e=new Qm(Fp.comparator);const t=[];for(const n of this.Zt)if(!n.field.isKeyField())if("array-contains"===n.op||"array-contains-any"===n.op)t.push(new qp(n.field,2));else{if(e.has(n.field))continue;e=e.add(n.field),t.push(new qp(n.field,0))}for(const n of this.Yt)n.field.isKeyField()||e.has(n.field)||(e=e.add(n.field),t.push(new qp(n.field,"asc"===n.dir?0:1)));return new Vp(Vp.UNKNOWN_ID,this.collectionId,t,Wp.empty())}tn(e){for(const t of this.Zt)if(this.nn(t,e))return!0;return!1}nn(e,t){if(void 0===e||!e.field.isEqual(t.fieldPath))return!1;const n="array-contains"===e.op||"array-contains-any"===e.op;return 2===t.kind===n}rn(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function Zw(e){var t,n;if(mp(e instanceof Vg||e instanceof zg),e instanceof Vg){if(e instanceof ty){const r=(null===(n=null===(t=e.value.arrayValue)||void 0===t?void 0:t.values)||void 0===n?void 0:n.map((t=>Vg.create(e.field,"==",t))))||[];return zg.create(r,"or")}return e}const r=e.filters.map((e=>Zw(e)));return zg.create(r,e.op)}function eb(e){if(0===e.getFilters().length)return[];const t=ib(Zw(e));return mp(rb(t)),tb(t)||nb(t)?[t]:t.getFilters()}function tb(e){return e instanceof Vg}function nb(e){return e instanceof zg&&Wg(e)}function rb(e){return tb(e)||nb(e)||function(e){if(e instanceof zg&&qg(e)){for(const t of e.getFilters())if(!tb(t)&&!nb(t))return!1;return!0}return!1}(e)}function ib(e){if(mp(e instanceof Vg||e instanceof zg),e instanceof Vg)return e;if(1===e.filters.length)return ib(e.filters[0]);const t=e.filters.map((e=>ib(e)));let n=zg.create(t,e.op);return n=ab(n),rb(n)?n:(mp(n instanceof zg),mp(Bg(n)),mp(n.filters.length>1),n.filters.reduce(((e,t)=>sb(e,t))))}function sb(e,t){let n;return mp(e instanceof Vg||e instanceof zg),mp(t instanceof Vg||t instanceof zg),n=e instanceof Vg?t instanceof Vg?function(e,t){return zg.create([e,t],"and")}(e,t):ob(e,t):t instanceof Vg?ob(t,e):function(e,t){if(mp(e.filters.length>0&&t.filters.length>0),Bg(e)&&Bg(t))return Kg(e,t.getFilters());const n=qg(e)?e:t,r=qg(e)?t:e,i=n.filters.map((e=>sb(e,r)));return zg.create(i,"or")}(e,t),ab(n)}function ob(e,t){if(Bg(t))return Kg(t,e.getFilters());{const n=t.filters.map((t=>sb(e,t)));return zg.create(n,"or")}}function ab(e){if(mp(e instanceof Vg||e instanceof zg),e instanceof Vg)return e;const t=e.getFilters();if(1===t.length)return ab(t[0]);if(Gg(e))return e;const n=t.map((e=>ab(e))),r=[];return n.forEach((t=>{t instanceof Vg?r.push(t):t instanceof zg&&(t.op===e.op?r.push(...t.filters):r.push(t))})),1===r.length?r[0]:zg.create(r,e.op)}class lb{constructor(){this.on=new cb}addToCollectionParentIndex(e,t){return this.on.add(t),$p.resolve()}getCollectionParents(e,t){return $p.resolve(this.on.getEntries(t))}addFieldIndex(e,t){return $p.resolve()}deleteFieldIndex(e,t){return $p.resolve()}deleteAllFieldIndexes(e){return $p.resolve()}createTargetIndexes(e,t){return $p.resolve()}getDocumentsMatchingTarget(e,t){return $p.resolve(null)}getIndexType(e,t){return $p.resolve(0)}getFieldIndexes(e,t){return $p.resolve([])}getNextCollectionGroupToUpdate(e){return $p.resolve(null)}getMinOffset(e,t){return $p.resolve(Yp.min())}getMinOffsetFromCollectionGroup(e,t){return $p.resolve(Yp.min())}updateCollectionGroup(e,t,n){return $p.resolve()}updateIndexEntries(e,t){return $p.resolve()}}class cb{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new Qm(Lp.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new Qm(Lp.comparator)).toArray()}}const ub=new Uint8Array(0);class db{constructor(e,t){this.user=e,this.databaseId=t,this._n=new cb,this.an=new Ny((e=>oy(e)),((e,t)=>ay(e,t))),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this._n.has(t)){const n=t.lastSegment(),r=t.popLast();e.addOnCommittedListener((()=>{this._n.add(t)}));const i={collectionId:n,parent:pm(r)};return hb(e).put(i)}return $p.resolve()}getCollectionParents(e,t){const n=[],r=IDBKeyRange.bound([t,""],[Pp(t),""],!1,!0);return hb(e).W(r).next((e=>{for(const r of e){if(r.collectionId!==t)break;n.push(ym(r.parent))}return n}))}addFieldIndex(e,t){const n=pb(e),r=function(e){return{indexId:e.indexId,collectionGroup:e.collectionGroup,fields:e.fields.map((e=>[e.fieldPath.canonicalString(),e.kind]))}}(t);delete r.indexId;const i=n.add(r);if(t.indexState){const n=mb(e);return i.next((e=>{n.put(Lw(e,this.user,t.indexState.sequenceNumber,t.indexState.offset))}))}return i.next()}deleteFieldIndex(e,t){const n=pb(e),r=mb(e),i=fb(e);return n.delete(t.indexId).next((()=>r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))).next((()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))))}deleteAllFieldIndexes(e){const t=pb(e),n=fb(e),r=mb(e);return t.H().next((()=>n.H())).next((()=>r.H()))}createTargetIndexes(e,t){return $p.forEach(this.un(t),(t=>this.getIndexType(e,t).next((n=>{if(0===n||1===n){const n=new $w(t).sn();if(null!=n)return this.addFieldIndex(e,n)}}))))}getDocumentsMatchingTarget(e,t){const n=fb(e);let r=!0;const i=new Map;return $p.forEach(this.un(t),(t=>this.cn(e,t).next((e=>{r&&(r=!!e),i.set(t,e)})))).next((()=>{if(r){let e=Vy();const r=[];return $p.forEach(i,((i,s)=>{up("IndexedDbIndexManager","Using index ".concat(function(e){return"id=".concat(e.indexId,"|cg=").concat(e.collectionGroup,"|f=").concat(e.fields.map((e=>"".concat(e.fieldPath,":").concat(e.kind))).join(","))}(i)," to execute ").concat(oy(t)));const o=function(e,t){const n=zp(t);if(void 0===n)return null;for(const r of cy(e,n.fieldPath))switch(r.op){case"array-contains-any":return r.value.arrayValue.values||[];case"array-contains":return[r.value]}return null}(s,i),a=function(e,t){const n=new Map;for(const r of Bp(t))for(const t of cy(e,r.fieldPath))switch(t.op){case"==":case"in":n.set(r.fieldPath.canonicalString(),t.value);break;case"not-in":case"!=":return n.set(r.fieldPath.canonicalString(),t.value),Array.from(n.values())}return null}(s,i),l=function(e,t){const n=[];let r=!0;for(const i of Bp(t)){const t=0===i.kind?uy(e,i.fieldPath,e.startAt):dy(e,i.fieldPath,e.startAt);n.push(t.value),r&&(r=t.inclusive)}return new Rg(n,r)}(s,i),c=function(e,t){const n=[];let r=!0;for(const i of Bp(t)){const t=0===i.kind?dy(e,i.fieldPath,e.endAt):uy(e,i.fieldPath,e.endAt);n.push(t.value),r&&(r=t.inclusive)}return new Rg(n,r)}(s,i),u=this.ln(i,s,l),d=this.ln(i,s,c),h=this.hn(i,s,a),f=this.Pn(i.indexId,o,u,l.inclusive,d,c.inclusive,h);return $p.forEach(f,(i=>n.j(i,t.limit).next((t=>{t.forEach((t=>{const n=Up.fromSegments(t.documentKey);e.has(n)||(e=e.add(n),r.push(n))}))}))))})).next((()=>r))}return $p.resolve(null)}))}un(e){let t=this.an.get(e);return t||(t=0===e.filters.length?[e]:eb(zg.create(e.filters,"and")).map((t=>sy(e.path,e.collectionGroup,e.orderBy,t.getFilters(),e.limit,e.startAt,e.endAt))),this.an.set(e,t),t)}Pn(e,t,n,r,i,s,o){const a=(null!=t?t.length:1)*Math.max(n.length,i.length),l=a/(null!=t?t.length:1),c=[];for(let u=0;u<a;++u){const a=t?this.In(t[u/l]):ub,d=this.Tn(e,a,n[u%l],r),h=this.En(e,a,i[u%l],s),f=o.map((t=>this.Tn(e,a,t,!0)));c.push(...this.createRange(d,h,f))}return c}Tn(e,t,n,r){const i=new Qw(e,Up.empty(),t,n);return r?i:i.Ht()}En(e,t,n,r){const i=new Qw(e,Up.empty(),t,n);return r?i.Ht():i}cn(e,t){const n=new $w(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next((e=>{let t=null;for(const r of e)n.en(r)&&(!t||r.fields.length>t.fields.length)&&(t=r);return t}))}getIndexType(e,t){let n=2;const r=this.un(t);return $p.forEach(r,(t=>this.cn(e,t).next((e=>{e?0!==n&&e.fields.length<function(e){let t=new Qm(Fp.comparator),n=!1;for(const r of e.filters)for(const e of r.getFlattenedFilters())e.field.isKeyField()||("array-contains"===e.op||"array-contains-any"===e.op?n=!0:t=t.add(e.field));for(const r of e.orderBy)r.field.isKeyField()||(t=t.add(r.field));return t.size+(n?1:0)}(t)&&(n=1):n=0})))).next((()=>function(e){return null!==e.limit}(t)&&r.length>1&&2===n?1:n))}dn(e,t){const n=new Kw;for(const r of Bp(e)){const e=t.data.field(r.fieldPath);if(null==e)return null;const i=n.jt(r.kind);Bw.St.ht(e,i)}return n.Ut()}In(e){const t=new Kw;return Bw.St.ht(e,t.jt(0)),t.Ut()}An(e,t){const n=new Kw;return Bw.St.ht(wg(this.databaseId,t),n.jt(function(e){const t=Bp(e);return 0===t.length?0:t[t.length-1].kind}(e))),n.Ut()}hn(e,t,n){if(null===n)return[];let r=[];r.push(new Kw);let i=0;for(const s of Bp(e)){const e=n[i++];for(const n of r)if(this.Rn(t,s.fieldPath)&&_g(e))r=this.Vn(r,s,e);else{const t=n.jt(s.kind);Bw.St.ht(e,t)}}return this.mn(r)}ln(e,t,n){return this.hn(e,t,n.position)}mn(e){const t=[];for(let n=0;n<e.length;++n)t[n]=e[n].Ut();return t}Vn(e,t,n){const r=[...e],i=[];for(const s of n.arrayValue.values||[])for(const e of r){const n=new Kw;n.seed(e.Ut()),Bw.St.ht(s,n.jt(t.kind)),i.push(n)}return i}Rn(e,t){return!!e.filters.find((e=>e instanceof Vg&&e.field.isEqual(t)&&("in"===e.op||"not-in"===e.op)))}getFieldIndexes(e,t){const n=pb(e),r=mb(e);return(t?n.W("collectionGroupIndex",IDBKeyRange.bound(t,t)):n.W()).next((e=>{const t=[];return $p.forEach(e,(e=>r.get([e.indexId,this.uid]).next((n=>{t.push(function(e,t){const n=t?new Wp(t.sequenceNumber,new Yp(Nw(t.readTime),new Up(ym(t.documentKey)),t.largestBatchId)):Wp.empty(),r=e.fields.map((e=>{let[t,n]=e;return new qp(Fp.fromServerFormat(t),n)}));return new Vp(e.indexId,e.collectionGroup,r,n)}(e,n))})))).next((()=>t))}))}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next((e=>0===e.length?null:(e.sort(((e,t)=>{const n=e.indexState.sequenceNumber-t.indexState.sequenceNumber;return 0!==n?n:Ap(e.collectionGroup,t.collectionGroup)})),e[0].collectionGroup)))}updateCollectionGroup(e,t,n){const r=pb(e),i=mb(e);return this.fn(e).next((e=>r.W("collectionGroupIndex",IDBKeyRange.bound(t,t)).next((t=>$p.forEach(t,(t=>i.put(Lw(t.indexId,this.user,e,n))))))))}updateIndexEntries(e,t){const n=new Map;return $p.forEach(t,((t,r)=>{const i=n.get(t.collectionGroup);return(i?$p.resolve(i):this.getFieldIndexes(e,t.collectionGroup)).next((i=>(n.set(t.collectionGroup,i),$p.forEach(i,(n=>this.gn(e,t,n).next((t=>{const i=this.pn(r,n);return t.isEqual(i)?$p.resolve():this.yn(e,r,n,t,i)})))))))}))}wn(e,t,n,r){return fb(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.An(n,t.key),documentKey:t.key.path.toArray()})}Sn(e,t,n,r){return fb(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.An(n,t.key),t.key.path.toArray()])}gn(e,t,n){const r=fb(e);let i=new Qm(Xw);return r.Y({index:"documentKeyIndex",range:IDBKeyRange.only([n.indexId,this.uid,this.An(n,t)])},((e,r)=>{i=i.add(new Qw(n.indexId,t,r.arrayValue,r.directionalValue))})).next((()=>i))}pn(e,t){let n=new Qm(Xw);const r=this.dn(t,e);if(null==r)return n;const i=zp(t);if(null!=i){const s=e.data.field(i.fieldPath);if(_g(s))for(const i of s.arrayValue.values||[])n=n.add(new Qw(t.indexId,e.key,this.In(i),r))}else n=n.add(new Qw(t.indexId,e.key,ub,r));return n}yn(e,t,n,r,i){up("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const s=[];return function(e,t,n,r,i){const s=e.getIterator(),o=t.getIterator();let a=Jm(s),l=Jm(o);for(;a||l;){let e=!1,t=!1;if(a&&l){const r=n(a,l);r<0?t=!0:r>0&&(e=!0)}else null!=a?t=!0:e=!0;e?(r(l),l=Jm(o)):t?(i(a),a=Jm(s)):(a=Jm(s),l=Jm(o))}}(r,i,Xw,(r=>{s.push(this.wn(e,t,n,r))}),(r=>{s.push(this.Sn(e,t,n,r))})),$p.waitFor(s)}fn(e){let t=1;return mb(e).Y({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},((e,n,r)=>{r.done(),t=n.sequenceNumber+1})).next((()=>t))}createRange(e,t,n){n=n.sort(((e,t)=>Xw(e,t))).filter(((e,t,n)=>!t||0!==Xw(e,n[t-1])));const r=[];r.push(e);for(const s of n){const n=Xw(s,e),i=Xw(s,t);if(0===n)r[0]=e.Ht();else if(n>0&&i<0)r.push(s),r.push(s.Ht());else if(i>0)break}r.push(t);const i=[];for(let s=0;s<r.length;s+=2){if(this.bn(r[s],r[s+1]))return[];const e=[r[s].indexId,this.uid,r[s].arrayValue,r[s].directionalValue,ub,[]],t=[r[s+1].indexId,this.uid,r[s+1].arrayValue,r[s+1].directionalValue,ub,[]];i.push(IDBKeyRange.bound(e,t))}return i}bn(e,t){return Xw(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(gb)}getMinOffset(e,t){return $p.mapArray(this.un(t),(t=>this.cn(e,t).next((e=>e||pp())))).next(gb)}}function hb(e){return Bm(e,"collectionParents")}function fb(e){return Bm(e,"indexEntries")}function pb(e){return Bm(e,"indexConfiguration")}function mb(e){return Bm(e,"indexState")}function gb(e){mp(0!==e.length);let t=e[0].indexState.offset,n=t.largestBatchId;for(let r=1;r<e.length;r++){const i=e[r].indexState.offset;Kp(i,t)<0&&(t=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new Yp(t.readTime,t.documentKey,n)}const yb={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class vb{constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}static withCacheSize(e){return new vb(e,vb.DEFAULT_COLLECTION_PERCENTILE,vb.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function wb(e,t,n){const r=e.store("mutations"),i=e.store("documentMutations"),s=[],o=IDBKeyRange.only(n.batchId);let a=0;const l=r.Y({range:o},((e,t,n)=>(a++,n.delete())));s.push(l.next((()=>{mp(1===a)})));const c=[];for(const u of n.mutations){const e=bm(t,u.key.path,n.batchId);s.push(i.delete(e)),c.push(u.key)}return $p.waitFor(s).next((()=>c))}function bb(e){if(!e)return 0;let t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw pp();t=e.noDocument}return JSON.stringify(t).length}vb.DEFAULT_COLLECTION_PERCENTILE=10,vb.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,vb.DEFAULT=new vb(41943040,vb.DEFAULT_COLLECTION_PERCENTILE,vb.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),vb.DISABLED=new vb(-1,0,0);class _b{constructor(e,t,n,r){this.userId=e,this.serializer=t,this.indexManager=n,this.referenceDelegate=r,this.Dn={}}static ct(e,t,n,r){mp(""!==e.uid);const i=e.isAuthenticated()?e.uid:"";return new _b(i,t,n,r)}checkEmpty(e){let t=!0;const n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Eb(e).Y({index:"userMutationsIndex",range:n},((e,n,r)=>{t=!1,r.done()})).next((()=>t))}addMutationBatch(e,t,n,r){const i=xb(e),s=Eb(e);return s.add({}).next((o=>{mp("number"==typeof o);const a=new _v(o,t,n,r),l=function(e,t,n){const r=n.baseMutations.map((t=>uw(e.ut,t))),i=n.mutations.map((t=>uw(e.ut,t)));return{userId:t,batchId:n.batchId,localWriteTimeMs:n.localWriteTime.toMillis(),baseMutations:r,mutations:i}}(this.serializer,this.userId,a),c=[];let u=new Qm(((e,t)=>Ap(e.canonicalString(),t.canonicalString())));for(const e of r){const t=bm(this.userId,e.key.path,o);u=u.add(e.key.path.popLast()),c.push(s.put(l)),c.push(i.put(t,_m))}return u.forEach((t=>{c.push(this.indexManager.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((()=>{this.Dn[o]=a.keys()})),$p.waitFor(c).next((()=>a))}))}lookupMutationBatch(e,t){return Eb(e).get(t).next((e=>e?(mp(e.userId===this.userId),Aw(this.serializer,e)):null))}Cn(e,t){return this.Dn[t]?$p.resolve(this.Dn[t]):this.lookupMutationBatch(e,t).next((e=>{if(e){const n=e.keys();return this.Dn[t]=n,n}return null}))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=IDBKeyRange.lowerBound([this.userId,n]);let i=null;return Eb(e).Y({index:"userMutationsIndex",range:r},((e,t,r)=>{t.userId===this.userId&&(mp(t.batchId>=n),i=Aw(this.serializer,t)),r.done()})).next((()=>i))}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let n=-1;return Eb(e).Y({index:"userMutationsIndex",range:t,reverse:!0},((e,t,r)=>{n=t.batchId,r.done()})).next((()=>n))}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Eb(e).W("userMutationsIndex",t).next((e=>e.map((e=>Aw(this.serializer,e)))))}getAllMutationBatchesAffectingDocumentKey(e,t){const n=wm(this.userId,t.path),r=IDBKeyRange.lowerBound(n),i=[];return xb(e).Y({range:r},((n,r,s)=>{const[o,a,l]=n,c=ym(a);if(o===this.userId&&t.path.isEqual(c))return Eb(e).get(l).next((e=>{if(!e)throw pp();mp(e.userId===this.userId),i.push(Aw(this.serializer,e))}));s.done()})).next((()=>i))}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new Qm(Ap);const r=[];return t.forEach((t=>{const i=wm(this.userId,t.path),s=IDBKeyRange.lowerBound(i),o=xb(e).Y({range:s},((e,r,i)=>{const[s,o,a]=e,l=ym(o);s===this.userId&&t.path.isEqual(l)?n=n.add(a):i.done()}));r.push(o)})),$p.waitFor(r).next((()=>this.vn(e,n)))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1,i=wm(this.userId,n),s=IDBKeyRange.lowerBound(i);let o=new Qm(Ap);return xb(e).Y({range:s},((e,t,i)=>{const[s,a,l]=e,c=ym(a);s===this.userId&&n.isPrefixOf(c)?c.length===r&&(o=o.add(l)):i.done()})).next((()=>this.vn(e,o)))}vn(e,t){const n=[],r=[];return t.forEach((t=>{r.push(Eb(e).get(t).next((e=>{if(null===e)throw pp();mp(e.userId===this.userId),n.push(Aw(this.serializer,e))})))})),$p.waitFor(r).next((()=>n))}removeMutationBatch(e,t){return wb(e.ae,this.userId,t).next((n=>(e.addOnCommittedListener((()=>{this.Fn(t.batchId)})),$p.forEach(n,(t=>this.referenceDelegate.markPotentiallyOrphaned(e,t))))))}Fn(e){delete this.Dn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next((t=>{if(!t)return $p.resolve();const n=IDBKeyRange.lowerBound(function(e){return[e]}(this.userId)),r=[];return xb(e).Y({range:n},((e,t,n)=>{if(e[0]===this.userId){const t=ym(e[1]);r.push(t)}else n.done()})).next((()=>{mp(0===r.length)}))}))}containsKey(e,t){return Sb(e,this.userId,t)}Mn(e){return Tb(e).get(this.userId).next((e=>e||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""}))}}function Sb(e,t,n){const r=wm(t,n.path),i=r[1],s=IDBKeyRange.lowerBound(r);let o=!1;return xb(e).Y({range:s,J:!0},((e,n,r)=>{const[s,a,l]=e;s===t&&a===i&&(o=!0),r.done()})).next((()=>o))}function Eb(e){return Bm(e,"mutations")}function xb(e){return Bm(e,"documentMutations")}function Tb(e){return Bm(e,"mutationQueues")}class kb{constructor(e){this.xn=e}next(){return this.xn+=2,this.xn}static On(){return new kb(0)}static Nn(){return new kb(-1)}}class Ib{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.Bn(e).next((t=>{const n=new kb(t.highestTargetId);return t.highestTargetId=n.next(),this.Ln(e,t).next((()=>t.highestTargetId))}))}getLastRemoteSnapshotVersion(e){return this.Bn(e).next((e=>Rp.fromTimestamp(new Dp(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))))}getHighestSequenceNumber(e){return this.Bn(e).next((e=>e.highestListenSequenceNumber))}setTargetsMetadata(e,t,n){return this.Bn(e).next((r=>(r.highestListenSequenceNumber=t,n&&(r.lastRemoteSnapshotVersion=n.toTimestamp()),t>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=t),this.Ln(e,r))))}addTargetData(e,t){return this.kn(e,t).next((()=>this.Bn(e).next((n=>(n.targetCount+=1,this.qn(t,n),this.Ln(e,n))))))}updateTargetData(e,t){return this.kn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next((()=>Cb(e).delete(t.targetId))).next((()=>this.Bn(e))).next((t=>(mp(t.targetCount>0),t.targetCount-=1,this.Ln(e,t))))}removeTargets(e,t,n){let r=0;const i=[];return Cb(e).Y(((s,o)=>{const a=Ow(o);a.sequenceNumber<=t&&null===n.get(a.targetId)&&(r++,i.push(this.removeTargetData(e,a)))})).next((()=>$p.waitFor(i))).next((()=>r))}forEachTarget(e,t){return Cb(e).Y(((e,n)=>{const r=Ow(n);t(r)}))}Bn(e){return Nb(e).get("targetGlobalKey").next((e=>(mp(null!==e),e)))}Ln(e,t){return Nb(e).put("targetGlobalKey",t)}kn(e,t){return Cb(e).put(Pw(this.serializer,t))}qn(e,t){let n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}getTargetCount(e){return this.Bn(e).next((e=>e.targetCount))}getTargetData(e,t){const n=oy(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]);let i=null;return Cb(e).Y({range:r,index:"queryTargetsIndex"},((e,n,r)=>{const s=Ow(n);ay(t,s.target)&&(i=s,r.done())})).next((()=>i))}addMatchingKeys(e,t,n){const r=[],i=Ab(e);return t.forEach((t=>{const s=pm(t.path);r.push(i.put({targetId:n,path:s})),r.push(this.referenceDelegate.addReference(e,n,t))})),$p.waitFor(r)}removeMatchingKeys(e,t,n){const r=Ab(e);return $p.forEach(t,(t=>{const i=pm(t.path);return $p.waitFor([r.delete([n,i]),this.referenceDelegate.removeReference(e,n,t)])}))}removeMatchingKeysForTargetId(e,t){const n=Ab(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}getMatchingKeysForTargetId(e,t){const n=IDBKeyRange.bound([t],[t+1],!1,!0),r=Ab(e);let i=Vy();return r.Y({range:n,J:!0},((e,t,n)=>{const r=ym(e[1]),s=new Up(r);i=i.add(s)})).next((()=>i))}containsKey(e,t){const n=pm(t.path),r=IDBKeyRange.bound([n],[Pp(n)],!1,!0);let i=0;return Ab(e).Y({index:"documentTargetsIndex",J:!0,range:r},((e,t,n)=>{let[r,s]=e;0!==r&&(i++,n.done())})).next((()=>i>0))}_t(e,t){return Cb(e).get(t).next((e=>e?Ow(e):null))}}function Cb(e){return Bm(e,"targets")}function Nb(e){return Bm(e,"targetGlobal")}function Ab(e){return Bm(e,"targetDocuments")}function Ob(e,t){let[n,r]=e,[i,s]=t;const o=Ap(n,i);return 0===o?Ap(r,s):o}class Pb{constructor(e){this.Qn=e,this.buffer=new Qm(Ob),this.Kn=0}$n(){return++this.Kn}Un(e){const t=[e,this.$n()];if(this.buffer.size<this.Qn)this.buffer=this.buffer.add(t);else{const e=this.buffer.last();Ob(t,e)<0&&(this.buffer=this.buffer.delete(e).add(t))}}get maxValue(){return this.buffer.last()[0]}}class Db{constructor(e,t,n){this.garbageCollector=e,this.asyncQueue=t,this.localStore=n,this.Wn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Gn(6e4)}stop(){this.Wn&&(this.Wn.cancel(),this.Wn=null)}get started(){return null!==this.Wn}Gn(e){up("LruGarbageCollector","Garbage collection scheduled in ".concat(e,"ms")),this.Wn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Wn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){rm(e)?up("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e):await Jp(e)}await this.Gn(3e5)}))}}class Rb{constructor(e,t){this.zn=e,this.params=t}calculateTargetCount(e,t){return this.zn.jn(e).next((e=>Math.floor(t/100*e)))}nthSequenceNumber(e,t){if(0===t)return $p.resolve(um._e);const n=new Pb(t);return this.zn.forEachTarget(e,(e=>n.Un(e.sequenceNumber))).next((()=>this.zn.Hn(e,(e=>n.Un(e))))).next((()=>n.maxValue))}removeTargets(e,t,n){return this.zn.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.zn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(up("LruGarbageCollector","Garbage collection skipped; disabled"),$p.resolve(yb)):this.getCacheSize(e).next((n=>n<this.params.cacheSizeCollectionThreshold?(up("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(n," is lower than threshold ").concat(this.params.cacheSizeCollectionThreshold)),yb):this.Jn(e,t)))}getCacheSize(e){return this.zn.getCacheSize(e)}Jn(e,t){let n,r,i,s,o,a,l;const c=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((t=>(t>this.params.maximumSequenceNumbersToCollect?(up("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(this.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=this.params.maximumSequenceNumbersToCollect):r=t,s=Date.now(),this.nthSequenceNumber(e,r)))).next((r=>(n=r,o=Date.now(),this.removeTargets(e,n,t)))).next((t=>(i=t,a=Date.now(),this.removeOrphanedDocuments(e,n)))).next((e=>(l=Date.now(),cp()<=Tr.DEBUG&&up("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(s-c,"ms\n\tDetermined least recently used ").concat(r," in ")+(o-s)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(a-o)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(l-a)+"ms\n"+"Total Duration: ".concat(l-c,"ms")),$p.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e}))))}}function Mb(e,t){return new Rb(e,t)}class Lb{constructor(e,t){this.db=e,this.garbageCollector=Mb(this,t)}jn(e){const t=this.Yn(e);return this.db.getTargetCache().getTargetCount(e).next((e=>t.next((t=>e+t))))}Yn(e){let t=0;return this.Hn(e,(e=>{t++})).next((()=>t))}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Hn(e,t){return this.Zn(e,((e,n)=>t(n)))}addReference(e,t,n){return jb(e,n)}removeReference(e,t,n){return jb(e,n)}removeTargets(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}markPotentiallyOrphaned(e,t){return jb(e,t)}Xn(e,t){return function(e,t){let n=!1;return Tb(e).Z((r=>Sb(e,r,t).next((e=>(e&&(n=!0),$p.resolve(!e)))))).next((()=>n))}(e,t)}removeOrphanedDocuments(e,t){const n=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let i=0;return this.Zn(e,((s,o)=>{if(o<=t){const t=this.Xn(e,s).next((t=>{if(!t)return i++,n.getEntry(e,s).next((()=>(n.removeEntry(s,Rp.min()),Ab(e).delete(function(e){return[0,pm(e.path)]}(s)))))}));r.push(t)}})).next((()=>$p.waitFor(r))).next((()=>n.apply(e))).next((()=>i))}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}updateLimboDocument(e,t){return jb(e,t)}Zn(e,t){const n=Ab(e);let r,i=um._e;return n.Y({index:"documentTargetsIndex"},((e,n)=>{let[s,o]=e,{path:a,sequenceNumber:l}=n;0===s?(i!==um._e&&t(new Up(ym(r)),i),i=l,r=a):i=um._e})).next((()=>{i!==um._e&&t(new Up(ym(r)),i)}))}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function jb(e,t){return Ab(e).put(function(e,t){return{targetId:0,path:pm(e.path),sequenceNumber:t}}(t,e.currentSequenceNumber))}class Fb{constructor(){this.changes=new Ny((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Dg.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?$p.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Ub{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,n){return qb(e).put(n)}removeEntry(e,t,n){return qb(e).delete(function(e,t){const n=e.path.toArray();return[n.slice(0,n.length-2),n[n.length-2],Iw(t),n[n.length-1]]}(t,n))}updateMetadata(e,t){return this.getMetadata(e).next((n=>(n.byteSize+=t,this.er(e,n))))}getEntry(e,t){let n=Dg.newInvalidDocument(t);return qb(e).Y({index:"documentKeyIndex",range:IDBKeyRange.only(Wb(t))},((e,r)=>{n=this.tr(t,r)})).next((()=>n))}nr(e,t){let n={size:0,document:Dg.newInvalidDocument(t)};return qb(e).Y({index:"documentKeyIndex",range:IDBKeyRange.only(Wb(t))},((e,r)=>{n={document:this.tr(t,r),size:bb(r)}})).next((()=>n))}getEntries(e,t){let n=Oy();return this.rr(e,t,((e,t)=>{const r=this.tr(e,t);n=n.insert(e,r)})).next((()=>n))}ir(e,t){let n=Oy(),r=new Hm(Up.comparator);return this.rr(e,t,((e,t)=>{const i=this.tr(e,t);n=n.insert(e,i),r=r.insert(e,bb(t))})).next((()=>({documents:n,sr:r})))}rr(e,t,n){if(t.isEmpty())return $p.resolve();let r=new Qm(Hb);t.forEach((e=>r=r.add(e)));const i=IDBKeyRange.bound(Wb(r.first()),Wb(r.last())),s=r.getIterator();let o=s.getNext();return qb(e).Y({index:"documentKeyIndex",range:i},((e,t,r)=>{const i=Up.fromSegments([...t.prefixPath,t.collectionGroup,t.documentId]);for(;o&&Hb(o,i)<0;)n(o,null),o=s.getNext();o&&o.isEqual(i)&&(n(o,t),o=s.hasNext()?s.getNext():null),o?r.U(Wb(o)):r.done()})).next((()=>{for(;o;)n(o,null),o=s.hasNext()?s.getNext():null}))}getDocumentsMatchingQuery(e,t,n,r,i){const s=t.path,o=[s.popLast().toArray(),s.lastSegment(),Iw(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],a=[s.popLast().toArray(),s.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return qb(e).W(IDBKeyRange.bound(o,a,!0)).next((e=>{null==i||i.incrementDocumentReadCount(e.length);let n=Oy();for(const i of e){const e=this.tr(Up.fromSegments(i.prefixPath.concat(i.collectionGroup,i.documentId)),i);e.isFoundDocument()&&(Ty(t,e)||r.has(e.key))&&(n=n.insert(e.key,e))}return n}))}getAllFromCollectionGroup(e,t,n,r){let i=Oy();const s=Gb(t,n),o=Gb(t,Yp.max());return qb(e).Y({index:"collectionGroupIndex",range:IDBKeyRange.bound(s,o,!0)},((e,t,n)=>{const s=this.tr(Up.fromSegments(t.prefixPath.concat(t.collectionGroup,t.documentId)),t);i=i.insert(s.key,s),i.size===r&&n.done()})).next((()=>i))}newChangeBuffer(e){return new zb(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next((e=>e.byteSize))}getMetadata(e){return Bb(e).get("remoteDocumentGlobalKey").next((e=>(mp(!!e),e)))}er(e,t){return Bb(e).put("remoteDocumentGlobalKey",t)}tr(e,t){if(t){const e=function(e,t){let n;if(t.document)n=cw(e.ut,t.document,!!t.hasCommittedMutations);else if(t.noDocument){const e=Up.fromSegments(t.noDocument.path),r=Nw(t.noDocument.readTime);n=Dg.newNoDocument(e,r),t.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!t.unknownDocument)return pp();{const e=Up.fromSegments(t.unknownDocument.path),r=Nw(t.unknownDocument.version);n=Dg.newUnknownDocument(e,r)}}return t.readTime&&n.setReadTime(function(e){const t=new Dp(e[0],e[1]);return Rp.fromTimestamp(t)}(t.readTime)),n}(this.serializer,t);if(!e.isNoDocument()||!e.version.isEqual(Rp.min()))return e}return Dg.newInvalidDocument(e)}}function Vb(e){return new Ub(e)}class zb extends Fb{constructor(e,t){super(),this._r=e,this.trackRemovals=t,this.ar=new Ny((e=>e.toString()),((e,t)=>e.isEqual(t)))}applyChanges(e){const t=[];let n=0,r=new Qm(((e,t)=>Ap(e.canonicalString(),t.canonicalString())));return this.changes.forEach(((i,s)=>{const o=this.ar.get(i);if(t.push(this._r.removeEntry(e,i,o.readTime)),s.isValidDocument()){const a=kw(this._r.serializer,s);r=r.add(i.path.popLast());const l=bb(a);n+=l-o.size,t.push(this._r.addEntry(e,i,a))}else if(n-=o.size,this.trackRemovals){const n=kw(this._r.serializer,s.convertToNoDocument(Rp.min()));t.push(this._r.addEntry(e,i,n))}})),r.forEach((n=>{t.push(this._r.indexManager.addToCollectionParentIndex(e,n))})),t.push(this._r.updateMetadata(e,n)),$p.waitFor(t)}getFromCache(e,t){return this._r.nr(e,t).next((e=>(this.ar.set(t,{size:e.size,readTime:e.document.readTime}),e.document)))}getAllFromCache(e,t){return this._r.ir(e,t).next((e=>{let{documents:t,sr:n}=e;return n.forEach(((e,n)=>{this.ar.set(e,{size:n,readTime:t.get(e).readTime})})),t}))}}function Bb(e){return Bm(e,"remoteDocumentGlobal")}function qb(e){return Bm(e,"remoteDocumentsV14")}function Wb(e){const t=e.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function Gb(e,t){const n=t.documentKey.path.toArray();return[e,Iw(t.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function Hb(e,t){const n=e.path.toArray(),r=t.path.toArray();let i=0;for(let s=0;s<n.length-2&&s<r.length-2;++s)if(i=Ap(n[s],r[s]),i)return i;return i=Ap(n.length,r.length),i||(i=Ap(n[n.length-2],r[r.length-2]),i||Ap(n[n.length-1],r[r.length-1]))}class Yb{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class Kb{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next((r=>(n=r,this.remoteDocumentCache.getEntry(e,t)))).next((e=>(null!==n&&dv(n.mutation,e,$m.empty(),Dp.now()),e)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.getLocalViewOfDocuments(e,t,Vy()).next((()=>t))))}getLocalViewOfDocuments(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Vy();const r=My();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,n).next((e=>{let t=Dy();return e.forEach(((e,n)=>{t=t.insert(e,n.overlayedDocument)})),t}))))}getOverlayedDocuments(e,t){const n=My();return this.populateOverlays(e,n,t).next((()=>this.computeViews(e,t,n,Vy())))}populateOverlays(e,t,n){const r=[];return n.forEach((e=>{t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((e=>{e.forEach(((e,n)=>{t.set(e,n)}))}))}computeViews(e,t,n,r){let i=Oy();const s=jy(),o=jy();return t.forEach(((e,t)=>{const o=n.get(t.key);r.has(t.key)&&(void 0===o||o.mutation instanceof mv)?i=i.insert(t.key,t):void 0!==o?(s.set(t.key,o.mutation.getFieldMask()),dv(o.mutation,t,o.mutation.getFieldMask(),Dp.now())):s.set(t.key,$m.empty())})),this.recalculateAndSaveOverlays(e,i).next((e=>(e.forEach(((e,t)=>s.set(e,t))),t.forEach(((e,t)=>{var n;return o.set(e,new Yb(t,null!==(n=s.get(e))&&void 0!==n?n:null))})),o)))}recalculateAndSaveOverlays(e,t){const n=jy();let r=new Hm(((e,t)=>e-t)),i=Vy();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((e=>{for(const i of e)i.keys().forEach((e=>{const s=t.get(e);if(null===s)return;let o=n.get(e)||$m.empty();o=i.applyToLocalView(s,o),n.set(e,o);const a=(r.get(i.batchId)||Vy()).add(e);r=r.insert(i.batchId,a)}))})).next((()=>{const s=[],o=r.getReverseIterator();for(;o.hasNext();){const r=o.getNext(),a=r.key,l=r.value,c=Ly();l.forEach((e=>{if(!i.has(e)){const r=cv(t.get(e),n.get(e));null!==r&&c.set(e,r),i=i.add(e)}})),s.push(this.documentOverlayCache.saveOverlays(e,a,c))}return $p.waitFor(s)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.recalculateAndSaveOverlays(e,t)))}getDocumentsMatchingQuery(e,t,n,r){return function(e){return Up.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):gy(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,r):this.getDocumentsMatchingCollectionQuery(e,t,n,r)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((i=>{const s=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-i.size):$p.resolve(My());let o=-1,a=i;return s.next((t=>$p.forEach(t,((t,n)=>(o<n.largestBatchId&&(o=n.largestBatchId),i.get(t)?$p.resolve():this.remoteDocumentCache.getEntry(e,t).next((e=>{a=a.insert(t,e)}))))).next((()=>this.populateOverlays(e,t,i))).next((()=>this.computeViews(e,a,t,Vy()))).next((e=>({batchId:o,changes:Ry(e)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Up(t)).next((e=>{let t=Dy();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}getDocumentsMatchingCollectionGroupQuery(e,t,n,r){const i=t.collectionGroup;let s=Dy();return this.indexManager.getCollectionParents(e,i).next((o=>$p.forEach(o,(o=>{const a=function(e,t){return new hy(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return this.getDocumentsMatchingCollectionQuery(e,a,n,r).next((e=>{e.forEach(((e,t)=>{s=s.insert(e,t)}))}))})).next((()=>s))))}getDocumentsMatchingCollectionQuery(e,t,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,i,r)))).next((e=>{i.forEach(((t,n)=>{const r=n.getKey();null===e.get(r)&&(e=e.insert(r,Dg.newInvalidDocument(r)))}));let n=Dy();return e.forEach(((e,r)=>{const s=i.get(e);void 0!==s&&dv(s.mutation,r,$m.empty(),Dp.now()),Ty(t,r)&&(n=n.insert(e,r))})),n}))}}class Qb{constructor(e){this.serializer=e,this.ur=new Map,this.cr=new Map}getBundleMetadata(e,t){return $p.resolve(this.ur.get(t))}saveBundleMetadata(e,t){return this.ur.set(t.id,function(e){return{id:e.id,version:e.version,createTime:Zv(e.createTime)}}(t)),$p.resolve()}getNamedQuery(e,t){return $p.resolve(this.cr.get(t))}saveNamedQuery(e,t){return this.cr.set(t.name,function(e){return{name:e.name,query:Dw(e.bundledQuery),readTime:Zv(e.readTime)}}(t)),$p.resolve()}}class Xb{constructor(){this.overlays=new Hm(Up.comparator),this.lr=new Map}getOverlay(e,t){return $p.resolve(this.overlays.get(t))}getOverlays(e,t){const n=My();return $p.forEach(t,(t=>this.getOverlay(e,t).next((e=>{null!==e&&n.set(t,e)})))).next((()=>n))}saveOverlays(e,t,n){return n.forEach(((n,r)=>{this.lt(e,t,r)})),$p.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.lr.get(n);return void 0!==r&&(r.forEach((e=>this.overlays=this.overlays.remove(e))),this.lr.delete(n)),$p.resolve()}getOverlaysForCollection(e,t,n){const r=My(),i=t.length+1,s=new Up(t.child("")),o=this.overlays.getIteratorFrom(s);for(;o.hasNext();){const e=o.getNext().value,s=e.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===i&&e.largestBatchId>n&&r.set(e.getKey(),e)}return $p.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let i=new Hm(((e,t)=>e-t));const s=this.overlays.getIterator();for(;s.hasNext();){const e=s.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=i.get(e.largestBatchId);null===t&&(t=My(),i=i.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const o=My(),a=i.getIterator();for(;a.hasNext()&&(a.getNext().value.forEach(((e,t)=>o.set(e,t))),!(o.size()>=r)););return $p.resolve(o)}lt(e,t,n){const r=this.overlays.get(n.key);if(null!==r){const e=this.lr.get(r.largestBatchId).delete(n.key);this.lr.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new Ev(t,n));let i=this.lr.get(t);void 0===i&&(i=Vy(),this.lr.set(t,i)),this.lr.set(t,i.add(n.key))}}class Jb{constructor(){this.hr=new Qm($b.Pr),this.Ir=new Qm($b.Tr)}isEmpty(){return this.hr.isEmpty()}addReference(e,t){const n=new $b(e,t);this.hr=this.hr.add(n),this.Ir=this.Ir.add(n)}Er(e,t){e.forEach((e=>this.addReference(e,t)))}removeReference(e,t){this.dr(new $b(e,t))}Ar(e,t){e.forEach((e=>this.removeReference(e,t)))}Rr(e){const t=new Up(new Lp([])),n=new $b(t,e),r=new $b(t,e+1),i=[];return this.Ir.forEachInRange([n,r],(e=>{this.dr(e),i.push(e.key)})),i}Vr(){this.hr.forEach((e=>this.dr(e)))}dr(e){this.hr=this.hr.delete(e),this.Ir=this.Ir.delete(e)}mr(e){const t=new Up(new Lp([])),n=new $b(t,e),r=new $b(t,e+1);let i=Vy();return this.Ir.forEachInRange([n,r],(e=>{i=i.add(e.key)})),i}containsKey(e){const t=new $b(e,0),n=this.hr.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class $b{constructor(e,t){this.key=e,this.gr=t}static Pr(e,t){return Up.comparator(e.key,t.key)||Ap(e.gr,t.gr)}static Tr(e,t){return Ap(e.gr,t.gr)||Up.comparator(e.key,t.key)}}class Zb{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.pr=1,this.yr=new Qm($b.Pr)}checkEmpty(e){return $p.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,r){const i=this.pr;this.pr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new _v(i,t,n,r);this.mutationQueue.push(s);for(const o of r)this.yr=this.yr.add(new $b(o.key,i)),this.indexManager.addToCollectionParentIndex(e,o.key.path.popLast());return $p.resolve(s)}lookupMutationBatch(e,t){return $p.resolve(this.wr(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.Sr(n),i=r<0?0:r;return $p.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return $p.resolve(0===this.mutationQueue.length?-1:this.pr-1)}getAllMutationBatches(e){return $p.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new $b(t,0),r=new $b(t,Number.POSITIVE_INFINITY),i=[];return this.yr.forEachInRange([n,r],(e=>{const t=this.wr(e.gr);i.push(t)})),$p.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new Qm(Ap);return t.forEach((e=>{const t=new $b(e,0),r=new $b(e,Number.POSITIVE_INFINITY);this.yr.forEachInRange([t,r],(e=>{n=n.add(e.gr)}))})),$p.resolve(this.br(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let i=n;Up.isDocumentKey(i)||(i=i.child(""));const s=new $b(new Up(i),0);let o=new Qm(Ap);return this.yr.forEachWhile((e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.gr)),!0)}),s),$p.resolve(this.br(o))}br(e){const t=[];return e.forEach((e=>{const n=this.wr(e);null!==n&&t.push(n)})),t}removeMutationBatch(e,t){mp(0===this.Dr(t.batchId,"removed")),this.mutationQueue.shift();let n=this.yr;return $p.forEach(t.mutations,(r=>{const i=new $b(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)})).next((()=>{this.yr=n}))}Fn(e){}containsKey(e,t){const n=new $b(t,0),r=this.yr.firstAfterOrEqual(n);return $p.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,$p.resolve()}Dr(e,t){return this.Sr(e)}Sr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}wr(e){const t=this.Sr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class e_{constructor(e){this.Cr=e,this.docs=new Hm(Up.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),i=r?r.size:0,s=this.Cr(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:s}),this.size+=s-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return $p.resolve(n?n.document.mutableCopy():Dg.newInvalidDocument(t))}getEntries(e,t){let n=Oy();return t.forEach((e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():Dg.newInvalidDocument(e))})),$p.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let i=Oy();const s=t.path,o=new Up(s.child("")),a=this.docs.getIteratorFrom(o);for(;a.hasNext();){const{key:e,value:{document:o}}=a.getNext();if(!s.isPrefixOf(e.path))break;e.path.length>s.length+1||Kp(Hp(o),n)<=0||(r.has(o.key)||Ty(t,o))&&(i=i.insert(o.key,o.mutableCopy()))}return $p.resolve(i)}getAllFromCollectionGroup(e,t,n,r){pp()}vr(e,t){return $p.forEach(this.docs,(e=>t(e)))}newChangeBuffer(e){return new t_(this)}getSize(e){return $p.resolve(this.size)}}class t_ extends Fb{constructor(e){super(),this._r=e}applyChanges(e){const t=[];return this.changes.forEach(((n,r)=>{r.isValidDocument()?t.push(this._r.addEntry(e,r)):this._r.removeEntry(n)})),$p.waitFor(t)}getFromCache(e,t){return this._r.getEntry(e,t)}getAllFromCache(e,t){return this._r.getEntries(e,t)}}class n_{constructor(e){this.persistence=e,this.Fr=new Ny((e=>oy(e)),ay),this.lastRemoteSnapshotVersion=Rp.min(),this.highestTargetId=0,this.Mr=0,this.Or=new Jb,this.targetCount=0,this.Nr=kb.On()}forEachTarget(e,t){return this.Fr.forEach(((e,n)=>t(n))),$p.resolve()}getLastRemoteSnapshotVersion(e){return $p.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return $p.resolve(this.Mr)}allocateTargetId(e){return this.highestTargetId=this.Nr.next(),$p.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Mr&&(this.Mr=t),$p.resolve()}kn(e){this.Fr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Nr=new kb(t),this.highestTargetId=t),e.sequenceNumber>this.Mr&&(this.Mr=e.sequenceNumber)}addTargetData(e,t){return this.kn(t),this.targetCount+=1,$p.resolve()}updateTargetData(e,t){return this.kn(t),$p.resolve()}removeTargetData(e,t){return this.Fr.delete(t.target),this.Or.Rr(t.targetId),this.targetCount-=1,$p.resolve()}removeTargets(e,t,n){let r=0;const i=[];return this.Fr.forEach(((s,o)=>{o.sequenceNumber<=t&&null===n.get(o.targetId)&&(this.Fr.delete(s),i.push(this.removeMatchingKeysForTargetId(e,o.targetId)),r++)})),$p.waitFor(i).next((()=>r))}getTargetCount(e){return $p.resolve(this.targetCount)}getTargetData(e,t){const n=this.Fr.get(t)||null;return $p.resolve(n)}addMatchingKeys(e,t,n){return this.Or.Er(t,n),$p.resolve()}removeMatchingKeys(e,t,n){this.Or.Ar(t,n);const r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((t=>{i.push(r.markPotentiallyOrphaned(e,t))})),$p.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this.Or.Rr(t),$p.resolve()}getMatchingKeysForTargetId(e,t){const n=this.Or.mr(t);return $p.resolve(n)}containsKey(e,t){return $p.resolve(this.Or.containsKey(t))}}class r_{constructor(e,t){this.Br={},this.overlays={},this.Lr=new um(0),this.kr=!1,this.kr=!0,this.referenceDelegate=e(this),this.qr=new n_(this),this.indexManager=new lb,this.remoteDocumentCache=function(e){return new e_(e)}((e=>this.referenceDelegate.Qr(e))),this.serializer=new Tw(t),this.Kr=new Qb(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.kr=!1,Promise.resolve()}get started(){return this.kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Xb,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.Br[e.toKey()];return n||(n=new Zb(t,this.referenceDelegate),this.Br[e.toKey()]=n),n}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Kr}runTransaction(e,t,n){up("MemoryPersistence","Starting transaction:",e);const r=new i_(this.Lr.next());return this.referenceDelegate.$r(),n(r).next((e=>this.referenceDelegate.Ur(r).next((()=>e)))).toPromise().then((e=>(r.raiseOnCommittedEvent(),e)))}Wr(e,t){return $p.or(Object.values(this.Br).map((n=>()=>n.containsKey(e,t))))}}class i_ extends Xp{constructor(e){super(),this.currentSequenceNumber=e}}class s_{constructor(e){this.persistence=e,this.Gr=new Jb,this.zr=null}static jr(e){return new s_(e)}get Hr(){if(this.zr)return this.zr;throw pp()}addReference(e,t,n){return this.Gr.addReference(n,t),this.Hr.delete(n.toString()),$p.resolve()}removeReference(e,t,n){return this.Gr.removeReference(n,t),this.Hr.add(n.toString()),$p.resolve()}markPotentiallyOrphaned(e,t){return this.Hr.add(t.toString()),$p.resolve()}removeTarget(e,t){this.Gr.Rr(t.targetId).forEach((e=>this.Hr.add(e.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next((e=>{e.forEach((e=>this.Hr.add(e.toString())))})).next((()=>n.removeTargetData(e,t)))}$r(){this.zr=new Set}Ur(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return $p.forEach(this.Hr,(n=>{const r=Up.fromPath(n);return this.Jr(e,r).next((e=>{e||t.removeEntry(r,Rp.min())}))})).next((()=>(this.zr=null,t.apply(e))))}updateLimboDocument(e,t){return this.Jr(e,t).next((e=>{e?this.Hr.delete(t.toString()):this.Hr.add(t.toString())}))}Qr(e){return 0}Jr(e,t){return $p.or([()=>$p.resolve(this.Gr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Wr(e,t)])}}class o_{constructor(e){this.serializer=e}N(e,t,n,r){const i=new Zp("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore("owner")}(e),function(e){e.createObjectStore("mutationQueues",{keyPath:"userId"}),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",vm,{unique:!0}),e.createObjectStore("documentMutations")}(e),a_(e),function(e){e.createObjectStore("remoteDocuments")}(e));let s=$p.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore("targetDocuments"),e.deleteObjectStore("targets"),e.deleteObjectStore("targetGlobal")}(e),a_(e)),s=s.next((()=>function(e){const t=e.store("targetGlobal"),n={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Rp.min().toTimestamp(),targetCount:0};return t.put("targetGlobalKey",n)}(i)))),n<4&&r>=4&&(0!==n&&(s=s.next((()=>function(e,t){return t.store("mutations").W().next((n=>{e.deleteObjectStore("mutations"),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",vm,{unique:!0});const r=t.store("mutations"),i=n.map((e=>r.put(e)));return $p.waitFor(i)}))}(e,i)))),s=s.next((()=>{!function(e){e.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)}))),n<5&&r>=5&&(s=s.next((()=>this.Zr(i)))),n<6&&r>=6&&(s=s.next((()=>(function(e){e.createObjectStore("remoteDocumentGlobal")}(e),this.Xr(i))))),n<7&&r>=7&&(s=s.next((()=>this.ei(i)))),n<8&&r>=8&&(s=s.next((()=>this.ti(e,i)))),n<9&&r>=9&&(s=s.next((()=>{!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e)}))),n<10&&r>=10&&(s=s.next((()=>this.ni(i)))),n<11&&r>=11&&(s=s.next((()=>{!function(e){e.createObjectStore("bundles",{keyPath:"bundleId"})}(e),function(e){e.createObjectStore("namedQueries",{keyPath:"name"})}(e)}))),n<12&&r>=12&&(s=s.next((()=>{!function(e){const t=e.createObjectStore("documentOverlays",{keyPath:Dm});t.createIndex("collectionPathOverlayIndex",Rm,{unique:!1}),t.createIndex("collectionGroupOverlayIndex",Mm,{unique:!1})}(e)}))),n<13&&r>=13&&(s=s.next((()=>function(e){const t=e.createObjectStore("remoteDocumentsV14",{keyPath:Sm});t.createIndex("documentKeyIndex",Em),t.createIndex("collectionGroupIndex",xm)}(e))).next((()=>this.ri(e,i))).next((()=>e.deleteObjectStore("remoteDocuments")))),n<14&&r>=14&&(s=s.next((()=>this.ii(e,i)))),n<15&&r>=15&&(s=s.next((()=>function(e){e.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),e.createObjectStore("indexState",{keyPath:Nm}).createIndex("sequenceNumberIndex",Am,{unique:!1}),e.createObjectStore("indexEntries",{keyPath:Om}).createIndex("documentKeyIndex",Pm,{unique:!1})}(e)))),s}Xr(e){let t=0;return e.store("remoteDocuments").Y(((e,n)=>{t+=bb(n)})).next((()=>{const n={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",n)}))}Zr(e){const t=e.store("mutationQueues"),n=e.store("mutations");return t.W().next((t=>$p.forEach(t,(t=>{const r=IDBKeyRange.bound([t.userId,-1],[t.userId,t.lastAcknowledgedBatchId]);return n.W("userMutationsIndex",r).next((n=>$p.forEach(n,(n=>{mp(n.userId===t.userId);const r=Aw(this.serializer,n);return wb(e,t.userId,r).next((()=>{}))}))))}))))}ei(e){const t=e.store("targetDocuments"),n=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next((e=>{const r=[];return n.Y(((n,i)=>{const s=new Lp(n),o=function(e){return[0,pm(e)]}(s);r.push(t.get(o).next((n=>n?$p.resolve():(n=>t.put({targetId:0,path:pm(n),sequenceNumber:e.highestListenSequenceNumber}))(s))))})).next((()=>$p.waitFor(r)))}))}ti(e,t){e.createObjectStore("collectionParents",{keyPath:Cm});const n=t.store("collectionParents"),r=new cb,i=e=>{if(r.add(e)){const t=e.lastSegment(),r=e.popLast();return n.put({collectionId:t,parent:pm(r)})}};return t.store("remoteDocuments").Y({J:!0},((e,t)=>{const n=new Lp(e);return i(n.popLast())})).next((()=>t.store("documentMutations").Y({J:!0},((e,t)=>{let[n,r,s]=e;const o=ym(r);return i(o.popLast())}))))}ni(e){const t=e.store("targets");return t.Y(((e,n)=>{const r=Ow(n),i=Pw(this.serializer,r);return t.put(i)}))}ri(e,t){const n=t.store("remoteDocuments"),r=[];return n.Y(((e,n)=>{const i=t.store("remoteDocumentsV14"),s=function(e){return e.document?new Up(Lp.fromString(e.document.name).popFirst(5)):e.noDocument?Up.fromSegments(e.noDocument.path):e.unknownDocument?Up.fromSegments(e.unknownDocument.path):pp()}(n).path.toArray(),o={prefixPath:s.slice(0,s.length-2),collectionGroup:s[s.length-2],documentId:s[s.length-1],readTime:n.readTime||[0,0],unknownDocument:n.unknownDocument,noDocument:n.noDocument,document:n.document,hasCommittedMutations:!!n.hasCommittedMutations};r.push(i.put(o))})).next((()=>$p.waitFor(r)))}ii(e,t){const n=t.store("mutations"),r=Vb(this.serializer),i=new r_(s_.jr,this.serializer.ut);return n.W().next((e=>{const n=new Map;return e.forEach((e=>{var t;let r=null!==(t=n.get(e.userId))&&void 0!==t?t:Vy();Aw(this.serializer,e).keys().forEach((e=>r=r.add(e))),n.set(e.userId,r)})),$p.forEach(n,((e,n)=>{const s=new op(n),o=Vw.ct(this.serializer,s),a=i.getIndexManager(s),l=_b.ct(s,this.serializer,a,i.referenceDelegate);return new Kb(r,l,o,a).recalculateAndSaveOverlaysForDocumentKeys(new zm(t,um._e),e).next()}))}))}}function a_(e){e.createObjectStore("targetDocuments",{keyPath:km}).createIndex("documentTargetsIndex",Im,{unique:!0}),e.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Tm,{unique:!0}),e.createObjectStore("targetGlobal")}const l_="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class c_{constructor(e,t,n,r,i,s,o,a,l,c){let u=arguments.length>10&&void 0!==arguments[10]?arguments[10]:15;if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=n,this.si=i,this.window=s,this.document=o,this.oi=l,this._i=c,this.ai=u,this.Lr=null,this.kr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ui=null,this.inForeground=!1,this.ci=null,this.li=null,this.hi=Number.NEGATIVE_INFINITY,this.Pi=e=>Promise.resolve(),!c_.D())throw new vp(yp.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Lb(this,r),this.Ii=t+"main",this.serializer=new Tw(a),this.Ti=new em(this.Ii,this.ai,new o_(this.serializer)),this.qr=new Ib(this.referenceDelegate,this.serializer),this.remoteDocumentCache=Vb(this.serializer),this.Kr=new jw,this.window&&this.window.localStorage?this.Ei=this.window.localStorage:(this.Ei=null,!1===c&&dp("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.di().then((()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new vp(yp.FAILED_PRECONDITION,l_);return this.Ai(),this.Ri(),this.Vi(),this.runTransaction("getHighestListenSequenceNumber","readonly",(e=>this.qr.getHighestSequenceNumber(e)))})).then((e=>{this.Lr=new um(e,this.oi)})).then((()=>{this.kr=!0})).catch((e=>(this.Ti&&this.Ti.close(),Promise.reject(e))))}mi(e){return this.Pi=async t=>{if(this.started)return e(t)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ti.L((async t=>{null===t.newVersion&&await e()}))}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.si.enqueueAndForget((async()=>{this.started&&await this.di()})))}di(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(e=>d_(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next((()=>{if(this.isPrimary)return this.fi(e).next((e=>{e||(this.isPrimary=!1,this.si.enqueueRetryable((()=>this.Pi(!1))))}))})).next((()=>this.gi(e))).next((t=>this.isPrimary&&!t?this.pi(e).next((()=>!1)):!!t&&this.yi(e).next((()=>!0)))))).catch((e=>{if(rm(e))return up("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return up("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1})).then((e=>{this.isPrimary!==e&&this.si.enqueueRetryable((()=>this.Pi(e))),this.isPrimary=e}))}fi(e){return u_(e).get("owner").next((e=>$p.resolve(this.wi(e))))}Si(e){return d_(e).delete(this.clientId)}async bi(){if(this.isPrimary&&!this.Di(this.hi,18e5)){this.hi=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(e=>{const t=Bm(e,"clientMetadata");return t.W().next((e=>{const n=this.Ci(e,18e5),r=e.filter((e=>-1===n.indexOf(e)));return $p.forEach(r,(e=>t.delete(e.clientId))).next((()=>r))}))})).catch((()=>[]));if(this.Ei)for(const t of e)this.Ei.removeItem(this.vi(t.clientId))}}Vi(){this.li=this.si.enqueueAfterDelay("client_metadata_refresh",4e3,(()=>this.di().then((()=>this.bi())).then((()=>this.Vi()))))}wi(e){return!!e&&e.ownerId===this.clientId}gi(e){return this._i?$p.resolve(!0):u_(e).get("owner").next((t=>{if(null!==t&&this.Di(t.leaseTimestampMs,5e3)&&!this.Fi(t.ownerId)){if(this.wi(t)&&this.networkEnabled)return!0;if(!this.wi(t)){if(!t.allowTabSynchronization)throw new vp(yp.FAILED_PRECONDITION,l_);return!1}}return!(!this.networkEnabled||!this.inForeground)||d_(e).W().next((e=>void 0===this.Ci(e,5e3).find((e=>{if(this.clientId!==e.clientId){const t=!this.networkEnabled&&e.networkEnabled,n=!this.inForeground&&e.inForeground,r=this.networkEnabled===e.networkEnabled;if(t||n&&r)return!0}return!1}))))})).next((e=>(this.isPrimary!==e&&up("IndexedDbPersistence","Client ".concat(e?"is":"is not"," eligible for a primary lease.")),e)))}async shutdown(){this.kr=!1,this.Mi(),this.li&&(this.li.cancel(),this.li=null),this.xi(),this.Oi(),await this.Ti.runTransaction("shutdown","readwrite",["owner","clientMetadata"],(e=>{const t=new zm(e,um._e);return this.pi(t).next((()=>this.Si(t)))})),this.Ti.close(),this.Ni()}Ci(e,t){return e.filter((e=>this.Di(e.updateTimeMs,t)&&!this.Fi(e.clientId)))}Bi(){return this.runTransaction("getActiveClients","readonly",(e=>d_(e).W().next((e=>this.Ci(e,18e5).map((e=>e.clientId))))))}get started(){return this.kr}getMutationQueue(e,t){return _b.ct(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new db(e,this.serializer.ut.databaseId)}getDocumentOverlayCache(e){return Vw.ct(this.serializer,e)}getBundleCache(){return this.Kr}runTransaction(e,t,n){up("IndexedDbPersistence","Starting transaction:",e);const r="readonly"===t?"readonly":"readwrite",i=function(e){return 15===e?Vm:14===e?Um:13===e?Fm:12===e?jm:11===e?Lm:void pp()}(this.ai);let s;return this.Ti.runTransaction(e,r,i,(r=>(s=new zm(r,this.Lr?this.Lr.next():um._e),"readwrite-primary"===t?this.fi(s).next((e=>!!e||this.gi(s))).next((t=>{if(!t)throw dp("Failed to obtain primary lease for action '".concat(e,"'.")),this.isPrimary=!1,this.si.enqueueRetryable((()=>this.Pi(!1))),new vp(yp.FAILED_PRECONDITION,Qp);return n(s)})).next((e=>this.yi(s).next((()=>e)))):this.Li(s).next((()=>n(s)))))).then((e=>(s.raiseOnCommittedEvent(),e)))}Li(e){return u_(e).get("owner").next((e=>{if(null!==e&&this.Di(e.leaseTimestampMs,5e3)&&!this.Fi(e.ownerId)&&!this.wi(e)&&!(this._i||this.allowTabSynchronization&&e.allowTabSynchronization))throw new vp(yp.FAILED_PRECONDITION,l_)}))}yi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return u_(e).put("owner",t)}static D(){return em.D()}pi(e){const t=u_(e);return t.get("owner").next((e=>this.wi(e)?(up("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):$p.resolve()))}Di(e,t){const n=Date.now();return!(e<n-t)&&(!(e>n)||(dp("Detected an update time that is in the future: ".concat(e," > ").concat(n)),!1))}Ai(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ci=()=>{this.si.enqueueAndForget((()=>(this.inForeground="visible"===this.document.visibilityState,this.di())))},this.document.addEventListener("visibilitychange",this.ci),this.inForeground="visible"===this.document.visibilityState)}xi(){this.ci&&(this.document.removeEventListener("visibilitychange",this.ci),this.ci=null)}Ri(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ui=()=>{this.Mi();const e=/(?:Version|Mobile)\/1[456]/;!nr()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")&&(navigator.appVersion.match(e)||navigator.userAgent.match(e))&&this.si.enterRestrictedMode(!0),this.si.enqueueAndForget((()=>this.shutdown()))},this.window.addEventListener("pagehide",this.ui))}Oi(){this.ui&&(this.window.removeEventListener("pagehide",this.ui),this.ui=null)}Fi(e){var t;try{const n=null!==(null===(t=this.Ei)||void 0===t?void 0:t.getItem(this.vi(e)));return up("IndexedDbPersistence","Client '".concat(e,"' ").concat(n?"is":"is not"," zombied in LocalStorage")),n}catch(e){return dp("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}Mi(){if(this.Ei)try{this.Ei.setItem(this.vi(this.clientId),String(Date.now()))}catch(e){dp("Failed to set zombie client id.",e)}}Ni(){if(this.Ei)try{this.Ei.removeItem(this.vi(this.clientId))}catch(e){}}vi(e){return"firestore_zombie_".concat(this.persistenceKey,"_").concat(e)}}function u_(e){return Bm(e,"owner")}function d_(e){return Bm(e,"clientMetadata")}function h_(e,t){let n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}class f_{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.ki=n,this.qi=r}static Qi(e,t){let n=Vy(),r=Vy();for(const i of t.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new f_(e,t.fromCache,n,r)}}class p_{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class m_{constructor(){this.Ki=!1,this.$i=!1,this.Ui=100,this.Wi=8}initialize(e,t){this.Gi=e,this.indexManager=t,this.Ki=!0}getDocumentsMatchingQuery(e,t,n,r){const i={result:null};return this.zi(e,t).next((e=>{i.result=e})).next((()=>{if(!i.result)return this.ji(e,t,r,n).next((e=>{i.result=e}))})).next((()=>{if(i.result)return;const n=new p_;return this.Hi(e,t,n).next((r=>{if(i.result=r,this.$i)return this.Ji(e,t,n,r.size)}))})).next((()=>i.result))}Ji(e,t,n,r){return n.documentReadCount<this.Ui?(cp()<=Tr.DEBUG&&up("QueryEngine","SDK will not create cache indexes for query:",xy(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Ui,"documents"),$p.resolve()):(cp()<=Tr.DEBUG&&up("QueryEngine","Query:",xy(t),"scans",n.documentReadCount,"local documents and returns",r,"documents as results."),n.documentReadCount>this.Wi*r?(cp()<=Tr.DEBUG&&up("QueryEngine","The SDK decides to create cache indexes for query:",xy(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,vy(t))):$p.resolve())}zi(e,t){if(my(t))return $p.resolve(null);let n=vy(t);return this.indexManager.getIndexType(e,n).next((r=>0===r?null:(null!==t.limit&&1===r&&(t=_y(t,null,"F"),n=vy(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next((r=>{const i=Vy(...r);return this.Gi.getDocuments(e,i).next((r=>this.indexManager.getMinOffset(e,n).next((n=>{const s=this.Yi(t,r);return this.Zi(t,s,i,n.readTime)?this.zi(e,_y(t,null,"F")):this.Xi(e,s,t,n)}))))})))))}ji(e,t,n,r){return my(t)||r.isEqual(Rp.min())?$p.resolve(null):this.Gi.getDocuments(e,n).next((i=>{const s=this.Yi(t,i);return this.Zi(t,s,n,r)?$p.resolve(null):(cp()<=Tr.DEBUG&&up("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),xy(t)),this.Xi(e,s,t,Gp(r,-1)).next((e=>e)))}))}Yi(e,t){let n=new Qm(Iy(e));return t.forEach(((t,r)=>{Ty(e,r)&&(n=n.add(r))})),n}Zi(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}Hi(e,t,n){return cp()<=Tr.DEBUG&&up("QueryEngine","Using full collection scan to execute query:",xy(t)),this.Gi.getDocumentsMatchingQuery(e,t,Yp.min(),n)}Xi(e,t,n,r){return this.Gi.getDocumentsMatchingQuery(e,n,r).next((e=>(t.forEach((t=>{e=e.insert(t.key,t)})),e)))}}class g_{constructor(e,t,n,r){this.persistence=e,this.es=t,this.serializer=r,this.ts=new Hm(Ap),this.ns=new Ny((e=>oy(e)),ay),this.rs=new Map,this.ss=e.getRemoteDocumentCache(),this.qr=e.getTargetCache(),this.Kr=e.getBundleCache(),this.os(n)}os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Kb(this.ss,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ss.setIndexManager(this.indexManager),this.es.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.ts)))}}function y_(e,t,n,r){return new g_(e,t,n,r)}async function v_(e,t){const n=gp(e);return await n.persistence.runTransaction("Handle user change","readonly",(e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next((i=>(r=i,n.os(t),n.mutationQueue.getAllMutationBatches(e)))).next((t=>{const i=[],s=[];let o=Vy();for(const e of r){i.push(e.batchId);for(const t of e.mutations)o=o.add(t.key)}for(const e of t){s.push(e.batchId);for(const t of e.mutations)o=o.add(t.key)}return n.localDocuments.getDocuments(e,o).next((e=>({_s:e,removedBatchIds:i,addedBatchIds:s})))}))}))}function w_(e){const t=gp(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.qr.getLastRemoteSnapshotVersion(e)))}function b_(e,t,n){let r=Vy(),i=Vy();return n.forEach((e=>r=r.add(e))),t.getEntries(e,r).next((e=>{let r=Oy();return n.forEach(((n,s)=>{const o=e.get(n);s.isFoundDocument()!==o.isFoundDocument()&&(i=i.add(n)),s.isNoDocument()&&s.version.isEqual(Rp.min())?(t.removeEntry(n,s.readTime),r=r.insert(n,s)):!o.isValidDocument()||s.version.compareTo(o.version)>0||0===s.version.compareTo(o.version)&&o.hasPendingWrites?(t.addEntry(s),r=r.insert(n,s)):up("LocalStore","Ignoring outdated watch update for ",n,". Current version:",o.version," Watch version:",s.version)})),{us:r,cs:i}}))}function __(e,t){const n=gp(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(e=>(void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t))))}function S_(e,t){const n=gp(e);return n.persistence.runTransaction("Allocate target","readwrite",(e=>{let r;return n.qr.getTargetData(e,t).next((i=>i?(r=i,$p.resolve(r)):n.qr.allocateTargetId(e).next((i=>(r=new xw(t,i,"TargetPurposeListen",e.currentSequenceNumber),n.qr.addTargetData(e,r).next((()=>r)))))))})).then((e=>{const r=n.ts.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.ts=n.ts.insert(e.targetId,e),n.ns.set(t,e.targetId)),e}))}async function E_(e,t,n){const r=gp(e),i=r.ts.get(t),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,(e=>r.persistence.referenceDelegate.removeTarget(e,i)))}catch(e){if(!rm(e))throw e;up("LocalStore","Failed to update sequence numbers for target ".concat(t,": ").concat(e))}r.ts=r.ts.remove(t),r.ns.delete(i.target)}function x_(e,t,n){const r=gp(e);let i=Rp.min(),s=Vy();return r.persistence.runTransaction("Execute query","readwrite",(e=>function(e,t,n){const r=gp(e),i=r.ns.get(n);return void 0!==i?$p.resolve(r.ts.get(i)):r.qr.getTargetData(t,n)}(r,e,vy(t)).next((t=>{if(t)return i=t.lastLimboFreeSnapshotVersion,r.qr.getMatchingKeysForTargetId(e,t.targetId).next((e=>{s=e}))})).next((()=>r.es.getDocumentsMatchingQuery(e,t,n?i:Rp.min(),n?s:Vy()))).next((e=>(I_(r,ky(t),e),{documents:e,ls:s})))))}function T_(e,t){const n=gp(e),r=gp(n.qr),i=n.ts.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(e=>r._t(e,t).next((e=>e?e.target:null))))}function k_(e,t){const n=gp(e),r=n.rs.get(t)||Rp.min();return n.persistence.runTransaction("Get new document changes","readonly",(e=>n.ss.getAllFromCollectionGroup(e,t,Gp(r,-1),Number.MAX_SAFE_INTEGER))).then((e=>(I_(n,t,e),e)))}function I_(e,t,n){let r=e.rs.get(t)||Rp.min();n.forEach(((e,t)=>{t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.rs.set(t,r)}async function C_(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Vy();const r=await S_(e,vy(Dw(t.bundledQuery))),i=gp(e);return i.persistence.runTransaction("Save named query","readwrite",(e=>{const s=Zv(t.readTime);if(r.snapshotVersion.compareTo(s)>=0)return i.Kr.saveNamedQuery(e,t);const o=r.withResumeToken(eg.EMPTY_BYTE_STRING,s);return i.ts=i.ts.insert(o.targetId,o),i.qr.updateTargetData(e,o).next((()=>i.qr.removeMatchingKeysForTargetId(e,r.targetId))).next((()=>i.qr.addMatchingKeys(e,n,r.targetId))).next((()=>i.Kr.saveNamedQuery(e,t)))}))}function N_(e,t){return"firestore_clients_".concat(e,"_").concat(t)}function A_(e,t,n){let r="firestore_mutations_".concat(e,"_").concat(n);return t.isAuthenticated()&&(r+="_".concat(t.uid)),r}function O_(e,t){return"firestore_targets_".concat(e,"_").concat(t)}class P_{constructor(e,t,n,r){this.user=e,this.batchId=t,this.state=n,this.error=r}static Ts(e,t,n){const r=JSON.parse(n);let i,s="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return s&&r.error&&(s="string"==typeof r.error.message&&"string"==typeof r.error.code,s&&(i=new vp(r.error.code,r.error.message))),s?new P_(e,t,r.state,i):(dp("SharedClientState","Failed to parse mutation state for ID '".concat(t,"': ").concat(n)),null)}Es(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class D_{constructor(e,t,n){this.targetId=e,this.state=t,this.error=n}static Ts(e,t){const n=JSON.parse(t);let r,i="object"==typeof n&&-1!==["not-current","current","rejected"].indexOf(n.state)&&(void 0===n.error||"object"==typeof n.error);return i&&n.error&&(i="string"==typeof n.error.message&&"string"==typeof n.error.code,i&&(r=new vp(n.error.code,n.error.message))),i?new D_(e,n.state,r):(dp("SharedClientState","Failed to parse target state for ID '".concat(e,"': ").concat(t)),null)}Es(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class R_{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Ts(e,t){const n=JSON.parse(t);let r="object"==typeof n&&n.activeTargetIds instanceof Array,i=By();for(let s=0;r&&s<n.activeTargetIds.length;++s)r=fm(n.activeTargetIds[s]),i=i.add(n.activeTargetIds[s]);return r?new R_(e,i):(dp("SharedClientState","Failed to parse client data for instance '".concat(e,"': ").concat(t)),null)}}class M_{constructor(e,t){this.clientId=e,this.onlineState=t}static Ts(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new M_(t.clientId,t.onlineState):(dp("SharedClientState","Failed to parse online state: ".concat(e)),null)}}class L_{constructor(){this.activeTargetIds=By()}ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}As(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Es(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class j_{constructor(e,t,n,r,i){this.window=e,this.si=t,this.persistenceKey=n,this.Rs=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Vs=this.fs.bind(this),this.gs=new Hm(Ap),this.started=!1,this.ps=[];const s=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.ys=N_(this.persistenceKey,this.Rs),this.ws=function(e){return"firestore_sequence_number_".concat(e)}(this.persistenceKey),this.gs=this.gs.insert(this.Rs,new L_),this.Ss=new RegExp("^firestore_clients_".concat(s,"_([^_]*)$")),this.bs=new RegExp("^firestore_mutations_".concat(s,"_(\\d+)(?:_(.*))?$")),this.Ds=new RegExp("^firestore_targets_".concat(s,"_(\\d+)$")),this.Cs=function(e){return"firestore_online_state_".concat(e)}(this.persistenceKey),this.vs=function(e){return"firestore_bundle_loaded_v2_".concat(e)}(this.persistenceKey),this.window.addEventListener("storage",this.Vs)}static D(e){return!(!e||!e.localStorage)}async start(){const e=await this.syncEngine.Bi();for(const n of e){if(n===this.Rs)continue;const e=this.getItem(N_(this.persistenceKey,n));if(e){const t=R_.Ts(n,e);t&&(this.gs=this.gs.insert(t.clientId,t))}}this.Fs();const t=this.storage.getItem(this.Cs);if(t){const e=this.Ms(t);e&&this.xs(e)}for(const n of this.ps)this.fs(n);this.ps=[],this.window.addEventListener("pagehide",(()=>this.shutdown())),this.started=!0}writeSequenceNumber(e){this.setItem(this.ws,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Os(this.gs)}isActiveQueryTarget(e){let t=!1;return this.gs.forEach(((n,r)=>{r.activeTargetIds.has(e)&&(t=!0)})),t}addPendingMutation(e){this.Ns(e,"pending")}updateMutationState(e,t,n){this.Ns(e,t,n),this.Bs(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const n=this.storage.getItem(O_(this.persistenceKey,e));if(n){const r=D_.Ts(e,n);r&&(t=r.state)}}return this.Ls.ds(e),this.Fs(),t}removeLocalQueryTarget(e){this.Ls.As(e),this.Fs()}isLocalQueryTarget(e){return this.Ls.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(O_(this.persistenceKey,e))}updateQueryState(e,t,n){this.ks(e,t,n)}handleUserChange(e,t,n){t.forEach((e=>{this.Bs(e)})),this.currentUser=e,n.forEach((e=>{this.addPendingMutation(e)}))}setOnlineState(e){this.qs(e)}notifyBundleLoaded(e){this.Qs(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Vs),this.removeItem(this.ys),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return up("SharedClientState","READ",e,t),t}setItem(e,t){up("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){up("SharedClientState","REMOVE",e),this.storage.removeItem(e)}fs(e){const t=e;if(t.storageArea===this.storage){if(up("SharedClientState","EVENT",t.key,t.newValue),t.key===this.ys)return void dp("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.si.enqueueRetryable((async()=>{if(this.started){if(null!==t.key)if(this.Ss.test(t.key)){if(null==t.newValue){const e=this.Ks(t.key);return this.$s(e,null)}{const e=this.Us(t.key,t.newValue);if(e)return this.$s(e.clientId,e)}}else if(this.bs.test(t.key)){if(null!==t.newValue){const e=this.Ws(t.key,t.newValue);if(e)return this.Gs(e)}}else if(this.Ds.test(t.key)){if(null!==t.newValue){const e=this.zs(t.key,t.newValue);if(e)return this.js(e)}}else if(t.key===this.Cs){if(null!==t.newValue){const e=this.Ms(t.newValue);if(e)return this.xs(e)}}else if(t.key===this.ws){const e=function(e){let t=um._e;if(null!=e)try{const n=JSON.parse(e);mp("number"==typeof n),t=n}catch(e){dp("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(t.newValue);e!==um._e&&this.sequenceNumberHandler(e)}else if(t.key===this.vs){const e=this.Hs(t.newValue);await Promise.all(e.map((e=>this.syncEngine.Js(e))))}}else this.ps.push(t)}))}}get Ls(){return this.gs.get(this.Rs)}Fs(){this.setItem(this.ys,this.Ls.Es())}Ns(e,t,n){const r=new P_(this.currentUser,e,t,n),i=A_(this.persistenceKey,this.currentUser,e);this.setItem(i,r.Es())}Bs(e){const t=A_(this.persistenceKey,this.currentUser,e);this.removeItem(t)}qs(e){const t={clientId:this.Rs,onlineState:e};this.storage.setItem(this.Cs,JSON.stringify(t))}ks(e,t,n){const r=O_(this.persistenceKey,e),i=new D_(e,t,n);this.setItem(r,i.Es())}Qs(e){const t=JSON.stringify(Array.from(e));this.setItem(this.vs,t)}Ks(e){const t=this.Ss.exec(e);return t?t[1]:null}Us(e,t){const n=this.Ks(e);return R_.Ts(n,t)}Ws(e,t){const n=this.bs.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return P_.Ts(new op(i),r,t)}zs(e,t){const n=this.Ds.exec(e),r=Number(n[1]);return D_.Ts(r,t)}Ms(e){return M_.Ts(e)}Hs(e){return JSON.parse(e)}async Gs(e){if(e.user.uid===this.currentUser.uid)return this.syncEngine.Ys(e.batchId,e.state,e.error);up("SharedClientState","Ignoring mutation for non-active user ".concat(e.user.uid))}js(e){return this.syncEngine.Zs(e.targetId,e.state,e.error)}$s(e,t){const n=t?this.gs.insert(e,t):this.gs.remove(e),r=this.Os(this.gs),i=this.Os(n),s=[],o=[];return i.forEach((e=>{r.has(e)||s.push(e)})),r.forEach((e=>{i.has(e)||o.push(e)})),this.syncEngine.Xs(s,o).then((()=>{this.gs=n}))}xs(e){this.gs.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Os(e){let t=By();return e.forEach(((e,n)=>{t=t.unionWith(n.activeTargetIds)})),t}}class F_{constructor(){this.eo=new L_,this.no={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return this.eo.ds(e),this.no[e]||"not-current"}updateQueryState(e,t,n){this.no[e]=t}removeLocalQueryTarget(e){this.eo.As(e)}isLocalQueryTarget(e){return this.eo.activeTargetIds.has(e)}clearQueryState(e){delete this.no[e]}getAllActiveQueryTargets(){return this.eo.activeTargetIds}isActiveQueryTarget(e){return this.eo.activeTargetIds.has(e)}start(){return this.eo=new L_,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class U_{ro(e){}shutdown(){}}class V_{constructor(){this.io=()=>this.so(),this.oo=()=>this._o(),this.ao=[],this.uo()}ro(e){this.ao.push(e)}shutdown(){window.removeEventListener("online",this.io),window.removeEventListener("offline",this.oo)}uo(){window.addEventListener("online",this.io),window.addEventListener("offline",this.oo)}so(){up("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ao)e(0)}_o(){up("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ao)e(1)}static D(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let z_=null;function B_(){return null===z_?z_=268435456+Math.round(2147483648*Math.random()):z_++,"0x"+z_.toString(16)}const q_={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class W_{constructor(e){this.co=e.co,this.lo=e.lo}ho(e){this.Po=e}Io(e){this.To=e}onMessage(e){this.Eo=e}close(){this.lo()}send(e){this.co(e)}Ao(){this.Po()}Ro(e){this.To(e)}Vo(e){this.Eo(e)}}const G_="WebChannelConnection";class H_ extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.mo=t+"://"+e.host,this.fo="projects/".concat(n,"/databases/").concat(r),this.po="(default)"===this.databaseId.database?"project_id=".concat(n):"project_id=".concat(n,"&database_id=").concat(r)}get yo(){return!1}wo(e,t,n,r,i){const s=B_(),o=this.So(e,t);up("RestConnection","Sending RPC '".concat(e,"' ").concat(s,":"),o,n);const a={"google-cloud-resource-prefix":this.fo,"x-goog-request-params":this.po};return this.bo(a,r,i),this.Do(e,o,a,n).then((t=>(up("RestConnection","Received RPC '".concat(e,"' ").concat(s,": "),t),t)),(t=>{throw hp("RestConnection","RPC '".concat(e,"' ").concat(s," failed with error: "),t,"url: ",o,"request:",n),t}))}Co(e,t,n,r,i,s){return this.wo(e,t,n,r,i)}bo(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+ap,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((t,n)=>e[n]=t)),n&&n.headers.forEach(((t,n)=>e[n]=t))}So(e,t){const n=q_[e];return"".concat(this.mo,"/v1/").concat(t,":").concat(n)}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Do(e,t,n,r){const i=B_();return new Promise(((s,o)=>{const a=new np;a.setWithCredentials(!0),a.listenOnce($f.COMPLETE,(()=>{try{switch(a.getLastErrorCode()){case Jf.NO_ERROR:const t=a.getResponseJson();up(G_,"XHR for RPC '".concat(e,"' ").concat(i," received:"),JSON.stringify(t)),s(t);break;case Jf.TIMEOUT:up(G_,"RPC '".concat(e,"' ").concat(i," timed out")),o(new vp(yp.DEADLINE_EXCEEDED,"Request time out"));break;case Jf.HTTP_ERROR:const n=a.getStatus();if(up(G_,"RPC '".concat(e,"' ").concat(i," failed with status:"),n,"response text:",a.getResponseText()),n>0){let e=a.getResponseJson();Array.isArray(e)&&(e=e[0]);const t=null==e?void 0:e.error;if(t&&t.status&&t.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(yp).indexOf(t)>=0?t:yp.UNKNOWN}(t.status);o(new vp(e,t.message))}else o(new vp(yp.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new vp(yp.UNAVAILABLE,"Connection failed."));break;default:pp()}}finally{up(G_,"RPC '".concat(e,"' ").concat(i," completed."))}}));const l=JSON.stringify(r);up(G_,"RPC '".concat(e,"' ").concat(i," sending request:"),r),a.send(t,"POST",l,n,15)}))}vo(e,t,n){const r=B_(),i=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=Qf(),o=Xf(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(a.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(a.useFetchStreams=!0),this.bo(a.initMessageHeaders,t,n),a.encodeInitMessageHeaders=!0;const c=i.join("");up(G_,"Creating RPC '".concat(e,"' stream ").concat(r,": ").concat(c),a);const u=s.createWebChannel(c,a);let d=!1,h=!1;const f=new W_({co:t=>{h?up(G_,"Not sending because RPC '".concat(e,"' stream ").concat(r," is closed:"),t):(d||(up(G_,"Opening RPC '".concat(e,"' stream ").concat(r," transport.")),u.open(),d=!0),up(G_,"RPC '".concat(e,"' stream ").concat(r," sending:"),t),u.send(t))},lo:()=>u.close()}),p=(e,t,n)=>{e.listen(t,(e=>{try{n(e)}catch(e){setTimeout((()=>{throw e}),0)}}))};return p(u,tp.EventType.OPEN,(()=>{h||up(G_,"RPC '".concat(e,"' stream ").concat(r," transport opened."))})),p(u,tp.EventType.CLOSE,(()=>{h||(h=!0,up(G_,"RPC '".concat(e,"' stream ").concat(r," transport closed")),f.Ro())})),p(u,tp.EventType.ERROR,(t=>{h||(h=!0,hp(G_,"RPC '".concat(e,"' stream ").concat(r," transport errored:"),t),f.Ro(new vp(yp.UNAVAILABLE,"The operation could not be completed")))})),p(u,tp.EventType.MESSAGE,(t=>{var n;if(!h){const i=t.data[0];mp(!!i);const s=i,o=s.error||(null===(n=s[0])||void 0===n?void 0:n.error);if(o){up(G_,"RPC '".concat(e,"' stream ").concat(r," received error:"),o);const t=o.status;let n=function(e){const t=Tv[e];if(void 0!==t)return Cv(t)}(t),i=o.message;void 0===n&&(n=yp.INTERNAL,i="Unknown error status: "+t+" with message "+o.message),h=!0,f.Ro(new vp(n,i)),u.close()}else up(G_,"RPC '".concat(e,"' stream ").concat(r," received:"),i),f.Vo(i)}})),p(o,Zf.STAT_EVENT,(t=>{t.stat===ep.PROXY?up(G_,"RPC '".concat(e,"' stream ").concat(r," detected buffering proxy")):t.stat===ep.NOPROXY&&up(G_,"RPC '".concat(e,"' stream ").concat(r," detected no buffering proxy"))})),setTimeout((()=>{f.Ao()}),0),f}}function Y_(){return"undefined"!=typeof window?window:null}function K_(){return"undefined"!=typeof document?document:null}function Q_(e){return new Kv(e,!0)}class X_{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;this.si=e,this.timerId=t,this.Fo=n,this.Mo=r,this.xo=i,this.Oo=0,this.No=null,this.Bo=Date.now(),this.reset()}reset(){this.Oo=0}Lo(){this.Oo=this.xo}ko(e){this.cancel();const t=Math.floor(this.Oo+this.qo()),n=Math.max(0,Date.now()-this.Bo),r=Math.max(0,t-n);r>0&&up("ExponentialBackoff","Backing off for ".concat(r," ms (base delay: ").concat(this.Oo," ms, delay with jitter: ").concat(t," ms, last attempt: ").concat(n," ms ago)")),this.No=this.si.enqueueAfterDelay(this.timerId,r,(()=>(this.Bo=Date.now(),e()))),this.Oo*=this.Mo,this.Oo<this.Fo&&(this.Oo=this.Fo),this.Oo>this.xo&&(this.Oo=this.xo)}Qo(){null!==this.No&&(this.No.skipDelay(),this.No=null)}cancel(){null!==this.No&&(this.No.cancel(),this.No=null)}qo(){return(Math.random()-.5)*this.Oo}}class J_{constructor(e,t,n,r,i,s,o,a){this.si=e,this.Ko=n,this.$o=r,this.connection=i,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=o,this.listener=a,this.state=0,this.Uo=0,this.Wo=null,this.Go=null,this.stream=null,this.zo=new X_(e,t)}jo(){return 1===this.state||5===this.state||this.Ho()}Ho(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Jo()}async stop(){this.jo()&&await this.close(0)}Yo(){this.state=0,this.zo.reset()}Zo(){this.Ho()&&null===this.Wo&&(this.Wo=this.si.enqueueAfterDelay(this.Ko,6e4,(()=>this.Xo())))}e_(e){this.t_(),this.stream.send(e)}async Xo(){if(this.Ho())return this.close(0)}t_(){this.Wo&&(this.Wo.cancel(),this.Wo=null)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}async close(e,t){this.t_(),this.n_(),this.zo.cancel(),this.Uo++,4!==e?this.zo.reset():t&&t.code===yp.RESOURCE_EXHAUSTED?(dp(t.toString()),dp("Using maximum backoff delay to prevent overloading the backend."),this.zo.Lo()):t&&t.code===yp.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.r_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Io(t)}r_(){}auth(){this.state=1;const e=this.i_(this.Uo),t=this.Uo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((e=>{let[n,r]=e;this.Uo===t&&this.s_(n,r)}),(t=>{e((()=>{const e=new vp(yp.UNKNOWN,"Fetching auth token failed: "+t.message);return this.o_(e)}))}))}s_(e,t){const n=this.i_(this.Uo);this.stream=this.__(e,t),this.stream.ho((()=>{n((()=>(this.state=2,this.Go=this.si.enqueueAfterDelay(this.$o,1e4,(()=>(this.Ho()&&(this.state=3),Promise.resolve()))),this.listener.ho())))})),this.stream.Io((e=>{n((()=>this.o_(e)))})),this.stream.onMessage((e=>{n((()=>this.onMessage(e)))}))}Jo(){this.state=5,this.zo.ko((async()=>{this.state=0,this.start()}))}o_(e){return up("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}i_(e){return t=>{this.si.enqueueAndForget((()=>this.Uo===e?t():(up("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class $_ extends J_{constructor(e,t,n,r,i,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,s),this.serializer=i}__(e,t){return this.connection.vo("Listen",e,t)}onMessage(e){this.zo.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:pp()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],s=function(e,t){return e.useProto3Json?(mp(void 0===t||"string"==typeof t),eg.fromBase64String(t||"")):(mp(void 0===t||t instanceof Uint8Array),eg.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,a=o&&function(e){const t=void 0===e.code?yp.UNKNOWN:Cv(e.code);return new vp(t,e.message||"")}(o);n=new Vv(r,i,s,a||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=rw(e,r.document.name),s=Zv(r.document.updateTime),o=r.document.createTime?Zv(r.document.createTime):Rp.min(),a=new Og({mapValue:{fields:r.document.fields}}),l=Dg.newFoundDocument(i,s,o,a),c=r.targetIds||[],u=r.removedTargetIds||[];n=new Fv(c,u,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=rw(e,r.document),s=r.readTime?Zv(r.readTime):Rp.min(),o=Dg.newNoDocument(i,s),a=r.removedTargetIds||[];n=new Fv([],a,o.key,o)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=rw(e,r.document),s=r.removedTargetIds||[];n=new Fv([],s,i,null)}else{if(!("filter"in t))return pp();{t.filter;const e=t.filter;e.targetId;const{count:r=0,unchangedNames:i}=e,s=new xv(r,i),o=e.targetId;n=new Uv(o,s)}}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return Rp.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?Rp.min():t.readTime?Zv(t.readTime):Rp.min()}(e);return this.listener.a_(t,n)}u_(e){const t={};t.database=ow(this.serializer),t.addTarget=function(e,t){let n;const r=t.target;if(n=ly(r)?{documents:hw(e,r)}:{query:fw(e,r)},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=Jv(e,t.resumeToken);const r=Qv(e,t.expectedCount);null!==r&&(n.expectedCount=r)}else if(t.snapshotVersion.compareTo(Rp.min())>0){n.readTime=Xv(e,t.snapshotVersion.toTimestamp());const r=Qv(e,t.expectedCount);null!==r&&(n.expectedCount=r)}return n}(this.serializer,e);const n=function(e,t){const n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return pp()}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.e_(t)}c_(e){const t={};t.database=ow(this.serializer),t.removeTarget=e,this.e_(t)}}class Z_ extends J_{constructor(e,t,n,r,i,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,s),this.serializer=i,this.l_=!1}get h_(){return this.l_}start(){this.l_=!1,this.lastStreamToken=void 0,super.start()}r_(){this.l_&&this.P_([])}__(e,t){return this.connection.vo("Write",e,t)}onMessage(e){if(mp(!!e.streamToken),this.lastStreamToken=e.streamToken,this.l_){this.zo.reset();const t=function(e,t){return e&&e.length>0?(mp(void 0!==t),e.map((e=>function(e,t){let n=e.updateTime?Zv(e.updateTime):Zv(t);return n.isEqual(Rp.min())&&(n=Zv(t)),new sv(n,e.transformResults||[])}(e,t)))):[]}(e.writeResults,e.commitTime),n=Zv(e.commitTime);return this.listener.I_(n,t)}return mp(!e.writeResults||0===e.writeResults.length),this.l_=!0,this.listener.T_()}E_(){const e={};e.database=ow(this.serializer),this.e_(e)}P_(e){const t={streamToken:this.lastStreamToken,writes:e.map((e=>uw(this.serializer,e)))};this.e_(t)}}class eS extends class{}{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.d_=!1}A_(){if(this.d_)throw new vp(yp.FAILED_PRECONDITION,"The client has already been terminated.")}wo(e,t,n){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((r=>{let[i,s]=r;return this.connection.wo(e,t,n,i,s)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===yp.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new vp(yp.UNKNOWN,e.toString())}))}Co(e,t,n,r){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((i=>{let[s,o]=i;return this.connection.Co(e,t,n,s,o,r)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===yp.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new vp(yp.UNKNOWN,e.toString())}))}terminate(){this.d_=!0}}class tS{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.V_=0,this.m_=null,this.f_=!0}g_(){0===this.V_&&(this.p_("Unknown"),this.m_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.m_=null,this.y_("Backend didn't respond within 10 seconds."),this.p_("Offline"),Promise.resolve()))))}w_(e){"Online"===this.state?this.p_("Unknown"):(this.V_++,this.V_>=1&&(this.S_(),this.y_("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.p_("Offline")))}set(e){this.S_(),this.V_=0,"Online"===e&&(this.f_=!1),this.p_(e)}p_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}y_(e){const t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.f_?(dp(t),this.f_=!1):up("OnlineStateTracker",t)}S_(){null!==this.m_&&(this.m_.cancel(),this.m_=null)}}class nS{constructor(e,t,n,r,i){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.b_=[],this.D_=new Map,this.C_=new Set,this.v_=[],this.F_=i,this.F_.ro((e=>{n.enqueueAndForget((async()=>{dS(this)&&(up("RemoteStore","Restarting streams for network reachability change."),await async function(e){const t=gp(e);t.C_.add(4),await iS(t),t.M_.set("Unknown"),t.C_.delete(4),await rS(t)}(this))}))})),this.M_=new tS(n,r)}}async function rS(e){if(dS(e))for(const t of e.v_)await t(!0)}async function iS(e){for(const t of e.v_)await t(!1)}function sS(e,t){const n=gp(e);n.D_.has(t.targetId)||(n.D_.set(t.targetId,t),uS(n)?cS(n):NS(n).Ho()&&aS(n,t))}function oS(e,t){const n=gp(e),r=NS(n);n.D_.delete(t),r.Ho()&&lS(n,t),0===n.D_.size&&(r.Ho()?r.Zo():dS(n)&&n.M_.set("Unknown"))}function aS(e,t){if(e.x_.Oe(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Rp.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}NS(e).u_(t)}function lS(e,t){e.x_.Oe(t),NS(e).c_(t)}function cS(e){e.x_=new Bv({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),_t:t=>e.D_.get(t)||null,nt:()=>e.datastore.serializer.databaseId}),NS(e).start(),e.M_.g_()}function uS(e){return dS(e)&&!NS(e).jo()&&e.D_.size>0}function dS(e){return 0===gp(e).C_.size}function hS(e){e.x_=void 0}async function fS(e){e.D_.forEach(((t,n)=>{aS(e,t)}))}async function pS(e,t){hS(e),uS(e)?(e.M_.w_(t),cS(e)):e.M_.set("Unknown")}async function mS(e,t,n){if(e.M_.set("Online"),t instanceof Vv&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e.D_.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.D_.delete(r),e.x_.removeTarget(r))}(e,t)}catch(n){up("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),n),await gS(e,n)}else if(t instanceof Fv?e.x_.$e(t):t instanceof Uv?e.x_.Je(t):e.x_.Ge(t),!n.isEqual(Rp.min()))try{const t=await w_(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.x_.it(t);return n.targetChanges.forEach(((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const i=e.D_.get(r);i&&e.D_.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach(((t,n)=>{const r=e.D_.get(t);if(!r)return;e.D_.set(t,r.withResumeToken(eg.EMPTY_BYTE_STRING,r.snapshotVersion)),lS(e,t);const i=new xw(r.target,t,n,r.sequenceNumber);aS(e,i)})),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){up("RemoteStore","Failed to raise snapshot:",t),await gS(e,t)}}async function gS(e,t,n){if(!rm(t))throw t;e.C_.add(1),await iS(e),e.M_.set("Offline"),n||(n=()=>w_(e.localStore)),e.asyncQueue.enqueueRetryable((async()=>{up("RemoteStore","Retrying IndexedDB access"),await n(),e.C_.delete(1),await rS(e)}))}function yS(e,t){return t().catch((n=>gS(e,n,t)))}async function vS(e){const t=gp(e),n=AS(t);let r=t.b_.length>0?t.b_[t.b_.length-1].batchId:-1;for(;wS(t);)try{const e=await __(t.localStore,r);if(null===e){0===t.b_.length&&n.Zo();break}r=e.batchId,bS(t,e)}catch(e){await gS(t,e)}_S(t)&&SS(t)}function wS(e){return dS(e)&&e.b_.length<10}function bS(e,t){e.b_.push(t);const n=AS(e);n.Ho()&&n.h_&&n.P_(t.mutations)}function _S(e){return dS(e)&&!AS(e).jo()&&e.b_.length>0}function SS(e){AS(e).start()}async function ES(e){AS(e).E_()}async function xS(e){const t=AS(e);for(const n of e.b_)t.P_(n.mutations)}async function TS(e,t,n){const r=e.b_.shift(),i=Sv.from(r,t,n);await yS(e,(()=>e.remoteSyncer.applySuccessfulWrite(i))),await vS(e)}async function kS(e,t){t&&AS(e).h_&&await async function(e,t){if(function(e){return Iv(e)&&e!==yp.ABORTED}(t.code)){const n=e.b_.shift();AS(e).Yo(),await yS(e,(()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t))),await vS(e)}}(e,t),_S(e)&&SS(e)}async function IS(e,t){const n=gp(e);n.asyncQueue.verifyOperationInProgress(),up("RemoteStore","RemoteStore received new credentials");const r=dS(n);n.C_.add(3),await iS(n),r&&n.M_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.C_.delete(3),await rS(n)}async function CS(e,t){const n=gp(e);t?(n.C_.delete(2),await rS(n)):t||(n.C_.add(2),await iS(n),n.M_.set("Unknown"))}function NS(e){return e.O_||(e.O_=function(e,t,n){const r=gp(e);return r.A_(),new $_(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{ho:fS.bind(null,e),Io:pS.bind(null,e),a_:mS.bind(null,e)}),e.v_.push((async t=>{t?(e.O_.Yo(),uS(e)?cS(e):e.M_.set("Unknown")):(await e.O_.stop(),hS(e))}))),e.O_}function AS(e){return e.N_||(e.N_=function(e,t,n){const r=gp(e);return r.A_(),new Z_(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{ho:ES.bind(null,e),Io:kS.bind(null,e),T_:xS.bind(null,e),I_:TS.bind(null,e)}),e.v_.push((async t=>{t?(e.N_.Yo(),await vS(e)):(await e.N_.stop(),e.b_.length>0&&(up("RemoteStore","Stopping write stream with ".concat(e.b_.length," pending writes")),e.b_=[]))}))),e.N_}class OS{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new wp,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((e=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,r,i){const s=Date.now()+n,o=new OS(e,t,s,r,i);return o.start(n),o}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new vp(yp.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function PS(e,t){if(dp("AsyncQueue","".concat(t,": ").concat(e)),rm(e))return new vp(yp.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}class DS{constructor(e){this.comparator=e?(t,n)=>e(t,n)||Up.comparator(t.key,n.key):(e,t)=>Up.comparator(e.key,t.key),this.keyedMap=Dy(),this.sortedSet=new Hm(this.comparator)}static emptySet(e){return new DS(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,n)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof DS))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new DS;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class RS{constructor(){this.B_=new Hm(Up.comparator)}track(e){const t=e.doc.key,n=this.B_.get(t);n?0!==e.type&&3===n.type?this.B_=this.B_.insert(t,e):3===e.type&&1!==n.type?this.B_=this.B_.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.B_=this.B_.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.B_=this.B_.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.B_=this.B_.remove(t):1===e.type&&2===n.type?this.B_=this.B_.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.B_=this.B_.insert(t,{type:2,doc:e.doc}):pp():this.B_=this.B_.insert(t,e)}L_(){const e=[];return this.B_.inorderTraversal(((t,n)=>{e.push(n)})),e}}class MS{constructor(e,t,n,r,i,s,o,a,l){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=s,this.syncStateChanged=o,this.excludesMetadataChanges=a,this.hasCachedResults=l}static fromInitialDocuments(e,t,n,r,i){const s=[];return t.forEach((e=>{s.push({type:0,doc:e})})),new MS(e,t,DS.emptySet(t),s,n,r,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Sy(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}class LS{constructor(){this.k_=void 0,this.listeners=[]}}class jS{constructor(){this.queries=new Ny((e=>Ey(e)),Sy),this.onlineState="Unknown",this.q_=new Set}}async function FS(e,t){const n=gp(e),r=t.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new LS),i)try{s.k_=await n.onListen(r)}catch(e){const n=PS(e,"Initialization of query '".concat(xy(t.query),"' failed"));return void t.onError(n)}n.queries.set(r,s),s.listeners.push(t),t.Q_(n.onlineState),s.k_&&t.K_(s.k_)&&BS(n)}async function US(e,t){const n=gp(e),r=t.query;let i=!1;const s=n.queries.get(r);if(s){const e=s.listeners.indexOf(t);e>=0&&(s.listeners.splice(e,1),i=0===s.listeners.length)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function VS(e,t){const n=gp(e);let r=!1;for(const i of t){const e=i.query,t=n.queries.get(e);if(t){for(const e of t.listeners)e.K_(i)&&(r=!0);t.k_=i}}r&&BS(n)}function zS(e,t,n){const r=gp(e),i=r.queries.get(t);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(t)}function BS(e){e.q_.forEach((e=>{e.next()}))}class qS{constructor(e,t,n){this.query=e,this.U_=t,this.W_=!1,this.G_=null,this.onlineState="Unknown",this.options=n||{}}K_(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new MS(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.W_?this.z_(e)&&(this.U_.next(e),t=!0):this.j_(e,this.onlineState)&&(this.H_(e),t=!0),this.G_=e,t}onError(e){this.U_.error(e)}Q_(e){this.onlineState=e;let t=!1;return this.G_&&!this.W_&&this.j_(this.G_,e)&&(this.H_(this.G_),t=!0),t}j_(e,t){if(!e.fromCache)return!0;const n="Offline"!==t;return(!this.options.J_||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}z_(e){if(e.docChanges.length>0)return!0;const t=this.G_&&this.G_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}H_(e){e=MS.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.W_=!0,this.U_.next(e)}}class WS{constructor(e,t){this.Y_=e,this.byteLength=t}Z_(){return"metadata"in this.Y_}}class GS{constructor(e){this.serializer=e}hs(e){return rw(this.serializer,e)}Ps(e){return e.metadata.exists?cw(this.serializer,e.document,!1):Dg.newNoDocument(this.hs(e.metadata.name),this.Is(e.metadata.readTime))}Is(e){return Zv(e)}}class HS{constructor(e,t,n){this.X_=e,this.localStore=t,this.serializer=n,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=YS(e)}ea(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.Y_.namedQuery)this.queries.push(e.Y_.namedQuery);else if(e.Y_.documentMetadata){this.documents.push({metadata:e.Y_.documentMetadata}),e.Y_.documentMetadata.exists||++t;const n=Lp.fromString(e.Y_.documentMetadata.name);this.collectionGroups.add(n.get(n.length-2))}else e.Y_.document&&(this.documents[this.documents.length-1].document=e.Y_.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}ta(e){const t=new Map,n=new GS(this.serializer);for(const r of e)if(r.metadata.queries){const e=n.hs(r.metadata.name);for(const n of r.metadata.queries){const r=(t.get(n)||Vy()).add(e);t.set(n,r)}}return t}async complete(){const e=await async function(e,t,n,r){const i=gp(e);let s=Vy(),o=Oy();for(const c of n){const e=t.hs(c.metadata.name);c.document&&(s=s.add(e));const n=t.Ps(c);n.setReadTime(t.Is(c.metadata.readTime)),o=o.insert(e,n)}const a=i.ss.newChangeBuffer({trackRemovals:!0}),l=await S_(i,function(e){return vy(py(Lp.fromString("__bundle__/docs/".concat(e))))}(r));return i.persistence.runTransaction("Apply bundle documents","readwrite",(e=>b_(e,a,o).next((t=>(a.apply(e),t))).next((t=>i.qr.removeMatchingKeysForTargetId(e,l.targetId).next((()=>i.qr.addMatchingKeys(e,s,l.targetId))).next((()=>i.localDocuments.getLocalViewOfDocuments(e,t.us,t.cs))).next((()=>t.us))))))}(this.localStore,new GS(this.serializer),this.documents,this.X_.id),t=this.ta(this.documents);for(const n of this.queries)await C_(this.localStore,n,t.get(n.name));return this.progress.taskState="Success",{progress:this.progress,na:this.collectionGroups,ra:e}}}function YS(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}class KS{constructor(e){this.key=e}}class QS{constructor(e){this.key=e}}class XS{constructor(e,t){this.query=e,this.ia=t,this.sa=null,this.hasCachedResults=!1,this.current=!1,this.oa=Vy(),this.mutatedKeys=Vy(),this._a=Iy(e),this.aa=new DS(this._a)}get ua(){return this.ia}ca(e,t){const n=t?t.la:new RS,r=t?t.aa:this.aa;let i=t?t.mutatedKeys:this.mutatedKeys,s=r,o=!1;const a="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,l="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal(((e,t)=>{const c=r.get(e),u=Ty(this.query,t)?t:null,d=!!c&&this.mutatedKeys.has(c.key),h=!!u&&(u.hasLocalMutations||this.mutatedKeys.has(u.key)&&u.hasCommittedMutations);let f=!1;c&&u?c.data.isEqual(u.data)?d!==h&&(n.track({type:3,doc:u}),f=!0):this.ha(c,u)||(n.track({type:2,doc:u}),f=!0,(a&&this._a(u,a)>0||l&&this._a(u,l)<0)&&(o=!0)):!c&&u?(n.track({type:0,doc:u}),f=!0):c&&!u&&(n.track({type:1,doc:c}),f=!0,(a||l)&&(o=!0)),f&&(u?(s=s.add(u),i=h?i.add(e):i.delete(e)):(s=s.delete(e),i=i.delete(e)))})),null!==this.query.limit)for(;s.size>this.query.limit;){const e="F"===this.query.limitType?s.last():s.first();s=s.delete(e.key),i=i.delete(e.key),n.track({type:1,doc:e})}return{aa:s,la:n,Zi:o,mutatedKeys:i}}ha(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,r){const i=this.aa;this.aa=e.aa,this.mutatedKeys=e.mutatedKeys;const s=e.la.L_();s.sort(((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return pp()}};return n(e)-n(t)}(e.type,t.type)||this._a(e.doc,t.doc))),this.Pa(n),r=null!=r&&r;const o=t&&!r?this.Ia():[],a=0===this.oa.size&&this.current&&!r?1:0,l=a!==this.sa;return this.sa=a,0!==s.length||l?{snapshot:new MS(this.query,e.aa,i,s,e.mutatedKeys,0===a,l,!1,!!n&&n.resumeToken.approximateByteSize()>0),Ta:o}:{Ta:o}}Q_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({aa:this.aa,la:new RS,mutatedKeys:this.mutatedKeys,Zi:!1},!1)):{Ta:[]}}Ea(e){return!this.ia.has(e)&&!!this.aa.has(e)&&!this.aa.get(e).hasLocalMutations}Pa(e){e&&(e.addedDocuments.forEach((e=>this.ia=this.ia.add(e))),e.modifiedDocuments.forEach((e=>{})),e.removedDocuments.forEach((e=>this.ia=this.ia.delete(e))),this.current=e.current)}Ia(){if(!this.current)return[];const e=this.oa;this.oa=Vy(),this.aa.forEach((e=>{this.Ea(e.key)&&(this.oa=this.oa.add(e.key))}));const t=[];return e.forEach((e=>{this.oa.has(e)||t.push(new QS(e))})),this.oa.forEach((n=>{e.has(n)||t.push(new KS(n))})),t}da(e){this.ia=e.ls,this.oa=Vy();const t=this.ca(e.documents);return this.applyChanges(t,!0)}Aa(){return MS.fromInitialDocuments(this.query,this.aa,this.mutatedKeys,0===this.sa,this.hasCachedResults)}}class JS{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class $S{constructor(e){this.key=e,this.Ra=!1}}class ZS{constructor(e,t,n,r,i,s){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=s,this.Va={},this.ma=new Ny((e=>Ey(e)),Sy),this.fa=new Map,this.ga=new Set,this.pa=new Hm(Up.comparator),this.ya=new Map,this.wa=new Jb,this.Sa={},this.ba=new Map,this.Da=kb.Nn(),this.onlineState="Unknown",this.Ca=void 0}get isPrimaryClient(){return!0===this.Ca}}async function eE(e,t){const n=kE(e);let r,i;const s=n.ma.get(t);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.Aa();else{const e=await S_(n.localStore,vy(t)),s=n.sharedClientState.addLocalQueryTarget(e.targetId);r=e.targetId,i=await tE(n,t,r,"current"===s,e.resumeToken),n.isPrimaryClient&&sS(n.remoteStore,e)}return i}async function tE(e,t,n,r,i){e.va=(t,n,r)=>async function(e,t,n,r){let i=t.view.ca(n);i.Zi&&(i=await x_(e.localStore,t.query,!1).then((e=>{let{documents:n}=e;return t.view.ca(n,i)})));const s=r&&r.targetChanges.get(t.targetId),o=r&&null!=r.targetMismatches.get(t.targetId),a=t.view.applyChanges(i,e.isPrimaryClient,s,o);return hE(e,t.targetId,a.Ta),a.snapshot}(e,t,n,r);const s=await x_(e.localStore,t,!0),o=new XS(t,s.ls),a=o.ca(s.documents),l=jv.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState,i),c=o.applyChanges(a,e.isPrimaryClient,l);hE(e,n,c.Ta);const u=new JS(t,n,o);return e.ma.set(t,u),e.fa.has(n)?e.fa.get(n).push(t):e.fa.set(n,[t]),c.snapshot}async function nE(e,t){const n=gp(e),r=n.ma.get(t),i=n.fa.get(r.targetId);if(i.length>1)return n.fa.set(r.targetId,i.filter((e=>!Sy(e,t)))),void n.ma.delete(t);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await E_(n.localStore,r.targetId,!1).then((()=>{n.sharedClientState.clearQueryState(r.targetId),oS(n.remoteStore,r.targetId),uE(n,r.targetId)})).catch(Jp)):(uE(n,r.targetId),await E_(n.localStore,r.targetId,!0))}async function rE(e,t){const n=gp(e);try{const e=await function(e,t){const n=gp(e),r=t.snapshotVersion;let i=n.ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(e=>{const s=n.ss.newChangeBuffer({trackRemovals:!0});i=n.ts;const o=[];t.targetChanges.forEach(((s,a)=>{const l=i.get(a);if(!l)return;o.push(n.qr.removeMatchingKeys(e,s.removedDocuments,a).next((()=>n.qr.addMatchingKeys(e,s.addedDocuments,a))));let c=l.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(a)?c=c.withResumeToken(eg.EMPTY_BYTE_STRING,Rp.min()).withLastLimboFreeSnapshotVersion(Rp.min()):s.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(s.resumeToken,r)),i=i.insert(a,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(l,c,s)&&o.push(n.qr.updateTargetData(e,c))}));let a=Oy(),l=Vy();if(t.documentUpdates.forEach((r=>{t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(b_(e,s,t.documentUpdates).next((e=>{a=e.us,l=e.cs}))),!r.isEqual(Rp.min())){const t=n.qr.getLastRemoteSnapshotVersion(e).next((t=>n.qr.setTargetsMetadata(e,e.currentSequenceNumber,r)));o.push(t)}return $p.waitFor(o).next((()=>s.apply(e))).next((()=>n.localDocuments.getLocalViewOfDocuments(e,a,l))).next((()=>a))})).then((e=>(n.ts=i,e)))}(n.localStore,t);t.targetChanges.forEach(((e,t)=>{const r=n.ya.get(t);r&&(mp(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?r.Ra=!0:e.modifiedDocuments.size>0?mp(r.Ra):e.removedDocuments.size>0&&(mp(r.Ra),r.Ra=!1))})),await mE(n,e,t)}catch(e){await Jp(e)}}function iE(e,t,n){const r=gp(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.ma.forEach(((n,r)=>{const i=r.view.Q_(t);i.snapshot&&e.push(i.snapshot)})),function(e,t){const n=gp(e);n.onlineState=t;let r=!1;n.queries.forEach(((e,n)=>{for(const i of n.listeners)i.Q_(t)&&(r=!0)})),r&&BS(n)}(r.eventManager,t),e.length&&r.Va.a_(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function sE(e,t,n){const r=gp(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.ya.get(t),s=i&&i.key;if(s){let e=new Hm(Up.comparator);e=e.insert(s,Dg.newNoDocument(s,Rp.min()));const n=Vy().add(s),i=new Lv(Rp.min(),new Map,new Hm(Ap),e,n);await rE(r,i),r.pa=r.pa.remove(s),r.ya.delete(t),pE(r)}else await E_(r.localStore,t,!1).then((()=>uE(r,t,n))).catch(Jp)}async function oE(e,t){const n=gp(e),r=t.batch.batchId;try{const e=await function(e,t){const n=gp(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(e=>{const r=t.batch.keys(),i=n.ss.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const i=n.batch,s=i.keys();let o=$p.resolve();return s.forEach((e=>{o=o.next((()=>r.getEntry(t,e))).next((t=>{const s=n.docVersions.get(e);mp(null!==s),t.version.compareTo(s)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),o.next((()=>e.mutationQueue.removeMutationBatch(t,i)))}(n,e,t,i).next((()=>i.apply(e))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=Vy();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t)))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(n.localStore,t);cE(n,r,null),lE(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await mE(n,e)}catch(e){await Jp(e)}}async function aE(e,t,n){const r=gp(e);try{const e=await function(e,t){const n=gp(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(e=>{let r;return n.mutationQueue.lookupMutationBatch(e,t).next((t=>(mp(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(r.localStore,t);cE(r,t,n),lE(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await mE(r,e)}catch(n){await Jp(n)}}function lE(e,t){(e.ba.get(t)||[]).forEach((e=>{e.resolve()})),e.ba.delete(t)}function cE(e,t,n){const r=gp(e);let i=r.Sa[r.currentUser.toKey()];if(i){const e=i.get(t);e&&(n?e.reject(n):e.resolve(),i=i.remove(t)),r.Sa[r.currentUser.toKey()]=i}}function uE(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.fa.get(t))e.ma.delete(r),n&&e.Va.Fa(r,n);e.fa.delete(t),e.isPrimaryClient&&e.wa.Rr(t).forEach((t=>{e.wa.containsKey(t)||dE(e,t)}))}function dE(e,t){e.ga.delete(t.path.canonicalString());const n=e.pa.get(t);null!==n&&(oS(e.remoteStore,n),e.pa=e.pa.remove(t),e.ya.delete(n),pE(e))}function hE(e,t,n){for(const r of n)r instanceof KS?(e.wa.addReference(r.key,t),fE(e,r)):r instanceof QS?(up("SyncEngine","Document no longer in limbo: "+r.key),e.wa.removeReference(r.key,t),e.wa.containsKey(r.key)||dE(e,r.key)):pp()}function fE(e,t){const n=t.key,r=n.path.canonicalString();e.pa.get(n)||e.ga.has(r)||(up("SyncEngine","New document in limbo: "+n),e.ga.add(r),pE(e))}function pE(e){for(;e.ga.size>0&&e.pa.size<e.maxConcurrentLimboResolutions;){const t=e.ga.values().next().value;e.ga.delete(t);const n=new Up(Lp.fromString(t)),r=e.Da.next();e.ya.set(r,new $S(n)),e.pa=e.pa.insert(n,r),sS(e.remoteStore,new xw(vy(py(n.path)),r,"TargetPurposeLimboResolution",um._e))}}async function mE(e,t,n){const r=gp(e),i=[],s=[],o=[];r.ma.isEmpty()||(r.ma.forEach(((e,a)=>{o.push(r.va(a,t,n).then((e=>{if((e||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(a.targetId,(null==e?void 0:e.fromCache)?"not-current":"current"),e){i.push(e);const t=f_.Qi(a.targetId,e);s.push(t)}})))})),await Promise.all(o),r.Va.a_(i),await async function(e,t){const n=gp(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(e=>$p.forEach(t,(t=>$p.forEach(t.ki,(r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r))).next((()=>$p.forEach(t.qi,(r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))))))}catch(e){if(!rm(e))throw e;up("LocalStore","Failed to update sequence numbers: "+e)}for(const r of t){const e=r.targetId;if(!r.fromCache){const t=n.ts.get(e),r=t.snapshotVersion,i=t.withLastLimboFreeSnapshotVersion(r);n.ts=n.ts.insert(e,i)}}}(r.localStore,s))}async function gE(e,t){const n=gp(e);if(!n.currentUser.isEqual(t)){up("SyncEngine","User change. New user:",t.toKey());const e=await v_(n.localStore,t);n.currentUser=t,function(e,t){e.ba.forEach((e=>{e.forEach((e=>{e.reject(new vp(yp.CANCELLED,t))}))})),e.ba.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await mE(n,e._s)}}function yE(e,t){const n=gp(e),r=n.ya.get(t);if(r&&r.Ra)return Vy().add(r.key);{let e=Vy();const r=n.fa.get(t);if(!r)return e;for(const t of r){const r=n.ma.get(t);e=e.unionWith(r.view.ua)}return e}}async function vE(e,t){const n=gp(e),r=await x_(n.localStore,t.query,!0),i=t.view.da(r);return n.isPrimaryClient&&hE(n,t.targetId,i.Ta),i}async function wE(e,t){const n=gp(e);return k_(n.localStore,t).then((e=>mE(n,e)))}async function bE(e,t,n,r){const i=gp(e),s=await function(e,t){const n=gp(e),r=gp(n.mutationQueue);return n.persistence.runTransaction("Lookup mutation documents","readonly",(e=>r.Cn(e,t).next((t=>t?n.localDocuments.getDocuments(e,t):$p.resolve(null)))))}(i.localStore,t);null!==s?("pending"===n?await vS(i.remoteStore):"acknowledged"===n||"rejected"===n?(cE(i,t,r||null),lE(i,t),function(e,t){gp(gp(e).mutationQueue).Fn(t)}(i.localStore,t)):pp(),await mE(i,s)):up("SyncEngine","Cannot apply mutation batch with id: "+t)}async function _E(e,t,n){const r=gp(e),i=[],s=[];for(const o of t){let e;const t=r.fa.get(o);if(t&&0!==t.length){e=await S_(r.localStore,vy(t[0]));for(const e of t){const t=r.ma.get(e),n=await vE(r,t);n.snapshot&&s.push(n.snapshot)}}else{const t=await T_(r.localStore,o);e=await S_(r.localStore,t),await tE(r,SE(t),o,!1,e.resumeToken)}i.push(e)}return r.Va.a_(s),i}function SE(e){return fy(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function EE(e){return function(e){return gp(gp(e).persistence).Bi()}(gp(e).localStore)}async function xE(e,t,n,r){const i=gp(e);if(i.Ca)return void up("SyncEngine","Ignoring unexpected query state notification.");const s=i.fa.get(t);if(s&&s.length>0)switch(n){case"current":case"not-current":{const e=await k_(i.localStore,ky(s[0])),r=Lv.createSynthesizedRemoteEventForCurrentChange(t,"current"===n,eg.EMPTY_BYTE_STRING);await mE(i,e,r);break}case"rejected":await E_(i.localStore,t,!0),uE(i,t,r);break;default:pp()}}async function TE(e,t,n){const r=kE(e);if(r.Ca){for(const e of t){if(r.fa.has(e)){up("SyncEngine","Adding an already active target "+e);continue}const t=await T_(r.localStore,e),n=await S_(r.localStore,t);await tE(r,SE(t),n.targetId,!1,n.resumeToken),sS(r.remoteStore,n)}for(const e of n)r.fa.has(e)&&await E_(r.localStore,e,!1).then((()=>{oS(r.remoteStore,e),uE(r,e)})).catch(Jp)}}function kE(e){const t=gp(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=rE.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=yE.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=sE.bind(null,t),t.Va.a_=VS.bind(null,t.eventManager),t.Va.Fa=zS.bind(null,t.eventManager),t}function IE(e){const t=gp(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=oE.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=aE.bind(null,t),t}class CE{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=Q_(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return y_(this.persistence,new m_,e.initialUser,this.serializer)}createPersistence(e){return new r_(s_.jr,this.serializer)}createSharedClientState(e){return new F_}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class NE extends CE{constructor(e,t,n){super(),this.xa=e,this.cacheSizeBytes=t,this.forceOwnership=n,this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.xa.initialize(this,e),await IE(this.xa.syncEngine),await vS(this.xa.remoteStore),await this.persistence.mi((()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve())))}createLocalStore(e){return y_(this.persistence,new m_,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,t){const n=this.persistence.referenceDelegate.garbageCollector;return new Db(n,e.asyncQueue,t)}createIndexBackfillerScheduler(e,t){const n=new cm(t,this.persistence);return new lm(e.asyncQueue,n)}createPersistence(e){const t=h_(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?vb.withCacheSize(this.cacheSizeBytes):vb.DEFAULT;return new c_(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,Y_(),K_(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new F_}}class AE extends NE{constructor(e,t){super(e,t,!1),this.xa=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}async initialize(e){await super.initialize(e);const t=this.xa.syncEngine;this.sharedClientState instanceof j_&&(this.sharedClientState.syncEngine={Ys:bE.bind(null,t),Zs:xE.bind(null,t),Xs:TE.bind(null,t),Bi:EE.bind(null,t),Js:wE.bind(null,t)},await this.sharedClientState.start()),await this.persistence.mi((async e=>{await async function(e,t){const n=gp(e);if(kE(n),IE(n),!0===t&&!0!==n.Ca){const e=n.sharedClientState.getAllActiveQueryTargets(),t=await _E(n,e.toArray());n.Ca=!0,await CS(n.remoteStore,!0);for(const r of t)sS(n.remoteStore,r)}else if(!1===t&&!1!==n.Ca){const e=[];let t=Promise.resolve();n.fa.forEach(((r,i)=>{n.sharedClientState.isLocalQueryTarget(i)?e.push(i):t=t.then((()=>(uE(n,i),E_(n.localStore,i,!0)))),oS(n.remoteStore,i)})),await t,await _E(n,e),function(e){const t=gp(e);t.ya.forEach(((e,n)=>{oS(t.remoteStore,n)})),t.wa.Vr(),t.ya=new Map,t.pa=new Hm(Up.comparator)}(n),n.Ca=!1,await CS(n.remoteStore,!1)}}(this.xa.syncEngine,e),this.gcScheduler&&(e&&!this.gcScheduler.started?this.gcScheduler.start():e||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(e&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():e||this.indexBackfillerScheduler.stop())}))}createSharedClientState(e){const t=Y_();if(!j_.D(t))throw new vp(yp.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const n=h_(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new j_(t,e.asyncQueue,n,e.clientId,e.initialUser)}}class OE{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>iE(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=gE.bind(null,this.syncEngine),await CS(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new jS}createDatastore(e){const t=Q_(e.databaseInfo.databaseId),n=function(e){return new H_(e)}(e.databaseInfo);return function(e,t,n,r){return new eS(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return function(e,t,n,r,i){return new nS(e,t,n,r,i)}(this.localStore,this.datastore,e.asyncQueue,(e=>iE(this.syncEngine,e,0)),V_.D()?new V_:new U_)}createSyncEngine(e,t){return function(e,t,n,r,i,s,o){const a=new ZS(e,t,n,r,i,s);return o&&(a.Ca=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return async function(e){const t=gp(e);up("RemoteStore","RemoteStore shutting down."),t.C_.add(5),await iS(t),t.F_.shutdown(),t.M_.set("Unknown")}(this.remoteStore)}}function PE(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10240,n=0;return{async read(){if(n<e.byteLength){const r={value:e.slice(n,n+t),done:!1};return n+=t,r}return{done:!0}},async cancel(){},releaseLock(){},closed:Promise.resolve()}}class DE{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Oa(this.observer.next,e)}error(e){this.observer.error?this.Oa(this.observer.error,e):dp("Uncaught Error in snapshot listener:",e.toString())}Na(){this.muted=!0}Oa(e,t){this.muted||setTimeout((()=>{this.muted||e(t)}),0)}}class RE{constructor(e,t){this.Ba=e,this.serializer=t,this.metadata=new wp,this.buffer=new Uint8Array,this.La=new TextDecoder("utf-8"),this.ka().then((e=>{e&&e.Z_()?this.metadata.resolve(e.Y_.metadata):this.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             ".concat(JSON.stringify(null==e?void 0:e.Y_))))}),(e=>this.metadata.reject(e)))}close(){return this.Ba.cancel()}async getMetadata(){return this.metadata.promise}async Ma(){return await this.getMetadata(),this.ka()}async ka(){const e=await this.qa();if(null===e)return null;const t=this.La.decode(e),n=Number(t);isNaN(n)&&this.Qa("length string (".concat(t,") is not valid number"));const r=await this.Ka(n);return new WS(JSON.parse(r),e.length+n)}$a(){return this.buffer.findIndex((e=>e==="{".charCodeAt(0)))}async qa(){for(;this.$a()<0&&!await this.Ua(););if(0===this.buffer.length)return null;const e=this.$a();e<0&&this.Qa("Reached the end of bundle when a length string is expected.");const t=this.buffer.slice(0,e);return this.buffer=this.buffer.slice(e),t}async Ka(e){for(;this.buffer.length<e;)await this.Ua()&&this.Qa("Reached the end of bundle when more is expected.");const t=this.La.decode(this.buffer.slice(0,e));return this.buffer=this.buffer.slice(e),t}Qa(e){throw this.Ba.cancel(),new Error("Invalid bundle format: ".concat(e))}async Ua(){const e=await this.Ba.read();if(!e.done){const t=new Uint8Array(this.buffer.length+e.value.length);t.set(this.buffer),t.set(e.value,this.buffer.length),this.buffer=t}return e.done}}class ME{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new vp(yp.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const t=await async function(e,t){const n=gp(e),r=ow(n.serializer)+"/documents",i={documents:t.map((e=>nw(n.serializer,e)))},s=await n.Co("BatchGetDocuments",r,i,t.length),o=new Map;s.forEach((e=>{const t=function(e,t){return"found"in t?function(e,t){mp(!!t.found),t.found.name,t.found.updateTime;const n=rw(e,t.found.name),r=Zv(t.found.updateTime),i=t.found.createTime?Zv(t.found.createTime):Rp.min(),s=new Og({mapValue:{fields:t.found.fields}});return Dg.newFoundDocument(n,r,i,s)}(e,t):"missing"in t?function(e,t){mp(!!t.missing),mp(!!t.readTime);const n=rw(e,t.missing),r=Zv(t.readTime);return Dg.newNoDocument(n,r)}(e,t):pp()}(n.serializer,e);o.set(t.key.toString(),t)}));const a=[];return t.forEach((e=>{const t=o.get(e.toString());mp(!!t),a.push(t)})),a}(this.datastore,e);return t.forEach((e=>this.recordVersion(e))),t}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())}delete(e){this.write(new wv(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;const e=this.readVersions;this.mutations.forEach((t=>{e.delete(t.key.toString())})),e.forEach(((e,t)=>{const n=Up.fromPath(t);this.mutations.push(new bv(n,this.precondition(n)))})),await async function(e,t){const n=gp(e),r=ow(n.serializer)+"/documents",i={writes:t.map((e=>uw(n.serializer,e)))};await n.wo("Commit",r,i)}(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw pp();t=Rp.min()}const n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new vp(yp.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(Rp.min())?ov.exists(!1):ov.updateTime(t):ov.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Rp.min()))throw new vp(yp.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return ov.updateTime(t)}return ov.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class LE{constructor(e,t,n,r,i){this.asyncQueue=e,this.datastore=t,this.options=n,this.updateFunction=r,this.deferred=i,this.Wa=n.maxAttempts,this.zo=new X_(this.asyncQueue,"transaction_retry")}run(){this.Wa-=1,this.Ga()}Ga(){this.zo.ko((async()=>{const e=new ME(this.datastore),t=this.za(e);t&&t.then((t=>{this.asyncQueue.enqueueAndForget((()=>e.commit().then((()=>{this.deferred.resolve(t)})).catch((e=>{this.ja(e)}))))})).catch((e=>{this.ja(e)}))}))}za(e){try{const t=this.updateFunction(e);return!dm(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}ja(e){this.Wa>0&&this.Ha(e)?(this.Wa-=1,this.asyncQueue.enqueueAndForget((()=>(this.Ga(),Promise.resolve())))):this.deferred.reject(e)}Ha(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!Iv(t)}return!1}}class jE{constructor(e,t,n,r){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=op.UNAUTHENTICATED,this.clientId=Np.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(n,(async e=>{up("FirestoreClient","Received user=",e.uid),await this.authCredentialListener(e),this.user=e})),this.appCheckCredentials.start(n,(e=>(up("FirestoreClient","Received new app check token=",e),this.appCheckCredentialListener(e,this.user))))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new vp(yp.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new wp;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=PS(t,"Failed to shutdown persistence");e.reject(n)}})),e.promise}}async function FE(e,t){e.asyncQueue.verifyOperationInProgress(),up("FirestoreClient","Initializing OfflineComponentProvider");const n=await e.getConfiguration();await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener((async e=>{r.isEqual(e)||(await v_(t.localStore,e),r=e)})),t.persistence.setDatabaseDeletedListener((()=>e.terminate())),e._offlineComponents=t}async function UE(e,t){e.asyncQueue.verifyOperationInProgress();const n=await zE(e);up("FirestoreClient","Initializing OnlineComponentProvider");const r=await e.getConfiguration();await t.initialize(n,r),e.setCredentialChangeListener((e=>IS(t.remoteStore,e))),e.setAppCheckTokenChangeListener(((e,n)=>IS(t.remoteStore,n))),e._onlineComponents=t}function VE(e){return"FirebaseError"===e.name?e.code===yp.FAILED_PRECONDITION||e.code===yp.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}async function zE(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){up("FirestoreClient","Using user provided OfflineComponentProvider");try{await FE(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!VE(n))throw n;hp("Error using user provided cache. Falling back to memory cache: "+n),await FE(e,new CE)}}else up("FirestoreClient","Using default OfflineComponentProvider"),await FE(e,new CE);return e._offlineComponents}async function BE(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(up("FirestoreClient","Using user provided OnlineComponentProvider"),await UE(e,e._uninitializedComponentsProvider._online)):(up("FirestoreClient","Using default OnlineComponentProvider"),await UE(e,new OE))),e._onlineComponents}function qE(e){return zE(e).then((e=>e.persistence))}function WE(e){return zE(e).then((e=>e.localStore))}function GE(e){return BE(e).then((e=>e.remoteStore))}function HE(e){return BE(e).then((e=>e.syncEngine))}function YE(e){return BE(e).then((e=>e.datastore))}async function KE(e){const t=await BE(e),n=t.eventManager;return n.onListen=eE.bind(null,t.syncEngine),n.onUnlisten=nE.bind(null,t.syncEngine),n}function QE(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new wp;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const s=new DE({next:s=>{t.enqueueAndForget((()=>US(e,o)));const a=s.docs.has(n);!a&&s.fromCache?i.reject(new vp(yp.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&s.fromCache&&r&&"server"===r.source?i.reject(new vp(yp.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(s)},error:e=>i.reject(e)}),o=new qS(py(n.path),s,{includeMetadataChanges:!0,J_:!0});return FS(e,o)}(await KE(e),e.asyncQueue,t,n,r))),r.promise}function XE(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new wp;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const s=new DE({next:n=>{t.enqueueAndForget((()=>US(e,o))),n.fromCache&&"server"===r.source?i.reject(new vp(yp.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:e=>i.reject(e)}),o=new qS(n,s,{includeMetadataChanges:!0,J_:!0});return FS(e,o)}(await KE(e),e.asyncQueue,t,n,r))),r.promise}function JE(e,t,n,r){const i=function(e,t){let n;return n="string"==typeof e?Av().encode(e):e,function(e,t){return new RE(e,t)}(function(e,t){if(e instanceof Uint8Array)return PE(e,t);if(e instanceof ArrayBuffer)return PE(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(n),t)}(n,Q_(t));e.asyncQueue.enqueueAndForget((async()=>{!function(e,t,n){const r=gp(e);(async function(e,t,n){try{const r=await t.getMetadata();if(await function(e,t){const n=gp(e),r=Zv(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(e=>n.Kr.getBundleMetadata(e,t.id))).then((e=>!!e&&e.createTime.compareTo(r)>=0))}(e.localStore,r))return await t.close(),n._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(r)),Promise.resolve(new Set);n._updateProgress(YS(r));const i=new HS(r,e.localStore,t.serializer);let s=await t.Ma();for(;s;){const e=await i.ea(s);e&&n._updateProgress(e),s=await t.Ma()}const o=await i.complete();return await mE(e,o.ra,void 0),await function(e,t){const n=gp(e);return n.persistence.runTransaction("Save bundle","readwrite",(e=>n.Kr.saveBundleMetadata(e,t)))}(e.localStore,r),n._completeWith(o.progress),Promise.resolve(o.na)}catch(e){return hp("SyncEngine","Loading bundle failed with ".concat(e)),n._failWith(e),Promise.resolve(new Set)}})(r,t,n).then((e=>{r.sharedClientState.notifyBundleLoaded(e)}))}(await HE(e),i,r)}))}function $E(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}const ZE=new Map;function ex(e,t,n){if(!n)throw new vp(yp.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function tx(e,t,n,r){if(!0===t&&!0===r)throw new vp(yp.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}function nx(e){if(!Up.isDocumentKey(e))throw new vp(yp.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function rx(e){if(Up.isDocumentKey(e))throw new vp(yp.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function ix(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}}return"function"==typeof e?"a function":pp()}function sx(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new vp(yp.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=ix(e);throw new vp(yp.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}}return e}function ox(e,t){if(t<=0)throw new vp(yp.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}class ax{constructor(e){var t,n;if(void 0===e.host){if(void 0!==e.ssl)throw new vp(yp.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new vp(yp.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}tx("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=$E(null!==(n=e.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new vp(yp.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (must not be NaN)"));if(e.timeoutSeconds<5)throw new vp(yp.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (minimum allowed value is 5)"));if(e.timeoutSeconds>30)throw new vp(yp.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (maximum allowed value is 30)"))}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(e,t){return e.timeoutSeconds===t.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class lx{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ax({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new vp(yp.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new vp(yp.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ax(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new _p;switch(e.type){case"firstParty":return new Tp(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new vp(yp.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=ZE.get(e);t&&(up("ComponentProvider","Removing Datastore"),ZE.delete(e),t.terminate())}(this),Promise.resolve()}}function cx(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};var i;const s=(e=sx(e,lx))._getSettings(),o="".concat(t,":").concat(n);if("firestore.googleapis.com"!==s.host&&s.host!==o&&hp("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=op.MOCK_USER;else{t=function(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[Kn(JSON.stringify({alg:"none",type:"JWT"})),Kn(JSON.stringify(s)),""].join(".")}(r.mockUserToken,null===(i=e._app)||void 0===i?void 0:i.options.projectId);const s=r.mockUserToken.sub||r.mockUserToken.user_id;if(!s)throw new vp(yp.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new op(s)}e._authCredentials=new Sp(new bp(t,n))}}class ux{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new ux(this.firestore,e,this._query)}}class dx{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new hx(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new dx(this.firestore,e,this._key)}}class hx extends ux{constructor(e,t,n){super(e,t,py(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new dx(this.firestore,null,new Up(e))}withConverter(e){return new hx(this.firestore,e,this._path)}}function fx(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=wr(e),ex("collection","path",t),e instanceof lx){const n=Lp.fromString(t,...r);return rx(n),new hx(e,null,n)}{if(!(e instanceof dx||e instanceof hx))throw new vp(yp.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(Lp.fromString(t,...r));return rx(n),new hx(e.firestore,null,n)}}function px(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=wr(e),1===arguments.length&&(t=Np.newId()),ex("doc","path",t),e instanceof lx){const n=Lp.fromString(t,...r);return nx(n),new dx(e,null,new Up(n))}{if(!(e instanceof dx||e instanceof hx))throw new vp(yp.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(Lp.fromString(t,...r));return nx(n),new dx(e.firestore,e instanceof hx?e.converter:null,new Up(n))}}function mx(e,t){return e=wr(e),t=wr(t),(e instanceof dx||e instanceof hx)&&(t instanceof dx||t instanceof hx)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function gx(e,t){return e=wr(e),t=wr(t),e instanceof ux&&t instanceof ux&&e.firestore===t.firestore&&Sy(e._query,t._query)&&e.converter===t.converter}class yx{constructor(){this.Ja=Promise.resolve(),this.Ya=[],this.Za=!1,this.Xa=[],this.eu=null,this.tu=!1,this.nu=!1,this.ru=[],this.zo=new X_(this,"async_queue_retry"),this.iu=()=>{const e=K_();e&&up("AsyncQueue","Visibility state changed to "+e.visibilityState),this.zo.Qo()};const e=K_();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.iu)}get isShuttingDown(){return this.Za}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.su(),this.ou(e)}enterRestrictedMode(e){if(!this.Za){this.Za=!0,this.nu=e||!1;const t=K_();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.iu)}}enqueue(e){if(this.su(),this.Za)return new Promise((()=>{}));const t=new wp;return this.ou((()=>this.Za&&this.nu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Ya.push(e),this._u())))}async _u(){if(0!==this.Ya.length){try{await this.Ya[0](),this.Ya.shift(),this.zo.reset()}catch(e){if(!rm(e))throw e;up("AsyncQueue","Operation failed with retryable error: "+e)}this.Ya.length>0&&this.zo.ko((()=>this._u()))}}ou(e){const t=this.Ja.then((()=>(this.tu=!0,e().catch((e=>{this.eu=e,this.tu=!1;const t=function(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw dp("INTERNAL UNHANDLED ERROR: ",t),e})).then((e=>(this.tu=!1,e))))));return this.Ja=t,t}enqueueAfterDelay(e,t,n){this.su(),this.ru.indexOf(e)>-1&&(t=0);const r=OS.createAndSchedule(this,e,t,n,(e=>this.au(e)));return this.Xa.push(r),r}su(){this.eu&&pp()}verifyOperationInProgress(){}async uu(){let e;do{e=this.Ja,await e}while(e!==this.Ja)}cu(e){for(const t of this.Xa)if(t.timerId===e)return!0;return!1}lu(e){return this.uu().then((()=>{this.Xa.sort(((e,t)=>e.targetTimeMs-t.targetTimeMs));for(const t of this.Xa)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.uu()}))}hu(e){this.ru.push(e)}au(e){const t=this.Xa.indexOf(e);this.Xa.splice(t,1)}}function vx(e){return function(e,t){if("object"!=typeof e||null===e)return!1;const n=e;for(const r of t)if(r in n&&"function"==typeof n[r])return!0;return!1}(e,["next","error","complete"])}class wx{constructor(){this._progressObserver={},this._taskCompletionResolver=new wp,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,n){this._progressObserver={next:e,error:t,complete:n}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class bx extends lx{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new yx,this._persistenceKey=(null==r?void 0:r.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||Sx(this),this._firestoreClient.terminate()}}function _x(e){return e._firestoreClient||Sx(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function Sx(e){var t,n,r;const i=e._freezeSettings(),s=function(e,t,n,r){return new lg(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,$E(r.experimentalLongPollingOptions),r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,i);e._firestoreClient=new jE(e._authCredentials,e._appCheckCredentials,e._queue,s),(null===(n=i.localCache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=i.localCache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}function Ex(e,t,n){const r=new wp;return e.asyncQueue.enqueue((async()=>{try{await FE(e,n),await UE(e,t),r.resolve()}catch(e){const n=e;if(!VE(n))throw n;hp("Error enabling indexeddb cache. Falling back to memory cache: "+n),r.reject(n)}})).then((()=>r.promise))}function xx(e){return function(e){const t=new wp;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t){const n=gp(e);dS(n.remoteStore)||up("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const e=await function(e){const t=gp(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(e=>t.mutationQueue.getHighestUnacknowledgedBatchId(e)))}(n.localStore);if(-1===e)return void t.resolve();const r=n.ba.get(e)||[];r.push(t),n.ba.set(e,r)}catch(e){const n=PS(e,"Initialization of waitForPendingWrites() operation failed");t.reject(n)}}(await HE(e),t))),t.promise}(_x(e=sx(e,bx)))}function Tx(e){return function(e){return e.asyncQueue.enqueue((async()=>{const t=await qE(e),n=await GE(e);return t.setNetworkEnabled(!0),function(e){const t=gp(e);return t.C_.delete(0),rS(t)}(n)}))}(_x(e=sx(e,bx)))}function kx(e){return function(e){return e.asyncQueue.enqueue((async()=>{const t=await qE(e),n=await GE(e);return t.setNetworkEnabled(!1),async function(e){const t=gp(e);t.C_.add(0),await iS(t),t.M_.set("Offline")}(n)}))}(_x(e=sx(e,bx)))}function Ix(e,t){return function(e,t){return e.asyncQueue.enqueue((async()=>function(e,t){const n=gp(e);return n.persistence.runTransaction("Get named query","readonly",(e=>n.Kr.getNamedQuery(e,t)))}(await WE(e),t)))}(_x(e=sx(e,bx)),t).then((t=>t?new ux(e,null,t.query):null))}function Cx(e){if(e._initialized||e._terminated)throw new vp(yp.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Nx{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Nx(eg.fromBase64String(e))}catch(e){throw new vp(yp.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new Nx(eg.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Ax{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(let r=0;r<t.length;++r)if(0===t[r].length)throw new vp(yp.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Fp(t)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Ox{constructor(e){this._methodName=e}}class Px{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new vp(yp.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new vp(yp.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ap(this._lat,e._lat)||Ap(this._long,e._long)}}const Dx=/^__.*__$/;class Rx{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new mv(e,this.data,this.fieldMask,t,this.fieldTransforms):new pv(e,this.data,t,this.fieldTransforms)}}class Mx{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new mv(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function Lx(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw pp()}}class jx{constructor(e,t,n,r,i,s){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Pu(),this.fieldTransforms=i||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Iu(){return this.settings.Iu}Tu(e){return new jx(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Eu(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Tu({path:n,du:!1});return r.Au(e),r}Ru(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Tu({path:n,du:!1});return r.Pu(),r}Vu(e){return this.Tu({path:void 0,du:!0})}mu(e){return rT(e,this.settings.methodName,this.settings.fu||!1,this.path,this.settings.gu)}contains(e){return void 0!==this.fieldMask.find((t=>e.isPrefixOf(t)))||void 0!==this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))}Pu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Au(this.path.get(e))}Au(e){if(0===e.length)throw this.mu("Document fields must not be empty");if(Lx(this.Iu)&&Dx.test(e))throw this.mu('Document fields cannot begin and end with "__"')}}class Fx{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||Q_(e)}pu(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new jx({Iu:e,methodName:t,gu:n,path:Fp.emptyPath(),du:!1,fu:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Ux(e){const t=e._freezeSettings(),n=Q_(e._databaseId);return new Fx(e._databaseId,!!t.ignoreUndefinedProperties,n)}function Vx(e,t,n,r,i){let s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const o=e.pu(s.merge||s.mergeFields?2:0,t,n,i);Zx("Data must be an object, but it was:",o,r);const a=Jx(r,o);let l,c;if(s.merge)l=new $m(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const e=[];for(const r of s.mergeFields){const i=eT(t,r,n);if(!o.contains(i))throw new vp(yp.INVALID_ARGUMENT,"Field '".concat(i,"' is specified in your field mask but missing from your input data."));iT(e,i)||e.push(i)}l=new $m(e),c=o.fieldTransforms.filter((e=>l.covers(e.field)))}else l=null,c=o.fieldTransforms;return new Rx(new Og(a),l,c)}class zx extends Ox{_toFieldTransform(e){if(2!==e.Iu)throw 1===e.Iu?e.mu("".concat(this._methodName,"() can only appear at the top level of your update data")):e.mu("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof zx}}function Bx(e,t,n){return new jx({Iu:3,gu:t.settings.gu,methodName:e._methodName,du:n},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class qx extends Ox{_toFieldTransform(e){return new iv(e.path,new Xy)}isEqual(e){return e instanceof qx}}class Wx extends Ox{constructor(e,t){super(e),this.yu=t}_toFieldTransform(e){const t=Bx(this,e,!0),n=this.yu.map((e=>Xx(e,t))),r=new Jy(n);return new iv(e.path,r)}isEqual(e){return this===e}}class Gx extends Ox{constructor(e,t){super(e),this.yu=t}_toFieldTransform(e){const t=Bx(this,e,!0),n=this.yu.map((e=>Xx(e,t))),r=new Zy(n);return new iv(e.path,r)}isEqual(e){return this===e}}class Hx extends Ox{constructor(e,t){super(e),this.wu=t}_toFieldTransform(e){const t=new tv(e.serializer,Gy(e.serializer,this.wu));return new iv(e.path,t)}isEqual(e){return this===e}}function Yx(e,t,n,r){const i=e.pu(1,t,n);Zx("Data must be an object, but it was:",i,r);const s=[],o=Og.empty();Wm(r,((e,r)=>{const a=nT(t,e,n);r=wr(r);const l=i.Ru(a);if(r instanceof zx)s.push(a);else{const e=Xx(r,l);null!=e&&(s.push(a),o.set(a,e))}}));const a=new $m(s);return new Mx(o,a,i.fieldTransforms)}function Kx(e,t,n,r,i,s){const o=e.pu(1,t,n),a=[eT(t,r,n)],l=[i];if(s.length%2!=0)throw new vp(yp.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(let h=0;h<s.length;h+=2)a.push(eT(t,s[h])),l.push(s[h+1]);const c=[],u=Og.empty();for(let h=a.length-1;h>=0;--h)if(!iT(c,a[h])){const e=a[h];let t=l[h];t=wr(t);const n=o.Ru(e);if(t instanceof zx)c.push(e);else{const r=Xx(t,n);null!=r&&(c.push(e),u.set(e,r))}}const d=new $m(c);return new Mx(u,d,o.fieldTransforms)}function Qx(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return Xx(n,e.pu(r?4:3,t))}function Xx(e,t){if($x(e=wr(e)))return Zx("Unsupported field value:",t,e),Jx(e,t);if(e instanceof Ox)return function(e,t){if(!Lx(t.Iu))throw t.mu("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.mu("".concat(e._methodName,"() is not currently supported inside arrays"));const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.du&&4!==t.Iu)throw t.mu("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const i of e){let e=Xx(i,t.Vu(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=wr(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return Gy(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=Dp.fromDate(e);return{timestampValue:Xv(t.serializer,n)}}if(e instanceof Dp){const n=new Dp(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Xv(t.serializer,n)}}if(e instanceof Px)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof Nx)return{bytesValue:Jv(t.serializer,e._byteString)};if(e instanceof dx){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t.mu("Document reference is for database ".concat(r.projectId,"/").concat(r.database," but should be for database ").concat(n.projectId,"/").concat(n.database));return{referenceValue:ew(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.mu("Unsupported field value: ".concat(ix(e)))}(e,t)}function Jx(e,t){const n={};return Gm(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Wm(e,((e,r)=>{const i=Xx(r,t.Eu(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function $x(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Dp||e instanceof Px||e instanceof Nx||e instanceof dx||e instanceof Ox)}function Zx(e,t,n){if(!$x(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){const r=ix(n);throw"an object"===r?t.mu(e+" a custom object"):t.mu(e+" "+r)}}function eT(e,t,n){if((t=wr(t))instanceof Ax)return t._internalPath;if("string"==typeof t)return nT(e,t);throw rT("Field path arguments must be of type string or ",e,!1,void 0,n)}const tT=new RegExp("[~\\*/\\[\\]]");function nT(e,t,n){if(t.search(tT)>=0)throw rT("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return new Ax(...t.split("."))._internalPath}catch($c){throw rT("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function rT(e,t,n,r,i){const s=r&&!r.isEmpty(),o=void 0!==i;let a="Function ".concat(t,"() called with invalid data");n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=" in field ".concat(r)),o&&(l+=" in document ".concat(i)),l+=")"),new vp(yp.INVALID_ARGUMENT,a+e+l)}function iT(e,t){return e.some((e=>e.isEqual(t)))}class sT{constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new dx(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new oT(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(aT("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class oT extends sT{data(){return super.data()}}function aT(e,t){return"string"==typeof t?nT(e,t):t instanceof Ax?t._internalPath:t._delegate._internalPath}function lT(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new vp(yp.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class cT{}class uT extends cT{}function dT(e,t){let n=[];for(var r=arguments.length,i=new Array(r>2?r-2:0),s=2;s<r;s++)i[s-2]=arguments[s];t instanceof cT&&n.push(t),n=n.concat(i),function(e){const t=e.filter((e=>e instanceof fT)).length,n=e.filter((e=>e instanceof hT)).length;if(t>1||t>0&&n>0)throw new vp(yp.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const o of n)e=o._apply(e);return e}class hT extends uT{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new hT(e,t,n)}_apply(e){const t=this._parse(e);return _T(e._query,t),new ux(e.firestore,e.converter,by(e._query,t))}_parse(e){const t=Ux(e.firestore),n=function(e,t,n,r,i,s,o){let a;if(i.isKeyField()){if("array-contains"===s||"array-contains-any"===s)throw new vp(yp.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(s,"' queries on documentId()."));if("in"===s||"not-in"===s){bT(o,s);const t=[];for(const n of o)t.push(wT(r,e,n));a={arrayValue:{values:t}}}else a=wT(r,e,o)}else"in"!==s&&"not-in"!==s&&"array-contains-any"!==s||bT(o,s),a=Qx(n,t,o,"in"===s||"not-in"===s);return Vg.create(i,s,a)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value);return n}}class fT extends cT{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new fT(e,t)}_parse(e){const t=this._queryConstraints.map((t=>t._parse(e))).filter((e=>e.getFilters().length>0));return 1===t.length?t[0]:zg.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){let n=e;const r=t.getFlattenedFilters();for(const i of r)_T(n,i),n=by(n,i)}(e._query,t),new ux(e.firestore,e.converter,by(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class pT extends uT{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new pT(e,t)}_apply(e){const t=function(e,t,n){if(null!==e.startAt)throw new vp(yp.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new vp(yp.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new jg(t,n)}(e._query,this._field,this._direction);return new ux(e.firestore,e.converter,function(e,t){const n=e.explicitOrderBy.concat([t]);return new hy(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}class mT extends uT{constructor(e,t,n){super(),this.type=e,this._limit=t,this._limitType=n}static _create(e,t,n){return new mT(e,t,n)}_apply(e){return new ux(e.firestore,e.converter,_y(e._query,this._limit,this._limitType))}}class gT extends uT{constructor(e,t,n){super(),this.type=e,this._docOrFields=t,this._inclusive=n}static _create(e,t,n){return new gT(e,t,n)}_apply(e){const t=vT(e,this.type,this._docOrFields,this._inclusive);return new ux(e.firestore,e.converter,function(e,t){return new hy(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}class yT extends uT{constructor(e,t,n){super(),this.type=e,this._docOrFields=t,this._inclusive=n}static _create(e,t,n){return new yT(e,t,n)}_apply(e){const t=vT(e,this.type,this._docOrFields,this._inclusive);return new ux(e.firestore,e.converter,function(e,t){return new hy(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}function vT(e,t,n,r){if(n[0]=wr(n[0]),n[0]instanceof sT)return function(e,t,n,r,i){if(!r)throw new vp(yp.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for ".concat(n,"()."));const s=[];for(const o of yy(e))if(o.field.isKeyField())s.push(wg(t,r.key));else{const e=r.data.field(o.field);if(sg(e))throw new vp(yp.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+o.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===e){const e=o.field.canonicalString();throw new vp(yp.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '".concat(e,"' (used as the orderBy) does not exist."))}s.push(e)}return new Rg(s,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);{const i=Ux(e.firestore);return function(e,t,n,r,i,s){const o=e.explicitOrderBy;if(i.length>o.length)throw new vp(yp.INVALID_ARGUMENT,"Too many arguments provided to ".concat(r,"(). The number of arguments must be less than or equal to the number of orderBy() clauses"));const a=[];for(let l=0;l<i.length;l++){const s=i[l];if(o[l].field.isKeyField()){if("string"!=typeof s)throw new vp(yp.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in ".concat(r,"(), but got a ").concat(typeof s));if(!gy(e)&&-1!==s.indexOf("/"))throw new vp(yp.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by documentId(), the value passed to ".concat(r,"() must be a plain document ID, but '").concat(s,"' contains a slash."));const n=e.path.child(Lp.fromString(s));if(!Up.isDocumentKey(n))throw new vp(yp.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by documentId(), the value passed to ".concat(r,"() must result in a valid document path, but '").concat(n,"' is not because it contains an odd number of segments."));const i=new Up(n);a.push(wg(t,i))}else{const e=Qx(n,r,s);a.push(e)}}return new Rg(a,s)}(e._query,e.firestore._databaseId,i,t,n,r)}}function wT(e,t,n){if("string"==typeof(n=wr(n))){if(""===n)throw new vp(yp.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!gy(t)&&-1!==n.indexOf("/"))throw new vp(yp.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));const r=t.path.child(Lp.fromString(n));if(!Up.isDocumentKey(r))throw new vp(yp.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return wg(e,new Up(r))}if(n instanceof dx)return wg(e,n._key);throw new vp(yp.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(ix(n),"."))}function bT(e,t){if(!Array.isArray(e)||0===e.length)throw new vp(yp.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."))}function _T(e,t){const n=function(e,t){for(const n of e)for(const e of n.getFlattenedFilters())if(t.indexOf(e.op)>=0)return e.op;return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==n)throw n===t.op?new vp(yp.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new vp(yp.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(n.toString(),"' filters."))}class ST{convertValue(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(hg(e)){case 0:return null;case 1:return e.booleanValue;case 2:return rg(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(ig(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw pp()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";const n={};return Wm(e,((e,r)=>{n[e]=this.convertValue(r,t)})),n}convertGeoPoint(e){return new Px(rg(e.latitude),rg(e.longitude))}convertArray(e,t){return(e.values||[]).map((e=>this.convertValue(e,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const n=og(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(ag(e));default:return null}}convertTimestamp(e){const t=ng(e);return new Dp(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=Lp.fromString(e);mp(Ew(n));const r=new cg(n.get(1),n.get(3)),i=new Up(n.popFirst(5));return r.isEqual(t)||dp("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}function ET(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class xT extends ST{constructor(e){super(),this.firestore=e}convertBytes(e){return new Nx(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new dx(this.firestore,null,t)}}class TT{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class kT extends sT{constructor(e,t,n,r,i,s){super(e,t,n,r,s),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){const t=new IT(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){const n=this._document.data.field(aT("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class IT extends kT{data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return super.data(e)}}class CT{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new TT(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach((n=>{e.call(t,new IT(this._firestore,this._userDataWriter,n.key,n,new TT(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(){const e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new vp(yp.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map((n=>{const r=new IT(e._firestore,e._userDataWriter,n.doc.key,n.doc,new TT(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:"added",doc:r,oldIndex:-1,newIndex:t++}}))}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((e=>t||3!==e.type)).map((t=>{const r=new IT(e._firestore,e._userDataWriter,t.doc.key,t.doc,new TT(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let i=-1,s=-1;return 0!==t.type&&(i=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),s=n.indexOf(t.doc.key)),{type:NT(t.type),doc:r,oldIndex:i,newIndex:s}}))}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function NT(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return pp()}}function AT(e,t){return e instanceof kT&&t instanceof kT?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof CT&&t instanceof CT&&e._firestore===t._firestore&&gx(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}class OT extends ST{constructor(e){super(),this.firestore=e}convertBytes(e){return new Nx(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new dx(this.firestore,null,t)}}function PT(e){e=sx(e,dx);const t=sx(e.firestore,bx),n=_x(t),r=new OT(t);return function(e,t){const n=new wp;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){try{const r=await function(e,t){const n=gp(e);return n.persistence.runTransaction("read document","readonly",(e=>n.localDocuments.getDocument(e,t)))}(e,t);r.isFoundDocument()?n.resolve(r):r.isNoDocument()?n.resolve(null):n.reject(new vp(yp.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(e){const r=PS(e,"Failed to get document '".concat(t," from cache"));n.reject(r)}}(await WE(e),t,n))),n.promise}(n,e._key).then((n=>new kT(t,r,e._key,n,new TT(null!==n&&n.hasLocalMutations,!0),e.converter)))}function DT(e){e=sx(e,ux);const t=sx(e.firestore,bx),n=_x(t),r=new OT(t);return function(e,t){const n=new wp;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){try{const r=await x_(e,t,!0),i=new XS(t,r.ls),s=i.ca(r.documents),o=i.applyChanges(s,!1);n.resolve(o.snapshot)}catch(e){const r=PS(e,"Failed to execute query '".concat(t," against cache"));n.reject(r)}}(await WE(e),t,n))),n.promise}(n,e._query).then((n=>new CT(t,r,e,n)))}function RT(e,t,n){e=sx(e,dx);const r=sx(e.firestore,bx),i=ET(e.converter,t,n);return FT(r,[Vx(Ux(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,ov.none())])}function MT(e,t,n){e=sx(e,dx);const r=sx(e.firestore,bx),i=Ux(r);let s;for(var o=arguments.length,a=new Array(o>3?o-3:0),l=3;l<o;l++)a[l-3]=arguments[l];return s="string"==typeof(t=wr(t))||t instanceof Ax?Kx(i,"updateDoc",e._key,t,n,a):Yx(i,"updateDoc",e._key,t),FT(r,[s.toMutation(e._key,ov.exists(!0))])}function LT(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,s,o;e=wr(e);let a={includeMetadataChanges:!1},l=0;"object"!=typeof n[l]||vx(n[l])||(a=n[l],l++);const c={includeMetadataChanges:a.includeMetadataChanges};if(vx(n[l])){const e=n[l];n[l]=null===(i=e.next)||void 0===i?void 0:i.bind(e),n[l+1]=null===(s=e.error)||void 0===s?void 0:s.bind(e),n[l+2]=null===(o=e.complete)||void 0===o?void 0:o.bind(e)}let u,d,h;if(e instanceof dx)d=sx(e.firestore,bx),h=py(e._key.path),u={next:t=>{n[l]&&n[l](UT(d,e,t))},error:n[l+1],complete:n[l+2]};else{const t=sx(e,ux);d=sx(t.firestore,bx),h=t._query;const r=new OT(d);u={next:e=>{n[l]&&n[l](new CT(d,r,t,e))},error:n[l+1],complete:n[l+2]},lT(e._query)}return function(e,t,n,r){const i=new DE(r),s=new qS(t,i,n);return e.asyncQueue.enqueueAndForget((async()=>FS(await KE(e),s))),()=>{i.Na(),e.asyncQueue.enqueueAndForget((async()=>US(await KE(e),s)))}}(_x(d),h,c,u)}function jT(e,t){return function(e,t){const n=new DE(t);return e.asyncQueue.enqueueAndForget((async()=>function(e,t){gp(e).q_.add(t),t.next()}(await KE(e),n))),()=>{n.Na(),e.asyncQueue.enqueueAndForget((async()=>function(e,t){gp(e).q_.delete(t)}(await KE(e),n)))}}(_x(e=sx(e,bx)),vx(t)?t:{next:t})}function FT(e,t){return function(e,t){const n=new wp;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){const r=IE(e);try{const e=await function(e,t){const n=gp(e),r=Dp.now(),i=t.reduce(((e,t)=>e.add(t.key)),Vy());let s,o;return n.persistence.runTransaction("Locally write mutations","readwrite",(e=>{let a=Oy(),l=Vy();return n.ss.getEntries(e,i).next((e=>{a=e,a.forEach(((e,t)=>{t.isValidDocument()||(l=l.add(e))}))})).next((()=>n.localDocuments.getOverlayedDocuments(e,a))).next((i=>{s=i;const o=[];for(const e of t){const t=hv(e,s.get(e.key).overlayedDocument);null!=t&&o.push(new mv(e.key,t,Pg(t.value.mapValue),ov.exists(!0)))}return n.mutationQueue.addMutationBatch(e,r,o,t)})).next((t=>{o=t;const r=t.applyToLocalDocumentSet(s,l);return n.documentOverlayCache.saveOverlays(e,t.batchId,r)}))})).then((()=>({batchId:o.batchId,changes:Ry(s)})))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.Sa[e.currentUser.toKey()];r||(r=new Hm(Ap)),r=r.insert(t,n),e.Sa[e.currentUser.toKey()]=r}(r,e.batchId,n),await mE(r,e.changes),await vS(r.remoteStore)}catch(e){const t=PS(e,"Failed to persist write");n.reject(t)}}(await HE(e),t,n))),n.promise}(_x(e),t)}function UT(e,t,n){const r=n.docs.get(t._key),i=new OT(e);return new kT(e,i,t._key,r,new TT(n.hasPendingWrites,n.fromCache),t.converter)}const VT={maxAttempts:5};class zT{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Ux(e)}set(e,t,n){this._verifyNotCommitted();const r=BT(e,this._firestore),i=ET(r.converter,t,n),s=Vx(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(s.toMutation(r._key,ov.none())),this}update(e,t,n){this._verifyNotCommitted();const r=BT(e,this._firestore);let i;for(var s=arguments.length,o=new Array(s>3?s-3:0),a=3;a<s;a++)o[a-3]=arguments[a];return i="string"==typeof(t=wr(t))||t instanceof Ax?Kx(this._dataReader,"WriteBatch.update",r._key,t,n,o):Yx(this._dataReader,"WriteBatch.update",r._key,t),this._mutations.push(i.toMutation(r._key,ov.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=BT(e,this._firestore);return this._mutations=this._mutations.concat(new wv(t._key,ov.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new vp(yp.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function BT(e,t){if((e=wr(e)).firestore!==t)throw new vp(yp.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}class qT extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=Ux(e)}get(e){const t=BT(e,this._firestore),n=new xT(this._firestore);return this._transaction.lookup([t._key]).then((e=>{if(!e||1!==e.length)return pp();const r=e[0];if(r.isFoundDocument())return new sT(this._firestore,n,r.key,r,t.converter);if(r.isNoDocument())return new sT(this._firestore,n,t._key,null,t.converter);throw pp()}))}set(e,t,n){const r=BT(e,this._firestore),i=ET(r.converter,t,n),s=Vx(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,s),this}update(e,t,n){const r=BT(e,this._firestore);let i;for(var s=arguments.length,o=new Array(s>3?s-3:0),a=3;a<s;a++)o[a-3]=arguments[a];return i="string"==typeof(t=wr(t))||t instanceof Ax?Kx(this._dataReader,"Transaction.update",r._key,t,n,o):Yx(this._dataReader,"Transaction.update",r._key,t),this._transaction.update(r._key,i),this}delete(e){const t=BT(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=BT(e,this._firestore),n=new OT(this._firestore);return super.get(e).then((e=>new kT(this._firestore,n,t._key,e._document,new TT(!1,!1),t.converter)))}}new WeakMap;!function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){ap=e}(ui),ii(new br("firestore",((e,n)=>{let{instanceIdentifier:r,options:i}=n;const s=e.getProvider("app").getImmediate(),o=new bx(new Ep(e.getProvider("auth-internal")),new Ip(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new vp(yp.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new cg(e.options.projectId,t)}(s,r),s);return i=Object.assign({useFetchStreams:t},i),o._setSettings(i),o}),"PUBLIC").setMultipleInstances(!0)),mi(sp,"4.4.0",e),mi(sp,"4.4.0","esm2017")}();function WT(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new vp("invalid-argument","Invalid options passed to function ".concat(e,"(): You cannot ")+'specify both "merge" and "mergeFields".');return t}function GT(){if("undefined"===typeof Uint8Array)throw new vp("unimplemented","Uint8Arrays are not available in this environment.")}function HT(){if("undefined"==typeof atob)throw new vp("unimplemented","Blobs are unavailable in Firestore in this environment.")}class YT{constructor(e){this._delegate=e}static fromBase64String(e){return HT(),new YT(Nx.fromBase64String(e))}static fromUint8Array(e){return GT(),new YT(Nx.fromUint8Array(e))}toBase64(){return HT(),this._delegate.toBase64()}toUint8Array(){return GT(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function KT(e){return function(e,t){if("object"!==typeof e||null===e)return!1;const n=e;for(const r of t)if(r in n&&"function"===typeof n[r])return!0;return!1}(e,["next","error","complete"])}class QT{enableIndexedDbPersistence(e,t){return function(e,t){Cx(e=sx(e,bx));const n=_x(e);if(n._uninitializedComponentsProvider)throw new vp(yp.FAILED_PRECONDITION,"SDK cache is already specified.");hp("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const r=e._freezeSettings(),i=new OE;return Ex(n,i,new NE(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function(e){Cx(e=sx(e,bx));const t=_x(e);if(t._uninitializedComponentsProvider)throw new vp(yp.FAILED_PRECONDITION,"SDK cache is already specified.");hp("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const n=e._freezeSettings(),r=new OE;return Ex(t,r,new AE(r,n.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function(e){if(e._initialized&&!e._terminated)throw new vp(yp.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const t=new wp;return e._queue.enqueueAndForgetEvenWhileRestricted((async()=>{try{await async function(e){if(!em.D())return Promise.resolve();const t=e+"main";await em.delete(t)}(h_(e._databaseId,e._persistenceKey)),t.resolve()}catch(e){t.reject(e)}})),t.promise}(e._delegate)}}class XT{constructor(e,t,n){this._delegate=t,this._persistenceProvider=n,this.INTERNAL={delete:()=>this.terminate()},e instanceof cg||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();e.merge||t.host===e.host||hp("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};cx(this._delegate,e,t,n)}enableNetwork(){return Tx(this._delegate)}disableNetwork(){return kx(this._delegate)}enablePersistence(e){let t=!1,n=!1;return e&&(t=!!e.synchronizeTabs,n=!!e.experimentalForceOwningTab,tx("synchronizeTabs",t,"experimentalForceOwningTab",n)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return xx(this._delegate)}onSnapshotsInSync(e){return jT(this._delegate,e)}get app(){if(!this._appCompat)throw new vp("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new uk(this,fx(this._delegate,e))}catch(t){throw nk(t,"collection()","Firestore.collection()")}}doc(e){try{return new tk(this,px(this._delegate,e))}catch(t){throw nk(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new ak(this,function(e,t){if(e=sx(e,lx),ex("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new vp(yp.INVALID_ARGUMENT,"Invalid collection ID '".concat(t,"' passed to function collectionGroup(). Collection IDs must not contain '/'."));return new ux(e,null,function(e){return new hy(Lp.emptyPath(),e)}(t))}(this._delegate,e))}catch(t){throw nk(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function(e,t,n){e=sx(e,bx);const r=Object.assign(Object.assign({},VT),n);return function(e){if(e.maxAttempts<1)throw new vp(yp.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(e,t,n){const r=new wp;return e.asyncQueue.enqueueAndForget((async()=>{const i=await YE(e);new LE(e.asyncQueue,i,n,t,r).run()})),r.promise}(_x(e),(n=>t(new qT(e,n))),r)}(this._delegate,(t=>e(new $T(this,t))))}batch(){return _x(this._delegate),new ZT(new zT(this._delegate,(e=>FT(this._delegate,e))))}loadBundle(e){return function(e,t){const n=_x(e=sx(e,bx)),r=new wx;return JE(n,e._databaseId,t,r),r}(this._delegate,e)}namedQuery(e){return Ix(this._delegate,e).then((e=>e?new ak(this,e):null))}}class JT extends ST{constructor(e){super(),this.firestore=e}convertBytes(e){return new YT(new Nx(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return tk.forKey(t,this.firestore,null)}}class $T{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new JT(e)}get(e){const t=dk(e);return this._delegate.get(t).then((e=>new sk(this._firestore,new kT(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,t.converter))))}set(e,t,n){const r=dk(e);return n?(WT("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}update(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),s=3;s<r;s++)i[s-3]=arguments[s];const o=dk(e);return 2===arguments.length?this._delegate.update(o,t):this._delegate.update(o,t,n,...i),this}delete(e){const t=dk(e);return this._delegate.delete(t),this}}class ZT{constructor(e){this._delegate=e}set(e,t,n){const r=dk(e);return n?(WT("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}update(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),s=3;s<r;s++)i[s-3]=arguments[s];const o=dk(e);return 2===arguments.length?this._delegate.update(o,t):this._delegate.update(o,t,n,...i),this}delete(e){const t=dk(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class ek{constructor(e,t,n){this._firestore=e,this._userDataWriter=t,this._delegate=n}fromFirestore(e,t){const n=new IT(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new ok(this._firestore,n),null!==t&&void 0!==t?t:{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const n=ek.INSTANCES;let r=n.get(e);r||(r=new WeakMap,n.set(e,r));let i=r.get(t);return i||(i=new ek(e,new JT(e),t),r.set(t,i)),i}}ek.INSTANCES=new WeakMap;class tk{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new JT(e)}static forPath(e,t,n){if(e.length%2!==0)throw new vp("invalid-argument","Invalid document reference. Document references must have an even number of segments, but "+"".concat(e.canonicalString()," has ").concat(e.length));return new tk(t,new dx(t._delegate,n,new Up(e)))}static forKey(e,t,n){return new tk(t,new dx(t._delegate,n,e))}get id(){return this._delegate.id}get parent(){return new uk(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new uk(this.firestore,fx(this._delegate,e))}catch(t){throw nk(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=wr(e))instanceof dx&&mx(this._delegate,e)}set(e,t){t=WT("DocumentReference.set",t);try{return t?RT(this._delegate,e,t):RT(this._delegate,e)}catch(n){throw nk(n,"setDoc()","DocumentReference.set()")}}update(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];try{return 1===arguments.length?MT(this._delegate,e):MT(this._delegate,e,t,...r)}catch(s){throw nk(s,"updateDoc()","DocumentReference.update()")}}delete(){return FT(sx((e=this._delegate).firestore,bx),[new wv(e._key,ov.none())]);var e}onSnapshot(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=rk(t),i=ik(t,(e=>new sk(this.firestore,new kT(this.firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,this._delegate.converter))));return LT(this._delegate,r,i)}get(e){let t;return t="cache"===(null===e||void 0===e?void 0:e.source)?PT(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=sx(e,dx);const t=sx(e.firestore,bx);return QE(_x(t),e._key,{source:"server"}).then((n=>UT(t,e,n)))}(this._delegate):function(e){e=sx(e,dx);const t=sx(e.firestore,bx);return QE(_x(t),e._key).then((n=>UT(t,e,n)))}(this._delegate),t.then((e=>new sk(this.firestore,new kT(this.firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,this._delegate.converter))))}withConverter(e){return new tk(this.firestore,e?this._delegate.withConverter(ek.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function nk(e,t,n){return e.message=e.message.replace(t,n),e}function rk(e){for(const t of e)if("object"===typeof t&&!KT(t))return t;return{}}function ik(e,t){var n,r;let i;return i=KT(e[0])?e[0]:KT(e[1])?e[1]:"function"===typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]},{next:e=>{i.next&&i.next(t(e))},error:null===(n=i.error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}class sk{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new tk(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return AT(this._delegate,e._delegate)}}class ok extends sk{data(e){const t=this._delegate.data(e);return this._delegate._converter||void 0!==t||pp(),t}}class ak{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new JT(e)}where(e,t,n){try{return new ak(this.firestore,dT(this._delegate,function(e,t,n){const r=t,i=aT("where",e);return hT._create(i,r,n)}(e,t,n)))}catch(r){throw nk(r,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new ak(this.firestore,dT(this._delegate,function(e){const t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=aT("orderBy",e);return pT._create(n,t)}(e,t)))}catch(n){throw nk(n,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new ak(this.firestore,dT(this._delegate,(ox("limit",t=e),mT._create("limit",t,"F"))))}catch(t){throw nk(t,"limit()","Query.limit()")}var t}limitToLast(e){try{return new ak(this.firestore,dT(this._delegate,(ox("limitToLast",t=e),mT._create("limitToLast",t,"L"))))}catch(t){throw nk(t,"limitToLast()","Query.limitToLast()")}var t}startAt(){try{return new ak(this.firestore,dT(this._delegate,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return gT._create("startAt",t,!0)}(...arguments)))}catch(e){throw nk(e,"startAt()","Query.startAt()")}}startAfter(){try{return new ak(this.firestore,dT(this._delegate,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return gT._create("startAfter",t,!1)}(...arguments)))}catch(e){throw nk(e,"startAfter()","Query.startAfter()")}}endBefore(){try{return new ak(this.firestore,dT(this._delegate,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return yT._create("endBefore",t,!1)}(...arguments)))}catch(e){throw nk(e,"endBefore()","Query.endBefore()")}}endAt(){try{return new ak(this.firestore,dT(this._delegate,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return yT._create("endAt",t,!0)}(...arguments)))}catch(e){throw nk(e,"endAt()","Query.endAt()")}}isEqual(e){return gx(this._delegate,e._delegate)}get(e){let t;return t="cache"===(null===e||void 0===e?void 0:e.source)?DT(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=sx(e,ux);const t=sx(e.firestore,bx),n=_x(t),r=new OT(t);return XE(n,e._query,{source:"server"}).then((n=>new CT(t,r,e,n)))}(this._delegate):function(e){e=sx(e,ux);const t=sx(e.firestore,bx),n=_x(t),r=new OT(t);return lT(e._query),XE(n,e._query).then((n=>new CT(t,r,e,n)))}(this._delegate),t.then((e=>new ck(this.firestore,new CT(this.firestore._delegate,this._userDataWriter,this._delegate,e._snapshot))))}onSnapshot(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=rk(t),i=ik(t,(e=>new ck(this.firestore,new CT(this.firestore._delegate,this._userDataWriter,this._delegate,e._snapshot))));return LT(this._delegate,r,i)}withConverter(e){return new ak(this.firestore,e?this._delegate.withConverter(ek.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}class lk{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new ok(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class ck{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new ak(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map((e=>new ok(this._firestore,e)))}docChanges(e){return this._delegate.docChanges(e).map((e=>new lk(this._firestore,e)))}forEach(e,t){this._delegate.forEach((n=>{e.call(t,new ok(this._firestore,n))}))}isEqual(e){return AT(this._delegate,e._delegate)}}class uk extends ak{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new tk(this.firestore,e):null}doc(e){try{return new tk(this.firestore,void 0===e?px(this._delegate):px(this._delegate,e))}catch(t){throw nk(t,"doc()","CollectionReference.doc()")}}add(e){return function(e,t){const n=sx(e.firestore,bx),r=px(e),i=ET(e.converter,t);return FT(n,[Vx(Ux(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,ov.exists(!1))]).then((()=>r))}(this._delegate,e).then((e=>new tk(this.firestore,e)))}isEqual(e){return mx(this._delegate,e._delegate)}withConverter(e){return new uk(this.firestore,e?this._delegate.withConverter(ek.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function dk(e){return sx(e,dx)}class hk{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._delegate=new Ax(...t)}static documentId(){return new hk(Fp.keyField().canonicalString())}isEqual(e){return(e=wr(e))instanceof Ax&&this._delegate._internalPath.isEqual(e._internalPath)}}class fk{constructor(e){this._delegate=e}static serverTimestamp(){const e=new qx("serverTimestamp");return e._methodName="FieldValue.serverTimestamp",new fk(e)}static delete(){const e=new zx("deleteField");return e._methodName="FieldValue.delete",new fk(e)}static arrayUnion(){const e=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new Wx("arrayUnion",t)}(...arguments);return e._methodName="FieldValue.arrayUnion",new fk(e)}static arrayRemove(){const e=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new Gx("arrayRemove",t)}(...arguments);return e._methodName="FieldValue.arrayRemove",new fk(e)}static increment(e){const t=new Hx("increment",e);return t._methodName="FieldValue.increment",new fk(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const pk={Firestore:XT,GeoPoint:Px,Timestamp:Dp,Blob:YT,Transaction:$T,WriteBatch:ZT,DocumentReference:tk,DocumentSnapshot:sk,Query:ak,QueryDocumentSnapshot:ok,QuerySnapshot:ck,CollectionReference:uk,FieldPath:hk,FieldValue:fk,setLogLevel:function(e){var t;t=e,lp.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};!function(e){!function(e,t){e.INTERNAL.registerComponent(new br("firestore-compat",(e=>{const n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(n,r)}),"PUBLIC").setServiceProps(Object.assign({},pk)))}(e,((e,t)=>new XT(e,t,new QT))),e.registerVersion("@firebase/firestore-compat","0.3.23")}(Ri);const mk=Ri.initializeApp({apiKey:"AIzaSyBrQTRk9JA5-kmknbFTu1j4IC6NhoOg9iU",authDomain:"zizi-shopping-website.firebaseapp.com",projectId:"zizi-shopping-website",storageBucket:"zizi-shopping-website.appspot.com",messagingSenderId:"601546966830",appId:"1:601546966830:web:aa0bb1f48c90754febdcbf",measurementId:"G-6LV136LREJ"}),gk=Ri.auth(),yk=mk.firestore();var vk=n(184);const wk=function(){return(0,vk.jsx)("div",{className:"bg-amazonclone-background",children:(0,vk.jsxs)("div",{className:"min-w-[1000px] max-w-[1500px] mx-auto w-full",children:[(0,vk.jsx)(zI,{}),(0,vk.jsxs)("div",{className:"grid grid-cols-3 xl:grid-cols-4 -mt-80",children:[(0,vk.jsx)(BI,{title:"Just in: gifts from Coach",img:"../images/home_grid_1.jpg",link:"shop now"}),(0,vk.jsx)(BI,{title:"Watch The Rings of Power",img:"../images/home_grid_2.jpg",link:"Start streaming now"}),(0,vk.jsx)(BI,{title:"Unlimited Streaming",img:"../images/home_grid_3.jpg",link:"Find out more"}),(0,vk.jsx)(BI,{title:"More titles to explore",img:"../images/home_grid_4.jpg",link:"Browse Kindle Unlimited"}),(0,vk.jsx)(BI,{title:"Shop Pet Supplies",img:"../images/home_grid_5.jpg",link:"See more"}),(0,vk.jsx)(BI,{title:"Spring Sale",img:"../images/home_grid_6.jpg",link:"See the deals"}),(0,vk.jsx)(BI,{title:"Echo Buds",img:"../images/home_grid_7.jpg",link:"See more"}),(0,vk.jsx)(BI,{title:"Family Plan: 3 months free",img:"../images/home_grid_8.jpg",link:"Learn more"}),(0,vk.jsx)("div",{className:"m-3 pt-8",children:(0,vk.jsx)("img",{className:"xl:hidden",src:"../images/banner_image_2.jpg",alt:"Banner 2"})})]}),(0,vk.jsx)(WI,{}),(0,vk.jsx)(qI,{}),(0,vk.jsx)("div",{className:"h-[200px]",children:(0,vk.jsx)("img",{className:"h-[100%] m-auto",src:"../images/banner_image.jpg",alt:""})})]})})};function bk(e){return null!==e&&"object"===typeof e&&"constructor"in e&&e.constructor===Object}function _k(e,t){void 0===e&&(e={}),void 0===t&&(t={}),Object.keys(t).forEach((n=>{"undefined"===typeof e[n]?e[n]=t[n]:bk(t[n])&&bk(e[n])&&Object.keys(t[n]).length>0&&_k(e[n],t[n])}))}const Sk={body:{},addEventListener(){},removeEventListener(){},activeElement:{blur(){},nodeName:""},querySelector:()=>null,querySelectorAll:()=>[],getElementById:()=>null,createEvent:()=>({initEvent(){}}),createElement:()=>({children:[],childNodes:[],style:{},setAttribute(){},getElementsByTagName:()=>[]}),createElementNS:()=>({}),importNode:()=>null,location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function Ek(){const e="undefined"!==typeof document?document:{};return _k(e,Sk),e}const xk={document:Sk,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState(){},pushState(){},go(){},back(){}},CustomEvent:function(){return this},addEventListener(){},removeEventListener(){},getComputedStyle:()=>({getPropertyValue:()=>""}),Image(){},Date(){},screen:{},setTimeout(){},clearTimeout(){},matchMedia:()=>({}),requestAnimationFrame:e=>"undefined"===typeof setTimeout?(e(),null):setTimeout(e,0),cancelAnimationFrame(e){"undefined"!==typeof setTimeout&&clearTimeout(e)}};function Tk(){const e="undefined"!==typeof window?window:{};return _k(e,xk),e}function kk(e,t){return void 0===t&&(t=0),setTimeout(e,t)}function Ik(){return Date.now()}function Ck(e,t){void 0===t&&(t="x");const n=Tk();let r,i,s;const o=function(e){const t=Tk();let n;return t.getComputedStyle&&(n=t.getComputedStyle(e,null)),!n&&e.currentStyle&&(n=e.currentStyle),n||(n=e.style),n}(e);return n.WebKitCSSMatrix?(i=o.transform||o.webkitTransform,i.split(",").length>6&&(i=i.split(", ").map((e=>e.replace(",","."))).join(", ")),s=new n.WebKitCSSMatrix("none"===i?"":i)):(s=o.MozTransform||o.OTransform||o.MsTransform||o.msTransform||o.transform||o.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),r=s.toString().split(",")),"x"===t&&(i=n.WebKitCSSMatrix?s.m41:16===r.length?parseFloat(r[12]):parseFloat(r[4])),"y"===t&&(i=n.WebKitCSSMatrix?s.m42:16===r.length?parseFloat(r[13]):parseFloat(r[5])),i||0}function Nk(e){return"object"===typeof e&&null!==e&&e.constructor&&"Object"===Object.prototype.toString.call(e).slice(8,-1)}function Ak(){const e=Object(arguments.length<=0?void 0:arguments[0]),t=["__proto__","constructor","prototype"];for(let r=1;r<arguments.length;r+=1){const i=r<0||arguments.length<=r?void 0:arguments[r];if(void 0!==i&&null!==i&&(n=i,!("undefined"!==typeof window&&"undefined"!==typeof window.HTMLElement?n instanceof HTMLElement:n&&(1===n.nodeType||11===n.nodeType)))){const n=Object.keys(Object(i)).filter((e=>t.indexOf(e)<0));for(let t=0,r=n.length;t<r;t+=1){const r=n[t],s=Object.getOwnPropertyDescriptor(i,r);void 0!==s&&s.enumerable&&(Nk(e[r])&&Nk(i[r])?i[r].__swiper__?e[r]=i[r]:Ak(e[r],i[r]):!Nk(e[r])&&Nk(i[r])?(e[r]={},i[r].__swiper__?e[r]=i[r]:Ak(e[r],i[r])):e[r]=i[r])}}}var n;return e}function Ok(e,t,n){e.style.setProperty(t,n)}function Pk(e){let{swiper:t,targetPosition:n,side:r}=e;const i=Tk(),s=-t.translate;let o,a=null;const l=t.params.speed;t.wrapperEl.style.scrollSnapType="none",i.cancelAnimationFrame(t.cssModeFrameID);const c=n>s?"next":"prev",u=(e,t)=>"next"===c&&e>=t||"prev"===c&&e<=t,d=()=>{o=(new Date).getTime(),null===a&&(a=o);const e=Math.max(Math.min((o-a)/l,1),0),c=.5-Math.cos(e*Math.PI)/2;let h=s+c*(n-s);if(u(h,n)&&(h=n),t.wrapperEl.scrollTo({[r]:h}),u(h,n))return t.wrapperEl.style.overflow="hidden",t.wrapperEl.style.scrollSnapType="",setTimeout((()=>{t.wrapperEl.style.overflow="",t.wrapperEl.scrollTo({[r]:h})})),void i.cancelAnimationFrame(t.cssModeFrameID);t.cssModeFrameID=i.requestAnimationFrame(d)};d()}function Dk(e,t){return void 0===t&&(t=""),[...e.children].filter((e=>e.matches(t)))}function Rk(e){try{return void console.warn(e)}catch(t){}}function Mk(e,t){void 0===t&&(t=[]);const n=document.createElement(e);return n.classList.add(...Array.isArray(t)?t:function(e){return void 0===e&&(e=""),e.trim().split(" ").filter((e=>!!e.trim()))}(t)),n}function Lk(e,t){return Tk().getComputedStyle(e,null).getPropertyValue(t)}function jk(e){let t,n=e;if(n){for(t=0;null!==(n=n.previousSibling);)1===n.nodeType&&(t+=1);return t}}function Fk(e,t,n){const r=Tk();return n?e["width"===t?"offsetWidth":"offsetHeight"]+parseFloat(r.getComputedStyle(e,null).getPropertyValue("width"===t?"margin-right":"margin-top"))+parseFloat(r.getComputedStyle(e,null).getPropertyValue("width"===t?"margin-left":"margin-bottom")):e.offsetWidth}let Uk,Vk,zk;function Bk(){return Uk||(Uk=function(){const e=Tk(),t=Ek();return{smoothScroll:t.documentElement&&t.documentElement.style&&"scrollBehavior"in t.documentElement.style,touch:!!("ontouchstart"in e||e.DocumentTouch&&t instanceof e.DocumentTouch)}}()),Uk}function qk(e){return void 0===e&&(e={}),Vk||(Vk=function(e){let{userAgent:t}=void 0===e?{}:e;const n=Bk(),r=Tk(),i=r.navigator.platform,s=t||r.navigator.userAgent,o={ios:!1,android:!1},a=r.screen.width,l=r.screen.height,c=s.match(/(Android);?[\s\/]+([\d.]+)?/);let u=s.match(/(iPad).*OS\s([\d_]+)/);const d=s.match(/(iPod)(.*OS\s([\d_]+))?/),h=!u&&s.match(/(iPhone\sOS|iOS)\s([\d_]+)/),f="Win32"===i;let p="MacIntel"===i;return!u&&p&&n.touch&&["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"].indexOf("".concat(a,"x").concat(l))>=0&&(u=s.match(/(Version)\/([\d.]+)/),u||(u=[0,1,"13_0_0"]),p=!1),c&&!f&&(o.os="android",o.android=!0),(u||h||d)&&(o.os="ios",o.ios=!0),o}(e)),Vk}function Wk(){return zk||(zk=function(){const e=Tk();let t=!1;function n(){const t=e.navigator.userAgent.toLowerCase();return t.indexOf("safari")>=0&&t.indexOf("chrome")<0&&t.indexOf("android")<0}if(n()){const n=String(e.navigator.userAgent);if(n.includes("Version/")){const[e,r]=n.split("Version/")[1].split(" ")[0].split(".").map((e=>Number(e)));t=e<16||16===e&&r<2}}return{isSafari:t||n(),needPerspectiveFix:t,isWebView:/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(e.navigator.userAgent)}}()),zk}var Gk={on(e,t,n){const r=this;if(!r.eventsListeners||r.destroyed)return r;if("function"!==typeof t)return r;const i=n?"unshift":"push";return e.split(" ").forEach((e=>{r.eventsListeners[e]||(r.eventsListeners[e]=[]),r.eventsListeners[e][i](t)})),r},once(e,t,n){const r=this;if(!r.eventsListeners||r.destroyed)return r;if("function"!==typeof t)return r;function i(){r.off(e,i),i.__emitterProxy&&delete i.__emitterProxy;for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];t.apply(r,s)}return i.__emitterProxy=t,r.on(e,i,n)},onAny(e,t){const n=this;if(!n.eventsListeners||n.destroyed)return n;if("function"!==typeof e)return n;const r=t?"unshift":"push";return n.eventsAnyListeners.indexOf(e)<0&&n.eventsAnyListeners[r](e),n},offAny(e){const t=this;if(!t.eventsListeners||t.destroyed)return t;if(!t.eventsAnyListeners)return t;const n=t.eventsAnyListeners.indexOf(e);return n>=0&&t.eventsAnyListeners.splice(n,1),t},off(e,t){const n=this;return!n.eventsListeners||n.destroyed?n:n.eventsListeners?(e.split(" ").forEach((e=>{"undefined"===typeof t?n.eventsListeners[e]=[]:n.eventsListeners[e]&&n.eventsListeners[e].forEach(((r,i)=>{(r===t||r.__emitterProxy&&r.__emitterProxy===t)&&n.eventsListeners[e].splice(i,1)}))})),n):n},emit(){const e=this;if(!e.eventsListeners||e.destroyed)return e;if(!e.eventsListeners)return e;let t,n,r;for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];"string"===typeof s[0]||Array.isArray(s[0])?(t=s[0],n=s.slice(1,s.length),r=e):(t=s[0].events,n=s[0].data,r=s[0].context||e),n.unshift(r);return(Array.isArray(t)?t:t.split(" ")).forEach((t=>{e.eventsAnyListeners&&e.eventsAnyListeners.length&&e.eventsAnyListeners.forEach((e=>{e.apply(r,[t,...n])})),e.eventsListeners&&e.eventsListeners[t]&&e.eventsListeners[t].forEach((e=>{e.apply(r,n)}))})),e}};const Hk=(e,t)=>{if(!e||e.destroyed||!e.params)return;const n=t.closest(e.isElement?"swiper-slide":".".concat(e.params.slideClass));if(n){let t=n.querySelector(".".concat(e.params.lazyPreloaderClass));!t&&e.isElement&&(n.shadowRoot?t=n.shadowRoot.querySelector(".".concat(e.params.lazyPreloaderClass)):requestAnimationFrame((()=>{n.shadowRoot&&(t=n.shadowRoot.querySelector(".".concat(e.params.lazyPreloaderClass)),t&&t.remove())}))),t&&t.remove()}},Yk=(e,t)=>{if(!e.slides[t])return;const n=e.slides[t].querySelector('[loading="lazy"]');n&&n.removeAttribute("loading")},Kk=e=>{if(!e||e.destroyed||!e.params)return;let t=e.params.lazyPreloadPrevNext;const n=e.slides.length;if(!n||!t||t<0)return;t=Math.min(t,n);const r="auto"===e.params.slidesPerView?e.slidesPerViewDynamic():Math.ceil(e.params.slidesPerView),i=e.activeIndex;if(e.params.grid&&e.params.grid.rows>1){const n=i,s=[n-t];return s.push(...Array.from({length:t}).map(((e,t)=>n+r+t))),void e.slides.forEach(((t,n)=>{s.includes(t.column)&&Yk(e,n)}))}const s=i+r-1;if(e.params.rewind||e.params.loop)for(let o=i-t;o<=s+t;o+=1){const t=(o%n+n)%n;(t<i||t>s)&&Yk(e,t)}else for(let o=Math.max(i-t,0);o<=Math.min(s+t,n-1);o+=1)o!==i&&(o>s||o<i)&&Yk(e,o)};var Qk={updateSize:function(){const e=this;let t,n;const r=e.el;t="undefined"!==typeof e.params.width&&null!==e.params.width?e.params.width:r.clientWidth,n="undefined"!==typeof e.params.height&&null!==e.params.height?e.params.height:r.clientHeight,0===t&&e.isHorizontal()||0===n&&e.isVertical()||(t=t-parseInt(Lk(r,"padding-left")||0,10)-parseInt(Lk(r,"padding-right")||0,10),n=n-parseInt(Lk(r,"padding-top")||0,10)-parseInt(Lk(r,"padding-bottom")||0,10),Number.isNaN(t)&&(t=0),Number.isNaN(n)&&(n=0),Object.assign(e,{width:t,height:n,size:e.isHorizontal()?t:n}))},updateSlides:function(){const e=this;function t(t,n){return parseFloat(t.getPropertyValue(e.getDirectionLabel(n))||0)}const n=e.params,{wrapperEl:r,slidesEl:i,size:s,rtlTranslate:o,wrongRTL:a}=e,l=e.virtual&&n.virtual.enabled,c=l?e.virtual.slides.length:e.slides.length,u=Dk(i,".".concat(e.params.slideClass,", swiper-slide")),d=l?e.virtual.slides.length:u.length;let h=[];const f=[],p=[];let m=n.slidesOffsetBefore;"function"===typeof m&&(m=n.slidesOffsetBefore.call(e));let g=n.slidesOffsetAfter;"function"===typeof g&&(g=n.slidesOffsetAfter.call(e));const y=e.snapGrid.length,v=e.slidesGrid.length;let w=n.spaceBetween,b=-m,_=0,S=0;if("undefined"===typeof s)return;"string"===typeof w&&w.indexOf("%")>=0?w=parseFloat(w.replace("%",""))/100*s:"string"===typeof w&&(w=parseFloat(w)),e.virtualSize=-w,u.forEach((e=>{o?e.style.marginLeft="":e.style.marginRight="",e.style.marginBottom="",e.style.marginTop=""})),n.centeredSlides&&n.cssMode&&(Ok(r,"--swiper-centered-offset-before",""),Ok(r,"--swiper-centered-offset-after",""));const E=n.grid&&n.grid.rows>1&&e.grid;let x;E?e.grid.initSlides(u):e.grid&&e.grid.unsetSlides();const T="auto"===n.slidesPerView&&n.breakpoints&&Object.keys(n.breakpoints).filter((e=>"undefined"!==typeof n.breakpoints[e].slidesPerView)).length>0;for(let k=0;k<d;k+=1){let r;if(x=0,u[k]&&(r=u[k]),E&&e.grid.updateSlide(k,r,u),!u[k]||"none"!==Lk(r,"display")){if("auto"===n.slidesPerView){T&&(u[k].style[e.getDirectionLabel("width")]="");const i=getComputedStyle(r),s=r.style.transform,o=r.style.webkitTransform;if(s&&(r.style.transform="none"),o&&(r.style.webkitTransform="none"),n.roundLengths)x=e.isHorizontal()?Fk(r,"width",!0):Fk(r,"height",!0);else{const e=t(i,"width"),n=t(i,"padding-left"),s=t(i,"padding-right"),o=t(i,"margin-left"),a=t(i,"margin-right"),l=i.getPropertyValue("box-sizing");if(l&&"border-box"===l)x=e+o+a;else{const{clientWidth:t,offsetWidth:i}=r;x=e+n+s+o+a+(i-t)}}s&&(r.style.transform=s),o&&(r.style.webkitTransform=o),n.roundLengths&&(x=Math.floor(x))}else x=(s-(n.slidesPerView-1)*w)/n.slidesPerView,n.roundLengths&&(x=Math.floor(x)),u[k]&&(u[k].style[e.getDirectionLabel("width")]="".concat(x,"px"));u[k]&&(u[k].swiperSlideSize=x),p.push(x),n.centeredSlides?(b=b+x/2+_/2+w,0===_&&0!==k&&(b=b-s/2-w),0===k&&(b=b-s/2-w),Math.abs(b)<.001&&(b=0),n.roundLengths&&(b=Math.floor(b)),S%n.slidesPerGroup===0&&h.push(b),f.push(b)):(n.roundLengths&&(b=Math.floor(b)),(S-Math.min(e.params.slidesPerGroupSkip,S))%e.params.slidesPerGroup===0&&h.push(b),f.push(b),b=b+x+w),e.virtualSize+=x+w,_=x,S+=1}}if(e.virtualSize=Math.max(e.virtualSize,s)+g,o&&a&&("slide"===n.effect||"coverflow"===n.effect)&&(r.style.width="".concat(e.virtualSize+w,"px")),n.setWrapperSize&&(r.style[e.getDirectionLabel("width")]="".concat(e.virtualSize+w,"px")),E&&e.grid.updateWrapperSize(x,h),!n.centeredSlides){const t=[];for(let r=0;r<h.length;r+=1){let i=h[r];n.roundLengths&&(i=Math.floor(i)),h[r]<=e.virtualSize-s&&t.push(i)}h=t,Math.floor(e.virtualSize-s)-Math.floor(h[h.length-1])>1&&h.push(e.virtualSize-s)}if(l&&n.loop){const t=p[0]+w;if(n.slidesPerGroup>1){const r=Math.ceil((e.virtual.slidesBefore+e.virtual.slidesAfter)/n.slidesPerGroup),i=t*n.slidesPerGroup;for(let e=0;e<r;e+=1)h.push(h[h.length-1]+i)}for(let r=0;r<e.virtual.slidesBefore+e.virtual.slidesAfter;r+=1)1===n.slidesPerGroup&&h.push(h[h.length-1]+t),f.push(f[f.length-1]+t),e.virtualSize+=t}if(0===h.length&&(h=[0]),0!==w){const t=e.isHorizontal()&&o?"marginLeft":e.getDirectionLabel("marginRight");u.filter(((e,t)=>!(n.cssMode&&!n.loop)||t!==u.length-1)).forEach((e=>{e.style[t]="".concat(w,"px")}))}if(n.centeredSlides&&n.centeredSlidesBounds){let e=0;p.forEach((t=>{e+=t+(w||0)})),e-=w;const t=e-s;h=h.map((e=>e<=0?-m:e>t?t+g:e))}if(n.centerInsufficientSlides){let e=0;if(p.forEach((t=>{e+=t+(w||0)})),e-=w,e<s){const t=(s-e)/2;h.forEach(((e,n)=>{h[n]=e-t})),f.forEach(((e,n)=>{f[n]=e+t}))}}if(Object.assign(e,{slides:u,snapGrid:h,slidesGrid:f,slidesSizesGrid:p}),n.centeredSlides&&n.cssMode&&!n.centeredSlidesBounds){Ok(r,"--swiper-centered-offset-before","".concat(-h[0],"px")),Ok(r,"--swiper-centered-offset-after","".concat(e.size/2-p[p.length-1]/2,"px"));const t=-e.snapGrid[0],n=-e.slidesGrid[0];e.snapGrid=e.snapGrid.map((e=>e+t)),e.slidesGrid=e.slidesGrid.map((e=>e+n))}if(d!==c&&e.emit("slidesLengthChange"),h.length!==y&&(e.params.watchOverflow&&e.checkOverflow(),e.emit("snapGridLengthChange")),f.length!==v&&e.emit("slidesGridLengthChange"),n.watchSlidesProgress&&e.updateSlidesOffset(),e.emit("slidesUpdated"),!l&&!n.cssMode&&("slide"===n.effect||"fade"===n.effect)){const t="".concat(n.containerModifierClass,"backface-hidden"),r=e.el.classList.contains(t);d<=n.maxBackfaceHiddenSlides?r||e.el.classList.add(t):r&&e.el.classList.remove(t)}},updateAutoHeight:function(e){const t=this,n=[],r=t.virtual&&t.params.virtual.enabled;let i,s=0;"number"===typeof e?t.setTransition(e):!0===e&&t.setTransition(t.params.speed);const o=e=>r?t.slides[t.getSlideIndexByData(e)]:t.slides[e];if("auto"!==t.params.slidesPerView&&t.params.slidesPerView>1)if(t.params.centeredSlides)(t.visibleSlides||[]).forEach((e=>{n.push(e)}));else for(i=0;i<Math.ceil(t.params.slidesPerView);i+=1){const e=t.activeIndex+i;if(e>t.slides.length&&!r)break;n.push(o(e))}else n.push(o(t.activeIndex));for(i=0;i<n.length;i+=1)if("undefined"!==typeof n[i]){const e=n[i].offsetHeight;s=e>s?e:s}(s||0===s)&&(t.wrapperEl.style.height="".concat(s,"px"))},updateSlidesOffset:function(){const e=this,t=e.slides,n=e.isElement?e.isHorizontal()?e.wrapperEl.offsetLeft:e.wrapperEl.offsetTop:0;for(let r=0;r<t.length;r+=1)t[r].swiperSlideOffset=(e.isHorizontal()?t[r].offsetLeft:t[r].offsetTop)-n-e.cssOverflowAdjustment()},updateSlidesProgress:function(e){void 0===e&&(e=this&&this.translate||0);const t=this,n=t.params,{slides:r,rtlTranslate:i,snapGrid:s}=t;if(0===r.length)return;"undefined"===typeof r[0].swiperSlideOffset&&t.updateSlidesOffset();let o=-e;i&&(o=e),r.forEach((e=>{e.classList.remove(n.slideVisibleClass,n.slideFullyVisibleClass)})),t.visibleSlidesIndexes=[],t.visibleSlides=[];let a=n.spaceBetween;"string"===typeof a&&a.indexOf("%")>=0?a=parseFloat(a.replace("%",""))/100*t.size:"string"===typeof a&&(a=parseFloat(a));for(let l=0;l<r.length;l+=1){const e=r[l];let c=e.swiperSlideOffset;n.cssMode&&n.centeredSlides&&(c-=r[0].swiperSlideOffset);const u=(o+(n.centeredSlides?t.minTranslate():0)-c)/(e.swiperSlideSize+a),d=(o-s[0]+(n.centeredSlides?t.minTranslate():0)-c)/(e.swiperSlideSize+a),h=-(o-c),f=h+t.slidesSizesGrid[l],p=h>=0&&h<=t.size-t.slidesSizesGrid[l];(h>=0&&h<t.size-1||f>1&&f<=t.size||h<=0&&f>=t.size)&&(t.visibleSlides.push(e),t.visibleSlidesIndexes.push(l),r[l].classList.add(n.slideVisibleClass)),p&&r[l].classList.add(n.slideFullyVisibleClass),e.progress=i?-u:u,e.originalProgress=i?-d:d}},updateProgress:function(e){const t=this;if("undefined"===typeof e){const n=t.rtlTranslate?-1:1;e=t&&t.translate&&t.translate*n||0}const n=t.params,r=t.maxTranslate()-t.minTranslate();let{progress:i,isBeginning:s,isEnd:o,progressLoop:a}=t;const l=s,c=o;if(0===r)i=0,s=!0,o=!0;else{i=(e-t.minTranslate())/r;const n=Math.abs(e-t.minTranslate())<1,a=Math.abs(e-t.maxTranslate())<1;s=n||i<=0,o=a||i>=1,n&&(i=0),a&&(i=1)}if(n.loop){const n=t.getSlideIndexByData(0),r=t.getSlideIndexByData(t.slides.length-1),i=t.slidesGrid[n],s=t.slidesGrid[r],o=t.slidesGrid[t.slidesGrid.length-1],l=Math.abs(e);a=l>=i?(l-i)/o:(l+o-s)/o,a>1&&(a-=1)}Object.assign(t,{progress:i,progressLoop:a,isBeginning:s,isEnd:o}),(n.watchSlidesProgress||n.centeredSlides&&n.autoHeight)&&t.updateSlidesProgress(e),s&&!l&&t.emit("reachBeginning toEdge"),o&&!c&&t.emit("reachEnd toEdge"),(l&&!s||c&&!o)&&t.emit("fromEdge"),t.emit("progress",i)},updateSlidesClasses:function(){const e=this,{slides:t,params:n,slidesEl:r,activeIndex:i}=e,s=e.virtual&&n.virtual.enabled,o=e.grid&&n.grid&&n.grid.rows>1,a=e=>Dk(r,".".concat(n.slideClass).concat(e,", swiper-slide").concat(e))[0];let l,c,u;if(t.forEach((e=>{e.classList.remove(n.slideActiveClass,n.slideNextClass,n.slidePrevClass)})),s)if(n.loop){let t=i-e.virtual.slidesBefore;t<0&&(t=e.virtual.slides.length+t),t>=e.virtual.slides.length&&(t-=e.virtual.slides.length),l=a('[data-swiper-slide-index="'.concat(t,'"]'))}else l=a('[data-swiper-slide-index="'.concat(i,'"]'));else o?(l=t.filter((e=>e.column===i))[0],u=t.filter((e=>e.column===i+1))[0],c=t.filter((e=>e.column===i-1))[0]):l=t[i];l&&(l.classList.add(n.slideActiveClass),o?(u&&u.classList.add(n.slideNextClass),c&&c.classList.add(n.slidePrevClass)):(u=function(e,t){const n=[];for(;e.nextElementSibling;){const r=e.nextElementSibling;t?r.matches(t)&&n.push(r):n.push(r),e=r}return n}(l,".".concat(n.slideClass,", swiper-slide"))[0],n.loop&&!u&&(u=t[0]),u&&u.classList.add(n.slideNextClass),c=function(e,t){const n=[];for(;e.previousElementSibling;){const r=e.previousElementSibling;t?r.matches(t)&&n.push(r):n.push(r),e=r}return n}(l,".".concat(n.slideClass,", swiper-slide"))[0],n.loop&&0===!c&&(c=t[t.length-1]),c&&c.classList.add(n.slidePrevClass))),e.emitSlidesClasses()},updateActiveIndex:function(e){const t=this,n=t.rtlTranslate?t.translate:-t.translate,{snapGrid:r,params:i,activeIndex:s,realIndex:o,snapIndex:a}=t;let l,c=e;const u=e=>{let n=e-t.virtual.slidesBefore;return n<0&&(n=t.virtual.slides.length+n),n>=t.virtual.slides.length&&(n-=t.virtual.slides.length),n};if("undefined"===typeof c&&(c=function(e){const{slidesGrid:t,params:n}=e,r=e.rtlTranslate?e.translate:-e.translate;let i;for(let s=0;s<t.length;s+=1)"undefined"!==typeof t[s+1]?r>=t[s]&&r<t[s+1]-(t[s+1]-t[s])/2?i=s:r>=t[s]&&r<t[s+1]&&(i=s+1):r>=t[s]&&(i=s);return n.normalizeSlideIndex&&(i<0||"undefined"===typeof i)&&(i=0),i}(t)),r.indexOf(n)>=0)l=r.indexOf(n);else{const e=Math.min(i.slidesPerGroupSkip,c);l=e+Math.floor((c-e)/i.slidesPerGroup)}if(l>=r.length&&(l=r.length-1),c===s&&!t.params.loop)return void(l!==a&&(t.snapIndex=l,t.emit("snapIndexChange")));if(c===s&&t.params.loop&&t.virtual&&t.params.virtual.enabled)return void(t.realIndex=u(c));const d=t.grid&&i.grid&&i.grid.rows>1;let h;if(t.virtual&&i.virtual.enabled&&i.loop)h=u(c);else if(d){const e=t.slides.filter((e=>e.column===c))[0];let n=parseInt(e.getAttribute("data-swiper-slide-index"),10);Number.isNaN(n)&&(n=Math.max(t.slides.indexOf(e),0)),h=Math.floor(n/i.grid.rows)}else if(t.slides[c]){const e=t.slides[c].getAttribute("data-swiper-slide-index");h=e?parseInt(e,10):c}else h=c;Object.assign(t,{previousSnapIndex:a,snapIndex:l,previousRealIndex:o,realIndex:h,previousIndex:s,activeIndex:c}),t.initialized&&Kk(t),t.emit("activeIndexChange"),t.emit("snapIndexChange"),(t.initialized||t.params.runCallbacksOnInit)&&(o!==h&&t.emit("realIndexChange"),t.emit("slideChange"))},updateClickedSlide:function(e,t){const n=this,r=n.params;let i=e.closest(".".concat(r.slideClass,", swiper-slide"));!i&&n.isElement&&t&&t.length>1&&t.includes(e)&&[...t.slice(t.indexOf(e)+1,t.length)].forEach((e=>{!i&&e.matches&&e.matches(".".concat(r.slideClass,", swiper-slide"))&&(i=e)}));let s,o=!1;if(i)for(let a=0;a<n.slides.length;a+=1)if(n.slides[a]===i){o=!0,s=a;break}if(!i||!o)return n.clickedSlide=void 0,void(n.clickedIndex=void 0);n.clickedSlide=i,n.virtual&&n.params.virtual.enabled?n.clickedIndex=parseInt(i.getAttribute("data-swiper-slide-index"),10):n.clickedIndex=s,r.slideToClickedSlide&&void 0!==n.clickedIndex&&n.clickedIndex!==n.activeIndex&&n.slideToClickedSlide()}};var Xk={getTranslate:function(e){void 0===e&&(e=this.isHorizontal()?"x":"y");const{params:t,rtlTranslate:n,translate:r,wrapperEl:i}=this;if(t.virtualTranslate)return n?-r:r;if(t.cssMode)return r;let s=Ck(i,e);return s+=this.cssOverflowAdjustment(),n&&(s=-s),s||0},setTranslate:function(e,t){const n=this,{rtlTranslate:r,params:i,wrapperEl:s,progress:o}=n;let a,l=0,c=0;n.isHorizontal()?l=r?-e:e:c=e,i.roundLengths&&(l=Math.floor(l),c=Math.floor(c)),n.previousTranslate=n.translate,n.translate=n.isHorizontal()?l:c,i.cssMode?s[n.isHorizontal()?"scrollLeft":"scrollTop"]=n.isHorizontal()?-l:-c:i.virtualTranslate||(n.isHorizontal()?l-=n.cssOverflowAdjustment():c-=n.cssOverflowAdjustment(),s.style.transform="translate3d(".concat(l,"px, ").concat(c,"px, ").concat(0,"px)"));const u=n.maxTranslate()-n.minTranslate();a=0===u?0:(e-n.minTranslate())/u,a!==o&&n.updateProgress(e),n.emit("setTranslate",n.translate,t)},minTranslate:function(){return-this.snapGrid[0]},maxTranslate:function(){return-this.snapGrid[this.snapGrid.length-1]},translateTo:function(e,t,n,r,i){void 0===e&&(e=0),void 0===t&&(t=this.params.speed),void 0===n&&(n=!0),void 0===r&&(r=!0);const s=this,{params:o,wrapperEl:a}=s;if(s.animating&&o.preventInteractionOnTransition)return!1;const l=s.minTranslate(),c=s.maxTranslate();let u;if(u=r&&e>l?l:r&&e<c?c:e,s.updateProgress(u),o.cssMode){const e=s.isHorizontal();if(0===t)a[e?"scrollLeft":"scrollTop"]=-u;else{if(!s.support.smoothScroll)return Pk({swiper:s,targetPosition:-u,side:e?"left":"top"}),!0;a.scrollTo({[e?"left":"top"]:-u,behavior:"smooth"})}return!0}return 0===t?(s.setTransition(0),s.setTranslate(u),n&&(s.emit("beforeTransitionStart",t,i),s.emit("transitionEnd"))):(s.setTransition(t),s.setTranslate(u),n&&(s.emit("beforeTransitionStart",t,i),s.emit("transitionStart")),s.animating||(s.animating=!0,s.onTranslateToWrapperTransitionEnd||(s.onTranslateToWrapperTransitionEnd=function(e){s&&!s.destroyed&&e.target===this&&(s.wrapperEl.removeEventListener("transitionend",s.onTranslateToWrapperTransitionEnd),s.onTranslateToWrapperTransitionEnd=null,delete s.onTranslateToWrapperTransitionEnd,n&&s.emit("transitionEnd"))}),s.wrapperEl.addEventListener("transitionend",s.onTranslateToWrapperTransitionEnd))),!0}};function Jk(e){let{swiper:t,runCallbacks:n,direction:r,step:i}=e;const{activeIndex:s,previousIndex:o}=t;let a=r;if(a||(a=s>o?"next":s<o?"prev":"reset"),t.emit("transition".concat(i)),n&&s!==o){if("reset"===a)return void t.emit("slideResetTransition".concat(i));t.emit("slideChangeTransition".concat(i)),"next"===a?t.emit("slideNextTransition".concat(i)):t.emit("slidePrevTransition".concat(i))}}var $k={setTransition:function(e,t){const n=this;n.params.cssMode||(n.wrapperEl.style.transitionDuration="".concat(e,"ms"),n.wrapperEl.style.transitionDelay=0===e?"0ms":""),n.emit("setTransition",e,t)},transitionStart:function(e,t){void 0===e&&(e=!0);const n=this,{params:r}=n;r.cssMode||(r.autoHeight&&n.updateAutoHeight(),Jk({swiper:n,runCallbacks:e,direction:t,step:"Start"}))},transitionEnd:function(e,t){void 0===e&&(e=!0);const n=this,{params:r}=n;n.animating=!1,r.cssMode||(n.setTransition(0),Jk({swiper:n,runCallbacks:e,direction:t,step:"End"}))}};var Zk={slideTo:function(e,t,n,r,i){void 0===e&&(e=0),void 0===t&&(t=this.params.speed),void 0===n&&(n=!0),"string"===typeof e&&(e=parseInt(e,10));const s=this;let o=e;o<0&&(o=0);const{params:a,snapGrid:l,slidesGrid:c,previousIndex:u,activeIndex:d,rtlTranslate:h,wrapperEl:f,enabled:p}=s;if(s.animating&&a.preventInteractionOnTransition||!p&&!r&&!i)return!1;const m=Math.min(s.params.slidesPerGroupSkip,o);let g=m+Math.floor((o-m)/s.params.slidesPerGroup);g>=l.length&&(g=l.length-1);const y=-l[g];if(a.normalizeSlideIndex)for(let w=0;w<c.length;w+=1){const e=-Math.floor(100*y),t=Math.floor(100*c[w]),n=Math.floor(100*c[w+1]);"undefined"!==typeof c[w+1]?e>=t&&e<n-(n-t)/2?o=w:e>=t&&e<n&&(o=w+1):e>=t&&(o=w)}if(s.initialized&&o!==d){if(!s.allowSlideNext&&(h?y>s.translate&&y>s.minTranslate():y<s.translate&&y<s.minTranslate()))return!1;if(!s.allowSlidePrev&&y>s.translate&&y>s.maxTranslate()&&(d||0)!==o)return!1}let v;if(o!==(u||0)&&n&&s.emit("beforeSlideChangeStart"),s.updateProgress(y),v=o>d?"next":o<d?"prev":"reset",h&&-y===s.translate||!h&&y===s.translate)return s.updateActiveIndex(o),a.autoHeight&&s.updateAutoHeight(),s.updateSlidesClasses(),"slide"!==a.effect&&s.setTranslate(y),"reset"!==v&&(s.transitionStart(n,v),s.transitionEnd(n,v)),!1;if(a.cssMode){const e=s.isHorizontal(),n=h?y:-y;if(0===t){const t=s.virtual&&s.params.virtual.enabled;t&&(s.wrapperEl.style.scrollSnapType="none",s._immediateVirtual=!0),t&&!s._cssModeVirtualInitialSet&&s.params.initialSlide>0?(s._cssModeVirtualInitialSet=!0,requestAnimationFrame((()=>{f[e?"scrollLeft":"scrollTop"]=n}))):f[e?"scrollLeft":"scrollTop"]=n,t&&requestAnimationFrame((()=>{s.wrapperEl.style.scrollSnapType="",s._immediateVirtual=!1}))}else{if(!s.support.smoothScroll)return Pk({swiper:s,targetPosition:n,side:e?"left":"top"}),!0;f.scrollTo({[e?"left":"top"]:n,behavior:"smooth"})}return!0}return s.setTransition(t),s.setTranslate(y),s.updateActiveIndex(o),s.updateSlidesClasses(),s.emit("beforeTransitionStart",t,r),s.transitionStart(n,v),0===t?s.transitionEnd(n,v):s.animating||(s.animating=!0,s.onSlideToWrapperTransitionEnd||(s.onSlideToWrapperTransitionEnd=function(e){s&&!s.destroyed&&e.target===this&&(s.wrapperEl.removeEventListener("transitionend",s.onSlideToWrapperTransitionEnd),s.onSlideToWrapperTransitionEnd=null,delete s.onSlideToWrapperTransitionEnd,s.transitionEnd(n,v))}),s.wrapperEl.addEventListener("transitionend",s.onSlideToWrapperTransitionEnd)),!0},slideToLoop:function(e,t,n,r){if(void 0===e&&(e=0),void 0===t&&(t=this.params.speed),void 0===n&&(n=!0),"string"===typeof e){e=parseInt(e,10)}const i=this,s=i.grid&&i.params.grid&&i.params.grid.rows>1;let o=e;if(i.params.loop)if(i.virtual&&i.params.virtual.enabled)o+=i.virtual.slidesBefore;else{let e;if(s){const t=o*i.params.grid.rows;e=i.slides.filter((e=>1*e.getAttribute("data-swiper-slide-index")===t))[0].column}else e=i.getSlideIndexByData(o);const t=s?Math.ceil(i.slides.length/i.params.grid.rows):i.slides.length,{centeredSlides:n}=i.params;let r=i.params.slidesPerView;"auto"===r?r=i.slidesPerViewDynamic():(r=Math.ceil(parseFloat(i.params.slidesPerView,10)),n&&r%2===0&&(r+=1));let a=t-e<r;if(n&&(a=a||e<Math.ceil(r/2)),a){const r=n?e<i.activeIndex?"prev":"next":e-i.activeIndex-1<i.params.slidesPerView?"next":"prev";i.loopFix({direction:r,slideTo:!0,activeSlideIndex:"next"===r?e+1:e-t+1,slideRealIndex:"next"===r?i.realIndex:void 0})}if(s){const e=o*i.params.grid.rows;o=i.slides.filter((t=>1*t.getAttribute("data-swiper-slide-index")===e))[0].column}else o=i.getSlideIndexByData(o)}return requestAnimationFrame((()=>{i.slideTo(o,t,n,r)})),i},slideNext:function(e,t,n){void 0===e&&(e=this.params.speed),void 0===t&&(t=!0);const r=this,{enabled:i,params:s,animating:o}=r;if(!i)return r;let a=s.slidesPerGroup;"auto"===s.slidesPerView&&1===s.slidesPerGroup&&s.slidesPerGroupAuto&&(a=Math.max(r.slidesPerViewDynamic("current",!0),1));const l=r.activeIndex<s.slidesPerGroupSkip?1:a,c=r.virtual&&s.virtual.enabled;if(s.loop){if(o&&!c&&s.loopPreventsSliding)return!1;if(r.loopFix({direction:"next"}),r._clientLeft=r.wrapperEl.clientLeft,r.activeIndex===r.slides.length-1&&s.cssMode)return requestAnimationFrame((()=>{r.slideTo(r.activeIndex+l,e,t,n)})),!0}return s.rewind&&r.isEnd?r.slideTo(0,e,t,n):r.slideTo(r.activeIndex+l,e,t,n)},slidePrev:function(e,t,n){void 0===e&&(e=this.params.speed),void 0===t&&(t=!0);const r=this,{params:i,snapGrid:s,slidesGrid:o,rtlTranslate:a,enabled:l,animating:c}=r;if(!l)return r;const u=r.virtual&&i.virtual.enabled;if(i.loop){if(c&&!u&&i.loopPreventsSliding)return!1;r.loopFix({direction:"prev"}),r._clientLeft=r.wrapperEl.clientLeft}function d(e){return e<0?-Math.floor(Math.abs(e)):Math.floor(e)}const h=d(a?r.translate:-r.translate),f=s.map((e=>d(e)));let p=s[f.indexOf(h)-1];if("undefined"===typeof p&&i.cssMode){let e;s.forEach(((t,n)=>{h>=t&&(e=n)})),"undefined"!==typeof e&&(p=s[e>0?e-1:e])}let m=0;if("undefined"!==typeof p&&(m=o.indexOf(p),m<0&&(m=r.activeIndex-1),"auto"===i.slidesPerView&&1===i.slidesPerGroup&&i.slidesPerGroupAuto&&(m=m-r.slidesPerViewDynamic("previous",!0)+1,m=Math.max(m,0))),i.rewind&&r.isBeginning){const i=r.params.virtual&&r.params.virtual.enabled&&r.virtual?r.virtual.slides.length-1:r.slides.length-1;return r.slideTo(i,e,t,n)}return i.loop&&0===r.activeIndex&&i.cssMode?(requestAnimationFrame((()=>{r.slideTo(m,e,t,n)})),!0):r.slideTo(m,e,t,n)},slideReset:function(e,t,n){return void 0===e&&(e=this.params.speed),void 0===t&&(t=!0),this.slideTo(this.activeIndex,e,t,n)},slideToClosest:function(e,t,n,r){void 0===e&&(e=this.params.speed),void 0===t&&(t=!0),void 0===r&&(r=.5);const i=this;let s=i.activeIndex;const o=Math.min(i.params.slidesPerGroupSkip,s),a=o+Math.floor((s-o)/i.params.slidesPerGroup),l=i.rtlTranslate?i.translate:-i.translate;if(l>=i.snapGrid[a]){const e=i.snapGrid[a];l-e>(i.snapGrid[a+1]-e)*r&&(s+=i.params.slidesPerGroup)}else{const e=i.snapGrid[a-1];l-e<=(i.snapGrid[a]-e)*r&&(s-=i.params.slidesPerGroup)}return s=Math.max(s,0),s=Math.min(s,i.slidesGrid.length-1),i.slideTo(s,e,t,n)},slideToClickedSlide:function(){const e=this,{params:t,slidesEl:n}=e,r="auto"===t.slidesPerView?e.slidesPerViewDynamic():t.slidesPerView;let i,s=e.clickedIndex;const o=e.isElement?"swiper-slide":".".concat(t.slideClass);if(t.loop){if(e.animating)return;i=parseInt(e.clickedSlide.getAttribute("data-swiper-slide-index"),10),t.centeredSlides?s<e.loopedSlides-r/2||s>e.slides.length-e.loopedSlides+r/2?(e.loopFix(),s=e.getSlideIndex(Dk(n,"".concat(o,'[data-swiper-slide-index="').concat(i,'"]'))[0]),kk((()=>{e.slideTo(s)}))):e.slideTo(s):s>e.slides.length-r?(e.loopFix(),s=e.getSlideIndex(Dk(n,"".concat(o,'[data-swiper-slide-index="').concat(i,'"]'))[0]),kk((()=>{e.slideTo(s)}))):e.slideTo(s)}else e.slideTo(s)}};var eI={loopCreate:function(e){const t=this,{params:n,slidesEl:r}=t;if(!n.loop||t.virtual&&t.params.virtual.enabled)return;const i=()=>{Dk(r,".".concat(n.slideClass,", swiper-slide")).forEach(((e,t)=>{e.setAttribute("data-swiper-slide-index",t)}))},s=t.grid&&n.grid&&n.grid.rows>1,o=n.slidesPerGroup*(s?n.grid.rows:1),a=t.slides.length%o!==0,l=s&&t.slides.length%n.grid.rows!==0,c=e=>{for(let r=0;r<e;r+=1){const e=t.isElement?Mk("swiper-slide",[n.slideBlankClass]):Mk("div",[n.slideClass,n.slideBlankClass]);t.slidesEl.append(e)}};if(a){if(n.loopAddBlankSlides){c(o-t.slides.length%o),t.recalcSlides(),t.updateSlides()}else Rk("Swiper Loop Warning: The number of slides is not even to slidesPerGroup, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");i()}else if(l){if(n.loopAddBlankSlides){c(n.grid.rows-t.slides.length%n.grid.rows),t.recalcSlides(),t.updateSlides()}else Rk("Swiper Loop Warning: The number of slides is not even to grid.rows, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");i()}else i();t.loopFix({slideRealIndex:e,direction:n.centeredSlides?void 0:"next"})},loopFix:function(e){let{slideRealIndex:t,slideTo:n=!0,direction:r,setTranslate:i,activeSlideIndex:s,byController:o,byMousewheel:a}=void 0===e?{}:e;const l=this;if(!l.params.loop)return;l.emit("beforeLoopFix");const{slides:c,allowSlidePrev:u,allowSlideNext:d,slidesEl:h,params:f}=l,{centeredSlides:p}=f;if(l.allowSlidePrev=!0,l.allowSlideNext=!0,l.virtual&&f.virtual.enabled)return n&&(f.centeredSlides||0!==l.snapIndex?f.centeredSlides&&l.snapIndex<f.slidesPerView?l.slideTo(l.virtual.slides.length+l.snapIndex,0,!1,!0):l.snapIndex===l.snapGrid.length-1&&l.slideTo(l.virtual.slidesBefore,0,!1,!0):l.slideTo(l.virtual.slides.length,0,!1,!0)),l.allowSlidePrev=u,l.allowSlideNext=d,void l.emit("loopFix");let m=f.slidesPerView;"auto"===m?m=l.slidesPerViewDynamic():(m=Math.ceil(parseFloat(f.slidesPerView,10)),p&&m%2===0&&(m+=1));const g=f.slidesPerGroupAuto?m:f.slidesPerGroup;let y=g;y%g!==0&&(y+=g-y%g),y+=f.loopAdditionalSlides,l.loopedSlides=y;const v=l.grid&&f.grid&&f.grid.rows>1;c.length<m+y?Rk("Swiper Loop Warning: The number of slides is not enough for loop mode, it will be disabled and not function properly. You need to add more slides (or make duplicates) or lower the values of slidesPerView and slidesPerGroup parameters"):v&&"row"===f.grid.fill&&Rk("Swiper Loop Warning: Loop mode is not compatible with grid.fill = `row`");const w=[],b=[];let _=l.activeIndex;"undefined"===typeof s?s=l.getSlideIndex(c.filter((e=>e.classList.contains(f.slideActiveClass)))[0]):_=s;const S="next"===r||!r,E="prev"===r||!r;let x=0,T=0;const k=v?Math.ceil(c.length/f.grid.rows):c.length,I=(v?c[s].column:s)+(p&&"undefined"===typeof i?-m/2+.5:0);if(I<y){x=Math.max(y-I,g);for(let e=0;e<y-I;e+=1){const t=e-Math.floor(e/k)*k;if(v){const e=k-t-1;for(let t=c.length-1;t>=0;t-=1)c[t].column===e&&w.push(t)}else w.push(k-t-1)}}else if(I+m>k-y){T=Math.max(I-(k-2*y),g);for(let e=0;e<T;e+=1){const t=e-Math.floor(e/k)*k;v?c.forEach(((e,n)=>{e.column===t&&b.push(n)})):b.push(t)}}if(l.__preventObserver__=!0,requestAnimationFrame((()=>{l.__preventObserver__=!1})),E&&w.forEach((e=>{c[e].swiperLoopMoveDOM=!0,h.prepend(c[e]),c[e].swiperLoopMoveDOM=!1})),S&&b.forEach((e=>{c[e].swiperLoopMoveDOM=!0,h.append(c[e]),c[e].swiperLoopMoveDOM=!1})),l.recalcSlides(),"auto"===f.slidesPerView?l.updateSlides():v&&(w.length>0&&E||b.length>0&&S)&&l.slides.forEach(((e,t)=>{l.grid.updateSlide(t,e,l.slides)})),f.watchSlidesProgress&&l.updateSlidesOffset(),n)if(w.length>0&&E){if("undefined"===typeof t){const e=l.slidesGrid[_],t=l.slidesGrid[_+x]-e;a?l.setTranslate(l.translate-t):(l.slideTo(_+x,0,!1,!0),i&&(l.touchEventsData.startTranslate=l.touchEventsData.startTranslate-t,l.touchEventsData.currentTranslate=l.touchEventsData.currentTranslate-t))}else if(i){const e=v?w.length/f.grid.rows:w.length;l.slideTo(l.activeIndex+e,0,!1,!0),l.touchEventsData.currentTranslate=l.translate}}else if(b.length>0&&S)if("undefined"===typeof t){const e=l.slidesGrid[_],t=l.slidesGrid[_-T]-e;a?l.setTranslate(l.translate-t):(l.slideTo(_-T,0,!1,!0),i&&(l.touchEventsData.startTranslate=l.touchEventsData.startTranslate-t,l.touchEventsData.currentTranslate=l.touchEventsData.currentTranslate-t))}else{const e=v?b.length/f.grid.rows:b.length;l.slideTo(l.activeIndex-e,0,!1,!0)}if(l.allowSlidePrev=u,l.allowSlideNext=d,l.controller&&l.controller.control&&!o){const e={slideRealIndex:t,direction:r,setTranslate:i,activeSlideIndex:s,byController:!0};Array.isArray(l.controller.control)?l.controller.control.forEach((t=>{!t.destroyed&&t.params.loop&&t.loopFix({...e,slideTo:t.params.slidesPerView===f.slidesPerView&&n})})):l.controller.control instanceof l.constructor&&l.controller.control.params.loop&&l.controller.control.loopFix({...e,slideTo:l.controller.control.params.slidesPerView===f.slidesPerView&&n})}l.emit("loopFix")},loopDestroy:function(){const e=this,{params:t,slidesEl:n}=e;if(!t.loop||e.virtual&&e.params.virtual.enabled)return;e.recalcSlides();const r=[];e.slides.forEach((e=>{const t="undefined"===typeof e.swiperSlideIndex?1*e.getAttribute("data-swiper-slide-index"):e.swiperSlideIndex;r[t]=e})),e.slides.forEach((e=>{e.removeAttribute("data-swiper-slide-index")})),r.forEach((e=>{n.append(e)})),e.recalcSlides(),e.slideTo(e.realIndex,0)}};var tI={setGrabCursor:function(e){const t=this;if(!t.params.simulateTouch||t.params.watchOverflow&&t.isLocked||t.params.cssMode)return;const n="container"===t.params.touchEventsTarget?t.el:t.wrapperEl;t.isElement&&(t.__preventObserver__=!0),n.style.cursor="move",n.style.cursor=e?"grabbing":"grab",t.isElement&&requestAnimationFrame((()=>{t.__preventObserver__=!1}))},unsetGrabCursor:function(){const e=this;e.params.watchOverflow&&e.isLocked||e.params.cssMode||(e.isElement&&(e.__preventObserver__=!0),e["container"===e.params.touchEventsTarget?"el":"wrapperEl"].style.cursor="",e.isElement&&requestAnimationFrame((()=>{e.__preventObserver__=!1})))}};function nI(e,t,n){const r=Tk(),{params:i}=e,s=i.edgeSwipeDetection,o=i.edgeSwipeThreshold;return!s||!(n<=o||n>=r.innerWidth-o)||"prevent"===s&&(t.preventDefault(),!0)}function rI(e){const t=this,n=Ek();let r=e;r.originalEvent&&(r=r.originalEvent);const i=t.touchEventsData;if("pointerdown"===r.type){if(null!==i.pointerId&&i.pointerId!==r.pointerId)return;i.pointerId=r.pointerId}else"touchstart"===r.type&&1===r.targetTouches.length&&(i.touchId=r.targetTouches[0].identifier);if("touchstart"===r.type)return void nI(t,r,r.targetTouches[0].pageX);const{params:s,touches:o,enabled:a}=t;if(!a)return;if(!s.simulateTouch&&"mouse"===r.pointerType)return;if(t.animating&&s.preventInteractionOnTransition)return;!t.animating&&s.cssMode&&s.loop&&t.loopFix();let l=r.target;if("wrapper"===s.touchEventsTarget&&!t.wrapperEl.contains(l))return;if("which"in r&&3===r.which)return;if("button"in r&&r.button>0)return;if(i.isTouched&&i.isMoved)return;const c=!!s.noSwipingClass&&""!==s.noSwipingClass,u=r.composedPath?r.composedPath():r.path;c&&r.target&&r.target.shadowRoot&&u&&(l=u[0]);const d=s.noSwipingSelector?s.noSwipingSelector:".".concat(s.noSwipingClass),h=!(!r.target||!r.target.shadowRoot);if(s.noSwiping&&(h?function(e,t){return void 0===t&&(t=this),function t(n){if(!n||n===Ek()||n===Tk())return null;n.assignedSlot&&(n=n.assignedSlot);const r=n.closest(e);return r||n.getRootNode?r||t(n.getRootNode().host):null}(t)}(d,l):l.closest(d)))return void(t.allowClick=!0);if(s.swipeHandler&&!l.closest(s.swipeHandler))return;o.currentX=r.pageX,o.currentY=r.pageY;const f=o.currentX,p=o.currentY;if(!nI(t,r,f))return;Object.assign(i,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),o.startX=f,o.startY=p,i.touchStartTime=Ik(),t.allowClick=!0,t.updateSize(),t.swipeDirection=void 0,s.threshold>0&&(i.allowThresholdMove=!1);let m=!0;l.matches(i.focusableElements)&&(m=!1,"SELECT"===l.nodeName&&(i.isTouched=!1)),n.activeElement&&n.activeElement.matches(i.focusableElements)&&n.activeElement!==l&&n.activeElement.blur();const g=m&&t.allowTouchMove&&s.touchStartPreventDefault;!s.touchStartForcePreventDefault&&!g||l.isContentEditable||r.preventDefault(),s.freeMode&&s.freeMode.enabled&&t.freeMode&&t.animating&&!s.cssMode&&t.freeMode.onTouchStart(),t.emit("touchStart",r)}function iI(e){const t=Ek(),n=this,r=n.touchEventsData,{params:i,touches:s,rtlTranslate:o,enabled:a}=n;if(!a)return;if(!i.simulateTouch&&"mouse"===e.pointerType)return;let l,c=e;if(c.originalEvent&&(c=c.originalEvent),"pointermove"===c.type){if(null!==r.touchId)return;if(c.pointerId!==r.pointerId)return}if("touchmove"===c.type){if(l=[...c.changedTouches].filter((e=>e.identifier===r.touchId))[0],!l||l.identifier!==r.touchId)return}else l=c;if(!r.isTouched)return void(r.startMoving&&r.isScrolling&&n.emit("touchMoveOpposite",c));const u=l.pageX,d=l.pageY;if(c.preventedByNestedSwiper)return s.startX=u,void(s.startY=d);if(!n.allowTouchMove)return c.target.matches(r.focusableElements)||(n.allowClick=!1),void(r.isTouched&&(Object.assign(s,{startX:u,startY:d,currentX:u,currentY:d}),r.touchStartTime=Ik()));if(i.touchReleaseOnEdges&&!i.loop)if(n.isVertical()){if(d<s.startY&&n.translate<=n.maxTranslate()||d>s.startY&&n.translate>=n.minTranslate())return r.isTouched=!1,void(r.isMoved=!1)}else if(u<s.startX&&n.translate<=n.maxTranslate()||u>s.startX&&n.translate>=n.minTranslate())return;if(t.activeElement&&c.target===t.activeElement&&c.target.matches(r.focusableElements))return r.isMoved=!0,void(n.allowClick=!1);r.allowTouchCallbacks&&n.emit("touchMove",c),s.previousX=s.currentX,s.previousY=s.currentY,s.currentX=u,s.currentY=d;const h=s.currentX-s.startX,f=s.currentY-s.startY;if(n.params.threshold&&Math.sqrt(h**2+f**2)<n.params.threshold)return;if("undefined"===typeof r.isScrolling){let e;n.isHorizontal()&&s.currentY===s.startY||n.isVertical()&&s.currentX===s.startX?r.isScrolling=!1:h*h+f*f>=25&&(e=180*Math.atan2(Math.abs(f),Math.abs(h))/Math.PI,r.isScrolling=n.isHorizontal()?e>i.touchAngle:90-e>i.touchAngle)}if(r.isScrolling&&n.emit("touchMoveOpposite",c),"undefined"===typeof r.startMoving&&(s.currentX===s.startX&&s.currentY===s.startY||(r.startMoving=!0)),r.isScrolling)return void(r.isTouched=!1);if(!r.startMoving)return;n.allowClick=!1,!i.cssMode&&c.cancelable&&c.preventDefault(),i.touchMoveStopPropagation&&!i.nested&&c.stopPropagation();let p=n.isHorizontal()?h:f,m=n.isHorizontal()?s.currentX-s.previousX:s.currentY-s.previousY;i.oneWayMovement&&(p=Math.abs(p)*(o?1:-1),m=Math.abs(m)*(o?1:-1)),s.diff=p,p*=i.touchRatio,o&&(p=-p,m=-m);const g=n.touchesDirection;n.swipeDirection=p>0?"prev":"next",n.touchesDirection=m>0?"prev":"next";const y=n.params.loop&&!i.cssMode,v="next"===n.touchesDirection&&n.allowSlideNext||"prev"===n.touchesDirection&&n.allowSlidePrev;if(!r.isMoved){if(y&&v&&n.loopFix({direction:n.swipeDirection}),r.startTranslate=n.getTranslate(),n.setTransition(0),n.animating){const e=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0});n.wrapperEl.dispatchEvent(e)}r.allowMomentumBounce=!1,!i.grabCursor||!0!==n.allowSlideNext&&!0!==n.allowSlidePrev||n.setGrabCursor(!0),n.emit("sliderFirstMove",c)}if((new Date).getTime(),r.isMoved&&r.allowThresholdMove&&g!==n.touchesDirection&&y&&v&&Math.abs(p)>=1)return Object.assign(s,{startX:u,startY:d,currentX:u,currentY:d,startTranslate:r.currentTranslate}),r.loopSwapReset=!0,void(r.startTranslate=r.currentTranslate);n.emit("sliderMove",c),r.isMoved=!0,r.currentTranslate=p+r.startTranslate;let w=!0,b=i.resistanceRatio;if(i.touchReleaseOnEdges&&(b=0),p>0?(y&&v&&r.allowThresholdMove&&r.currentTranslate>(i.centeredSlides?n.minTranslate()-n.slidesSizesGrid[n.activeIndex+1]:n.minTranslate())&&n.loopFix({direction:"prev",setTranslate:!0,activeSlideIndex:0}),r.currentTranslate>n.minTranslate()&&(w=!1,i.resistance&&(r.currentTranslate=n.minTranslate()-1+(-n.minTranslate()+r.startTranslate+p)**b))):p<0&&(y&&v&&r.allowThresholdMove&&r.currentTranslate<(i.centeredSlides?n.maxTranslate()+n.slidesSizesGrid[n.slidesSizesGrid.length-1]:n.maxTranslate())&&n.loopFix({direction:"next",setTranslate:!0,activeSlideIndex:n.slides.length-("auto"===i.slidesPerView?n.slidesPerViewDynamic():Math.ceil(parseFloat(i.slidesPerView,10)))}),r.currentTranslate<n.maxTranslate()&&(w=!1,i.resistance&&(r.currentTranslate=n.maxTranslate()+1-(n.maxTranslate()-r.startTranslate-p)**b))),w&&(c.preventedByNestedSwiper=!0),!n.allowSlideNext&&"next"===n.swipeDirection&&r.currentTranslate<r.startTranslate&&(r.currentTranslate=r.startTranslate),!n.allowSlidePrev&&"prev"===n.swipeDirection&&r.currentTranslate>r.startTranslate&&(r.currentTranslate=r.startTranslate),n.allowSlidePrev||n.allowSlideNext||(r.currentTranslate=r.startTranslate),i.threshold>0){if(!(Math.abs(p)>i.threshold||r.allowThresholdMove))return void(r.currentTranslate=r.startTranslate);if(!r.allowThresholdMove)return r.allowThresholdMove=!0,s.startX=s.currentX,s.startY=s.currentY,r.currentTranslate=r.startTranslate,void(s.diff=n.isHorizontal()?s.currentX-s.startX:s.currentY-s.startY)}i.followFinger&&!i.cssMode&&((i.freeMode&&i.freeMode.enabled&&n.freeMode||i.watchSlidesProgress)&&(n.updateActiveIndex(),n.updateSlidesClasses()),i.freeMode&&i.freeMode.enabled&&n.freeMode&&n.freeMode.onTouchMove(),n.updateProgress(r.currentTranslate),n.setTranslate(r.currentTranslate))}function sI(e){const t=this,n=t.touchEventsData;let r,i=e;i.originalEvent&&(i=i.originalEvent);if("touchend"===i.type||"touchcancel"===i.type){if(r=[...i.changedTouches].filter((e=>e.identifier===n.touchId))[0],!r||r.identifier!==n.touchId)return}else{if(null!==n.touchId)return;if(i.pointerId!==n.pointerId)return;r=i}if(["pointercancel","pointerout","pointerleave","contextmenu"].includes(i.type)){if(!(["pointercancel","contextmenu"].includes(i.type)&&(t.browser.isSafari||t.browser.isWebView)))return}n.pointerId=null,n.touchId=null;const{params:s,touches:o,rtlTranslate:a,slidesGrid:l,enabled:c}=t;if(!c)return;if(!s.simulateTouch&&"mouse"===i.pointerType)return;if(n.allowTouchCallbacks&&t.emit("touchEnd",i),n.allowTouchCallbacks=!1,!n.isTouched)return n.isMoved&&s.grabCursor&&t.setGrabCursor(!1),n.isMoved=!1,void(n.startMoving=!1);s.grabCursor&&n.isMoved&&n.isTouched&&(!0===t.allowSlideNext||!0===t.allowSlidePrev)&&t.setGrabCursor(!1);const u=Ik(),d=u-n.touchStartTime;if(t.allowClick){const e=i.path||i.composedPath&&i.composedPath();t.updateClickedSlide(e&&e[0]||i.target,e),t.emit("tap click",i),d<300&&u-n.lastClickTime<300&&t.emit("doubleTap doubleClick",i)}if(n.lastClickTime=Ik(),kk((()=>{t.destroyed||(t.allowClick=!0)})),!n.isTouched||!n.isMoved||!t.swipeDirection||0===o.diff&&!n.loopSwapReset||n.currentTranslate===n.startTranslate&&!n.loopSwapReset)return n.isTouched=!1,n.isMoved=!1,void(n.startMoving=!1);let h;if(n.isTouched=!1,n.isMoved=!1,n.startMoving=!1,h=s.followFinger?a?t.translate:-t.translate:-n.currentTranslate,s.cssMode)return;if(s.freeMode&&s.freeMode.enabled)return void t.freeMode.onTouchEnd({currentPos:h});const f=h>=-t.maxTranslate()&&!t.params.loop;let p=0,m=t.slidesSizesGrid[0];for(let b=0;b<l.length;b+=b<s.slidesPerGroupSkip?1:s.slidesPerGroup){const e=b<s.slidesPerGroupSkip-1?1:s.slidesPerGroup;"undefined"!==typeof l[b+e]?(f||h>=l[b]&&h<l[b+e])&&(p=b,m=l[b+e]-l[b]):(f||h>=l[b])&&(p=b,m=l[l.length-1]-l[l.length-2])}let g=null,y=null;s.rewind&&(t.isBeginning?y=s.virtual&&s.virtual.enabled&&t.virtual?t.virtual.slides.length-1:t.slides.length-1:t.isEnd&&(g=0));const v=(h-l[p])/m,w=p<s.slidesPerGroupSkip-1?1:s.slidesPerGroup;if(d>s.longSwipesMs){if(!s.longSwipes)return void t.slideTo(t.activeIndex);"next"===t.swipeDirection&&(v>=s.longSwipesRatio?t.slideTo(s.rewind&&t.isEnd?g:p+w):t.slideTo(p)),"prev"===t.swipeDirection&&(v>1-s.longSwipesRatio?t.slideTo(p+w):null!==y&&v<0&&Math.abs(v)>s.longSwipesRatio?t.slideTo(y):t.slideTo(p))}else{if(!s.shortSwipes)return void t.slideTo(t.activeIndex);t.navigation&&(i.target===t.navigation.nextEl||i.target===t.navigation.prevEl)?i.target===t.navigation.nextEl?t.slideTo(p+w):t.slideTo(p):("next"===t.swipeDirection&&t.slideTo(null!==g?g:p+w),"prev"===t.swipeDirection&&t.slideTo(null!==y?y:p))}}function oI(){const e=this,{params:t,el:n}=e;if(n&&0===n.offsetWidth)return;t.breakpoints&&e.setBreakpoint();const{allowSlideNext:r,allowSlidePrev:i,snapGrid:s}=e,o=e.virtual&&e.params.virtual.enabled;e.allowSlideNext=!0,e.allowSlidePrev=!0,e.updateSize(),e.updateSlides(),e.updateSlidesClasses();const a=o&&t.loop;!("auto"===t.slidesPerView||t.slidesPerView>1)||!e.isEnd||e.isBeginning||e.params.centeredSlides||a?e.params.loop&&!o?e.slideToLoop(e.realIndex,0,!1,!0):e.slideTo(e.activeIndex,0,!1,!0):e.slideTo(e.slides.length-1,0,!1,!0),e.autoplay&&e.autoplay.running&&e.autoplay.paused&&(clearTimeout(e.autoplay.resizeTimeout),e.autoplay.resizeTimeout=setTimeout((()=>{e.autoplay&&e.autoplay.running&&e.autoplay.paused&&e.autoplay.resume()}),500)),e.allowSlidePrev=i,e.allowSlideNext=r,e.params.watchOverflow&&s!==e.snapGrid&&e.checkOverflow()}function aI(e){const t=this;t.enabled&&(t.allowClick||(t.params.preventClicks&&e.preventDefault(),t.params.preventClicksPropagation&&t.animating&&(e.stopPropagation(),e.stopImmediatePropagation())))}function lI(){const e=this,{wrapperEl:t,rtlTranslate:n,enabled:r}=e;if(!r)return;let i;e.previousTranslate=e.translate,e.isHorizontal()?e.translate=-t.scrollLeft:e.translate=-t.scrollTop,0===e.translate&&(e.translate=0),e.updateActiveIndex(),e.updateSlidesClasses();const s=e.maxTranslate()-e.minTranslate();i=0===s?0:(e.translate-e.minTranslate())/s,i!==e.progress&&e.updateProgress(n?-e.translate:e.translate),e.emit("setTranslate",e.translate,!1)}function cI(e){const t=this;Hk(t,e.target),t.params.cssMode||"auto"!==t.params.slidesPerView&&!t.params.autoHeight||t.update()}function uI(){const e=this;e.documentTouchHandlerProceeded||(e.documentTouchHandlerProceeded=!0,e.params.touchReleaseOnEdges&&(e.el.style.touchAction="auto"))}const dI=(e,t)=>{const n=Ek(),{params:r,el:i,wrapperEl:s,device:o}=e,a=!!r.nested,l="on"===t?"addEventListener":"removeEventListener",c=t;n[l]("touchstart",e.onDocumentTouchStart,{passive:!1,capture:a}),i[l]("touchstart",e.onTouchStart,{passive:!1}),i[l]("pointerdown",e.onTouchStart,{passive:!1}),n[l]("touchmove",e.onTouchMove,{passive:!1,capture:a}),n[l]("pointermove",e.onTouchMove,{passive:!1,capture:a}),n[l]("touchend",e.onTouchEnd,{passive:!0}),n[l]("pointerup",e.onTouchEnd,{passive:!0}),n[l]("pointercancel",e.onTouchEnd,{passive:!0}),n[l]("touchcancel",e.onTouchEnd,{passive:!0}),n[l]("pointerout",e.onTouchEnd,{passive:!0}),n[l]("pointerleave",e.onTouchEnd,{passive:!0}),n[l]("contextmenu",e.onTouchEnd,{passive:!0}),(r.preventClicks||r.preventClicksPropagation)&&i[l]("click",e.onClick,!0),r.cssMode&&s[l]("scroll",e.onScroll),r.updateOnWindowResize?e[c](o.ios||o.android?"resize orientationchange observerUpdate":"resize observerUpdate",oI,!0):e[c]("observerUpdate",oI,!0),i[l]("load",e.onLoad,{capture:!0})};var hI={attachEvents:function(){const e=this,{params:t}=e;e.onTouchStart=rI.bind(e),e.onTouchMove=iI.bind(e),e.onTouchEnd=sI.bind(e),e.onDocumentTouchStart=uI.bind(e),t.cssMode&&(e.onScroll=lI.bind(e)),e.onClick=aI.bind(e),e.onLoad=cI.bind(e),dI(e,"on")},detachEvents:function(){dI(this,"off")}};const fI=(e,t)=>e.grid&&t.grid&&t.grid.rows>1;var pI={setBreakpoint:function(){const e=this,{realIndex:t,initialized:n,params:r,el:i}=e,s=r.breakpoints;if(!s||s&&0===Object.keys(s).length)return;const o=e.getBreakpoint(s,e.params.breakpointsBase,e.el);if(!o||e.currentBreakpoint===o)return;const a=(o in s?s[o]:void 0)||e.originalParams,l=fI(e,r),c=fI(e,a),u=r.enabled;l&&!c?(i.classList.remove("".concat(r.containerModifierClass,"grid"),"".concat(r.containerModifierClass,"grid-column")),e.emitContainerClasses()):!l&&c&&(i.classList.add("".concat(r.containerModifierClass,"grid")),(a.grid.fill&&"column"===a.grid.fill||!a.grid.fill&&"column"===r.grid.fill)&&i.classList.add("".concat(r.containerModifierClass,"grid-column")),e.emitContainerClasses()),["navigation","pagination","scrollbar"].forEach((t=>{if("undefined"===typeof a[t])return;const n=r[t]&&r[t].enabled,i=a[t]&&a[t].enabled;n&&!i&&e[t].disable(),!n&&i&&e[t].enable()}));const d=a.direction&&a.direction!==r.direction,h=r.loop&&(a.slidesPerView!==r.slidesPerView||d),f=r.loop;d&&n&&e.changeDirection(),Ak(e.params,a);const p=e.params.enabled,m=e.params.loop;Object.assign(e,{allowTouchMove:e.params.allowTouchMove,allowSlideNext:e.params.allowSlideNext,allowSlidePrev:e.params.allowSlidePrev}),u&&!p?e.disable():!u&&p&&e.enable(),e.currentBreakpoint=o,e.emit("_beforeBreakpoint",a),n&&(h?(e.loopDestroy(),e.loopCreate(t),e.updateSlides()):!f&&m?(e.loopCreate(t),e.updateSlides()):f&&!m&&e.loopDestroy()),e.emit("breakpoint",a)},getBreakpoint:function(e,t,n){if(void 0===t&&(t="window"),!e||"container"===t&&!n)return;let r=!1;const i=Tk(),s="window"===t?i.innerHeight:n.clientHeight,o=Object.keys(e).map((e=>{if("string"===typeof e&&0===e.indexOf("@")){const t=parseFloat(e.substr(1));return{value:s*t,point:e}}return{value:e,point:e}}));o.sort(((e,t)=>parseInt(e.value,10)-parseInt(t.value,10)));for(let a=0;a<o.length;a+=1){const{point:e,value:s}=o[a];"window"===t?i.matchMedia("(min-width: ".concat(s,"px)")).matches&&(r=e):s<=n.clientWidth&&(r=e)}return r||"max"}};var mI={addClasses:function(){const e=this,{classNames:t,params:n,rtl:r,el:i,device:s}=e,o=function(e,t){const n=[];return e.forEach((e=>{"object"===typeof e?Object.keys(e).forEach((r=>{e[r]&&n.push(t+r)})):"string"===typeof e&&n.push(t+e)})),n}(["initialized",n.direction,{"free-mode":e.params.freeMode&&n.freeMode.enabled},{autoheight:n.autoHeight},{rtl:r},{grid:n.grid&&n.grid.rows>1},{"grid-column":n.grid&&n.grid.rows>1&&"column"===n.grid.fill},{android:s.android},{ios:s.ios},{"css-mode":n.cssMode},{centered:n.cssMode&&n.centeredSlides},{"watch-progress":n.watchSlidesProgress}],n.containerModifierClass);t.push(...o),i.classList.add(...t),e.emitContainerClasses()},removeClasses:function(){const{el:e,classNames:t}=this;e.classList.remove(...t),this.emitContainerClasses()}};var gI={checkOverflow:function(){const e=this,{isLocked:t,params:n}=e,{slidesOffsetBefore:r}=n;if(r){const t=e.slides.length-1,n=e.slidesGrid[t]+e.slidesSizesGrid[t]+2*r;e.isLocked=e.size>n}else e.isLocked=1===e.snapGrid.length;!0===n.allowSlideNext&&(e.allowSlideNext=!e.isLocked),!0===n.allowSlidePrev&&(e.allowSlidePrev=!e.isLocked),t&&t!==e.isLocked&&(e.isEnd=!1),t!==e.isLocked&&e.emit(e.isLocked?"lock":"unlock")}},yI={init:!0,direction:"horizontal",oneWayMovement:!1,touchEventsTarget:"wrapper",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!0,nested:!1,createElements:!1,eventsPrefix:"swiper",enabled:!0,focusableElements:"input, select, option, textarea, button, video, label",width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerGroup:1,slidesPerGroupSkip:0,slidesPerGroupAuto:!1,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:5,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,loop:!1,loopAddBlankSlides:!0,loopAdditionalSlides:0,loopPreventsSliding:!0,rewind:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,maxBackfaceHiddenSlides:10,containerModifierClass:"swiper-",slideClass:"swiper-slide",slideBlankClass:"swiper-slide-blank",slideActiveClass:"swiper-slide-active",slideVisibleClass:"swiper-slide-visible",slideFullyVisibleClass:"swiper-slide-fully-visible",slideNextClass:"swiper-slide-next",slidePrevClass:"swiper-slide-prev",wrapperClass:"swiper-wrapper",lazyPreloaderClass:"swiper-lazy-preloader",lazyPreloadPrevNext:0,runCallbacksOnInit:!0,_emitClasses:!1};function vI(e,t){return function(n){void 0===n&&(n={});const r=Object.keys(n)[0],i=n[r];"object"===typeof i&&null!==i?(!0===e[r]&&(e[r]={enabled:!0}),"navigation"===r&&e[r]&&e[r].enabled&&!e[r].prevEl&&!e[r].nextEl&&(e[r].auto=!0),["pagination","scrollbar"].indexOf(r)>=0&&e[r]&&e[r].enabled&&!e[r].el&&(e[r].auto=!0),r in e&&"enabled"in i?("object"!==typeof e[r]||"enabled"in e[r]||(e[r].enabled=!0),e[r]||(e[r]={enabled:!1}),Ak(t,n)):Ak(t,n)):Ak(t,n)}}const wI={eventsEmitter:Gk,update:Qk,translate:Xk,transition:$k,slide:Zk,loop:eI,grabCursor:tI,events:hI,breakpoints:pI,checkOverflow:gI,classes:mI},bI={};class _I{constructor(){let e,t;for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];1===r.length&&r[0].constructor&&"Object"===Object.prototype.toString.call(r[0]).slice(8,-1)?t=r[0]:[e,t]=r,t||(t={}),t=Ak({},t),e&&!t.el&&(t.el=e);const s=Ek();if(t.el&&"string"===typeof t.el&&s.querySelectorAll(t.el).length>1){const e=[];return s.querySelectorAll(t.el).forEach((n=>{const r=Ak({},t,{el:n});e.push(new _I(r))})),e}const o=this;o.__swiper__=!0,o.support=Bk(),o.device=qk({userAgent:t.userAgent}),o.browser=Wk(),o.eventsListeners={},o.eventsAnyListeners=[],o.modules=[...o.__modules__],t.modules&&Array.isArray(t.modules)&&o.modules.push(...t.modules);const a={};o.modules.forEach((e=>{e({params:t,swiper:o,extendParams:vI(t,a),on:o.on.bind(o),once:o.once.bind(o),off:o.off.bind(o),emit:o.emit.bind(o)})}));const l=Ak({},yI,a);return o.params=Ak({},l,bI,t),o.originalParams=Ak({},o.params),o.passedParams=Ak({},t),o.params&&o.params.on&&Object.keys(o.params.on).forEach((e=>{o.on(e,o.params.on[e])})),o.params&&o.params.onAny&&o.onAny(o.params.onAny),Object.assign(o,{enabled:o.params.enabled,el:e,classNames:[],slides:[],slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal:()=>"horizontal"===o.params.direction,isVertical:()=>"vertical"===o.params.direction,activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,cssOverflowAdjustment(){return Math.trunc(this.translate/2**23)*2**23},allowSlideNext:o.params.allowSlideNext,allowSlidePrev:o.params.allowSlidePrev,touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,focusableElements:o.params.focusableElements,lastClickTime:0,clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,startMoving:void 0,pointerId:null,touchId:null},allowClick:!0,allowTouchMove:o.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),o.emit("_swiper"),o.params.init&&o.init(),o}getDirectionLabel(e){return this.isHorizontal()?e:{width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"}[e]}getSlideIndex(e){const{slidesEl:t,params:n}=this,r=jk(Dk(t,".".concat(n.slideClass,", swiper-slide"))[0]);return jk(e)-r}getSlideIndexByData(e){return this.getSlideIndex(this.slides.filter((t=>1*t.getAttribute("data-swiper-slide-index")===e))[0])}recalcSlides(){const{slidesEl:e,params:t}=this;this.slides=Dk(e,".".concat(t.slideClass,", swiper-slide"))}enable(){const e=this;e.enabled||(e.enabled=!0,e.params.grabCursor&&e.setGrabCursor(),e.emit("enable"))}disable(){const e=this;e.enabled&&(e.enabled=!1,e.params.grabCursor&&e.unsetGrabCursor(),e.emit("disable"))}setProgress(e,t){const n=this;e=Math.min(Math.max(e,0),1);const r=n.minTranslate(),i=(n.maxTranslate()-r)*e+r;n.translateTo(i,"undefined"===typeof t?0:t),n.updateActiveIndex(),n.updateSlidesClasses()}emitContainerClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const t=e.el.className.split(" ").filter((t=>0===t.indexOf("swiper")||0===t.indexOf(e.params.containerModifierClass)));e.emit("_containerClasses",t.join(" "))}getSlideClasses(e){const t=this;return t.destroyed?"":e.className.split(" ").filter((e=>0===e.indexOf("swiper-slide")||0===e.indexOf(t.params.slideClass))).join(" ")}emitSlidesClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const t=[];e.slides.forEach((n=>{const r=e.getSlideClasses(n);t.push({slideEl:n,classNames:r}),e.emit("_slideClass",n,r)})),e.emit("_slideClasses",t)}slidesPerViewDynamic(e,t){void 0===e&&(e="current"),void 0===t&&(t=!1);const{params:n,slides:r,slidesGrid:i,slidesSizesGrid:s,size:o,activeIndex:a}=this;let l=1;if("number"===typeof n.slidesPerView)return n.slidesPerView;if(n.centeredSlides){let e,t=r[a]?r[a].swiperSlideSize:0;for(let n=a+1;n<r.length;n+=1)r[n]&&!e&&(t+=r[n].swiperSlideSize,l+=1,t>o&&(e=!0));for(let n=a-1;n>=0;n-=1)r[n]&&!e&&(t+=r[n].swiperSlideSize,l+=1,t>o&&(e=!0))}else if("current"===e)for(let c=a+1;c<r.length;c+=1){(t?i[c]+s[c]-i[a]<o:i[c]-i[a]<o)&&(l+=1)}else for(let c=a-1;c>=0;c-=1){i[a]-i[c]<o&&(l+=1)}return l}update(){const e=this;if(!e||e.destroyed)return;const{snapGrid:t,params:n}=e;function r(){const t=e.rtlTranslate?-1*e.translate:e.translate,n=Math.min(Math.max(t,e.maxTranslate()),e.minTranslate());e.setTranslate(n),e.updateActiveIndex(),e.updateSlidesClasses()}let i;if(n.breakpoints&&e.setBreakpoint(),[...e.el.querySelectorAll('[loading="lazy"]')].forEach((t=>{t.complete&&Hk(e,t)})),e.updateSize(),e.updateSlides(),e.updateProgress(),e.updateSlidesClasses(),n.freeMode&&n.freeMode.enabled&&!n.cssMode)r(),n.autoHeight&&e.updateAutoHeight();else{if(("auto"===n.slidesPerView||n.slidesPerView>1)&&e.isEnd&&!n.centeredSlides){const t=e.virtual&&n.virtual.enabled?e.virtual.slides:e.slides;i=e.slideTo(t.length-1,0,!1,!0)}else i=e.slideTo(e.activeIndex,0,!1,!0);i||r()}n.watchOverflow&&t!==e.snapGrid&&e.checkOverflow(),e.emit("update")}changeDirection(e,t){void 0===t&&(t=!0);const n=this,r=n.params.direction;return e||(e="horizontal"===r?"vertical":"horizontal"),e===r||"horizontal"!==e&&"vertical"!==e||(n.el.classList.remove("".concat(n.params.containerModifierClass).concat(r)),n.el.classList.add("".concat(n.params.containerModifierClass).concat(e)),n.emitContainerClasses(),n.params.direction=e,n.slides.forEach((t=>{"vertical"===e?t.style.width="":t.style.height=""})),n.emit("changeDirection"),t&&n.update()),n}changeLanguageDirection(e){const t=this;t.rtl&&"rtl"===e||!t.rtl&&"ltr"===e||(t.rtl="rtl"===e,t.rtlTranslate="horizontal"===t.params.direction&&t.rtl,t.rtl?(t.el.classList.add("".concat(t.params.containerModifierClass,"rtl")),t.el.dir="rtl"):(t.el.classList.remove("".concat(t.params.containerModifierClass,"rtl")),t.el.dir="ltr"),t.update())}mount(e){const t=this;if(t.mounted)return!0;let n=e||t.params.el;if("string"===typeof n&&(n=document.querySelector(n)),!n)return!1;n.swiper=t,n.parentNode&&n.parentNode.host&&"SWIPER-CONTAINER"===n.parentNode.host.nodeName&&(t.isElement=!0);const r=()=>".".concat((t.params.wrapperClass||"").trim().split(" ").join("."));let i=(()=>{if(n&&n.shadowRoot&&n.shadowRoot.querySelector){return n.shadowRoot.querySelector(r())}return Dk(n,r())[0]})();return!i&&t.params.createElements&&(i=Mk("div",t.params.wrapperClass),n.append(i),Dk(n,".".concat(t.params.slideClass)).forEach((e=>{i.append(e)}))),Object.assign(t,{el:n,wrapperEl:i,slidesEl:t.isElement&&!n.parentNode.host.slideSlots?n.parentNode.host:i,hostEl:t.isElement?n.parentNode.host:n,mounted:!0,rtl:"rtl"===n.dir.toLowerCase()||"rtl"===Lk(n,"direction"),rtlTranslate:"horizontal"===t.params.direction&&("rtl"===n.dir.toLowerCase()||"rtl"===Lk(n,"direction")),wrongRTL:"-webkit-box"===Lk(i,"display")}),!0}init(e){const t=this;if(t.initialized)return t;if(!1===t.mount(e))return t;t.emit("beforeInit"),t.params.breakpoints&&t.setBreakpoint(),t.addClasses(),t.updateSize(),t.updateSlides(),t.params.watchOverflow&&t.checkOverflow(),t.params.grabCursor&&t.enabled&&t.setGrabCursor(),t.params.loop&&t.virtual&&t.params.virtual.enabled?t.slideTo(t.params.initialSlide+t.virtual.slidesBefore,0,t.params.runCallbacksOnInit,!1,!0):t.slideTo(t.params.initialSlide,0,t.params.runCallbacksOnInit,!1,!0),t.params.loop&&t.loopCreate(),t.attachEvents();const n=[...t.el.querySelectorAll('[loading="lazy"]')];return t.isElement&&n.push(...t.hostEl.querySelectorAll('[loading="lazy"]')),n.forEach((e=>{e.complete?Hk(t,e):e.addEventListener("load",(e=>{Hk(t,e.target)}))})),Kk(t),t.initialized=!0,Kk(t),t.emit("init"),t.emit("afterInit"),t}destroy(e,t){void 0===e&&(e=!0),void 0===t&&(t=!0);const n=this,{params:r,el:i,wrapperEl:s,slides:o}=n;return"undefined"===typeof n.params||n.destroyed||(n.emit("beforeDestroy"),n.initialized=!1,n.detachEvents(),r.loop&&n.loopDestroy(),t&&(n.removeClasses(),i.removeAttribute("style"),s.removeAttribute("style"),o&&o.length&&o.forEach((e=>{e.classList.remove(r.slideVisibleClass,r.slideFullyVisibleClass,r.slideActiveClass,r.slideNextClass,r.slidePrevClass),e.removeAttribute("style"),e.removeAttribute("data-swiper-slide-index")}))),n.emit("destroy"),Object.keys(n.eventsListeners).forEach((e=>{n.off(e)})),!1!==e&&(n.el.swiper=null,function(e){const t=e;Object.keys(t).forEach((e=>{try{t[e]=null}catch(n){}try{delete t[e]}catch(n){}}))}(n)),n.destroyed=!0),null}static extendDefaults(e){Ak(bI,e)}static get extendedDefaults(){return bI}static get defaults(){return yI}static installModule(e){_I.prototype.__modules__||(_I.prototype.__modules__=[]);const t=_I.prototype.__modules__;"function"===typeof e&&t.indexOf(e)<0&&t.push(e)}static use(e){return Array.isArray(e)?(e.forEach((e=>_I.installModule(e))),_I):(_I.installModule(e),_I)}}Object.keys(wI).forEach((e=>{Object.keys(wI[e]).forEach((t=>{_I.prototype[t]=wI[e][t]}))})),_I.use([function(e){let{swiper:t,on:n,emit:r}=e;const i=Tk();let s=null,o=null;const a=()=>{t&&!t.destroyed&&t.initialized&&(r("beforeResize"),r("resize"))},l=()=>{t&&!t.destroyed&&t.initialized&&r("orientationchange")};n("init",(()=>{t.params.resizeObserver&&"undefined"!==typeof i.ResizeObserver?t&&!t.destroyed&&t.initialized&&(s=new ResizeObserver((e=>{o=i.requestAnimationFrame((()=>{const{width:n,height:r}=t;let i=n,s=r;e.forEach((e=>{let{contentBoxSize:n,contentRect:r,target:o}=e;o&&o!==t.el||(i=r?r.width:(n[0]||n).inlineSize,s=r?r.height:(n[0]||n).blockSize)})),i===n&&s===r||a()}))})),s.observe(t.el)):(i.addEventListener("resize",a),i.addEventListener("orientationchange",l))})),n("destroy",(()=>{o&&i.cancelAnimationFrame(o),s&&s.unobserve&&t.el&&(s.unobserve(t.el),s=null),i.removeEventListener("resize",a),i.removeEventListener("orientationchange",l)}))},function(e){let{swiper:t,extendParams:n,on:r,emit:i}=e;const s=[],o=Tk(),a=function(e,n){void 0===n&&(n={});const r=new(o.MutationObserver||o.WebkitMutationObserver)((e=>{if(t.__preventObserver__)return;if(1===e.length)return void i("observerUpdate",e[0]);const n=function(){i("observerUpdate",e[0])};o.requestAnimationFrame?o.requestAnimationFrame(n):o.setTimeout(n,0)}));r.observe(e,{attributes:"undefined"===typeof n.attributes||n.attributes,childList:"undefined"===typeof n.childList||n.childList,characterData:"undefined"===typeof n.characterData||n.characterData}),s.push(r)};n({observer:!1,observeParents:!1,observeSlideChildren:!1}),r("init",(()=>{if(t.params.observer){if(t.params.observeParents){const e=function(e,t){const n=[];let r=e.parentElement;for(;r;)t?r.matches(t)&&n.push(r):n.push(r),r=r.parentElement;return n}(t.hostEl);for(let t=0;t<e.length;t+=1)a(e[t])}a(t.hostEl,{childList:t.params.observeSlideChildren}),a(t.wrapperEl,{attributes:!1})}})),r("destroy",(()=>{s.forEach((e=>{e.disconnect()})),s.splice(0,s.length)}))}]);const SI=["eventsPrefix","injectStyles","injectStylesUrls","modules","init","_direction","oneWayMovement","touchEventsTarget","initialSlide","_speed","cssMode","updateOnWindowResize","resizeObserver","nested","focusableElements","_enabled","_width","_height","preventInteractionOnTransition","userAgent","url","_edgeSwipeDetection","_edgeSwipeThreshold","_freeMode","_autoHeight","setWrapperSize","virtualTranslate","_effect","breakpoints","breakpointsBase","_spaceBetween","_slidesPerView","maxBackfaceHiddenSlides","_grid","_slidesPerGroup","_slidesPerGroupSkip","_slidesPerGroupAuto","_centeredSlides","_centeredSlidesBounds","_slidesOffsetBefore","_slidesOffsetAfter","normalizeSlideIndex","_centerInsufficientSlides","_watchOverflow","roundLengths","touchRatio","touchAngle","simulateTouch","_shortSwipes","_longSwipes","longSwipesRatio","longSwipesMs","_followFinger","allowTouchMove","_threshold","touchMoveStopPropagation","touchStartPreventDefault","touchStartForcePreventDefault","touchReleaseOnEdges","uniqueNavElements","_resistance","_resistanceRatio","_watchSlidesProgress","_grabCursor","preventClicks","preventClicksPropagation","_slideToClickedSlide","_loop","loopAdditionalSlides","loopAddBlankSlides","loopPreventsSliding","_rewind","_allowSlidePrev","_allowSlideNext","_swipeHandler","_noSwiping","noSwipingClass","noSwipingSelector","passiveListeners","containerModifierClass","slideClass","slideActiveClass","slideVisibleClass","slideFullyVisibleClass","slideNextClass","slidePrevClass","slideBlankClass","wrapperClass","lazyPreloaderClass","lazyPreloadPrevNext","runCallbacksOnInit","observer","observeParents","observeSlideChildren","a11y","_autoplay","_controller","coverflowEffect","cubeEffect","fadeEffect","flipEffect","creativeEffect","cardsEffect","hashNavigation","history","keyboard","mousewheel","_navigation","_pagination","parallax","_scrollbar","_thumbs","virtual","zoom","control"];function EI(e){return"object"===typeof e&&null!==e&&e.constructor&&"Object"===Object.prototype.toString.call(e).slice(8,-1)&&!e.__swiper__}function xI(e,t){const n=["__proto__","constructor","prototype"];Object.keys(t).filter((e=>n.indexOf(e)<0)).forEach((n=>{"undefined"===typeof e[n]?e[n]=t[n]:EI(t[n])&&EI(e[n])&&Object.keys(t[n]).length>0?t[n].__swiper__?e[n]=t[n]:xI(e[n],t[n]):e[n]=t[n]}))}function TI(e){return void 0===e&&(e={}),e.navigation&&"undefined"===typeof e.navigation.nextEl&&"undefined"===typeof e.navigation.prevEl}function kI(e){return void 0===e&&(e={}),e.pagination&&"undefined"===typeof e.pagination.el}function II(e){return void 0===e&&(e={}),e.scrollbar&&"undefined"===typeof e.scrollbar.el}function CI(e){void 0===e&&(e="");const t=e.split(" ").map((e=>e.trim())).filter((e=>!!e)),n=[];return t.forEach((e=>{n.indexOf(e)<0&&n.push(e)})),n.join(" ")}function NI(e){return void 0===e&&(e=""),e?e.includes("swiper-wrapper")?e:"swiper-wrapper ".concat(e):"swiper-wrapper"}function AI(){return AI=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},AI.apply(this,arguments)}function OI(e){return e.type&&e.type.displayName&&e.type.displayName.includes("SwiperSlide")}function PI(e){const t=[];return r.Children.toArray(e).forEach((e=>{OI(e)?t.push(e):e.props&&e.props.children&&PI(e.props.children).forEach((e=>t.push(e)))})),t}function DI(e){const t=[],n={"container-start":[],"container-end":[],"wrapper-start":[],"wrapper-end":[]};return r.Children.toArray(e).forEach((e=>{if(OI(e))t.push(e);else if(e.props&&e.props.slot&&n[e.props.slot])n[e.props.slot].push(e);else if(e.props&&e.props.children){const r=PI(e.props.children);r.length>0?r.forEach((e=>t.push(e))):n["container-end"].push(e)}else n["container-end"].push(e)})),{slides:t,slots:n}}function RI(e,t){return"undefined"===typeof window?(0,r.useEffect)(e,t):(0,r.useLayoutEffect)(e,t)}const MI=(0,r.createContext)(null),LI=(0,r.createContext)(null),jI=(0,r.forwardRef)((function(e,t){let{className:n,tag:i="div",wrapperTag:s="div",children:o,onSwiper:a,...l}=void 0===e?{}:e,c=!1;const[u,d]=(0,r.useState)("swiper"),[h,f]=(0,r.useState)(null),[p,m]=(0,r.useState)(!1),g=(0,r.useRef)(!1),y=(0,r.useRef)(null),v=(0,r.useRef)(null),w=(0,r.useRef)(null),b=(0,r.useRef)(null),_=(0,r.useRef)(null),S=(0,r.useRef)(null),E=(0,r.useRef)(null),x=(0,r.useRef)(null),{params:T,passedParams:k,rest:I,events:C}=function(e,t){void 0===e&&(e={}),void 0===t&&(t=!0);const n={on:{}},r={},i={};xI(n,yI),n._emitClasses=!0,n.init=!1;const s={},o=SI.map((e=>e.replace(/_/,""))),a=Object.assign({},e);return Object.keys(a).forEach((a=>{"undefined"!==typeof e[a]&&(o.indexOf(a)>=0?EI(e[a])?(n[a]={},i[a]={},xI(n[a],e[a]),xI(i[a],e[a])):(n[a]=e[a],i[a]=e[a]):0===a.search(/on[A-Z]/)&&"function"===typeof e[a]?t?r["".concat(a[2].toLowerCase()).concat(a.substr(3))]=e[a]:n.on["".concat(a[2].toLowerCase()).concat(a.substr(3))]=e[a]:s[a]=e[a])})),["navigation","pagination","scrollbar"].forEach((e=>{!0===n[e]&&(n[e]={}),!1===n[e]&&delete n[e]})),{params:n,passedParams:i,rest:s,events:r}}(l),{slides:N,slots:A}=DI(o),O=()=>{m(!p)};Object.assign(T.on,{_containerClasses(e,t){d(t)}});const P=()=>{Object.assign(T.on,C),c=!0;const e={...T};if(delete e.wrapperClass,v.current=new _I(e),v.current.virtual&&v.current.params.virtual.enabled){v.current.virtual.slides=N;const e={cache:!1,slides:N,renderExternal:f,renderExternalUpdate:!1};xI(v.current.params.virtual,e),xI(v.current.originalParams.virtual,e)}};y.current||P(),v.current&&v.current.on("_beforeBreakpoint",O);return(0,r.useEffect)((()=>()=>{v.current&&v.current.off("_beforeBreakpoint",O)})),(0,r.useEffect)((()=>{!g.current&&v.current&&(v.current.emitSlidesClasses(),g.current=!0)})),RI((()=>{if(t&&(t.current=y.current),y.current)return v.current.destroyed&&P(),function(e,t){let{el:n,nextEl:r,prevEl:i,paginationEl:s,scrollbarEl:o,swiper:a}=e;TI(t)&&r&&i&&(a.params.navigation.nextEl=r,a.originalParams.navigation.nextEl=r,a.params.navigation.prevEl=i,a.originalParams.navigation.prevEl=i),kI(t)&&s&&(a.params.pagination.el=s,a.originalParams.pagination.el=s),II(t)&&o&&(a.params.scrollbar.el=o,a.originalParams.scrollbar.el=o),a.init(n)}({el:y.current,nextEl:_.current,prevEl:S.current,paginationEl:E.current,scrollbarEl:x.current,swiper:v.current},T),a&&a(v.current),()=>{v.current&&!v.current.destroyed&&v.current.destroy(!0,!1)}}),[]),RI((()=>{!c&&C&&v.current&&Object.keys(C).forEach((e=>{v.current.on(e,C[e])}));const e=function(e,t,n,r,i){const s=[];if(!t)return s;const o=e=>{s.indexOf(e)<0&&s.push(e)};if(n&&r){const e=r.map(i),t=n.map(i);e.join("")!==t.join("")&&o("children"),r.length!==n.length&&o("children")}return SI.filter((e=>"_"===e[0])).map((e=>e.replace(/_/,""))).forEach((n=>{if(n in e&&n in t)if(EI(e[n])&&EI(t[n])){const r=Object.keys(e[n]),i=Object.keys(t[n]);r.length!==i.length?o(n):(r.forEach((r=>{e[n][r]!==t[n][r]&&o(n)})),i.forEach((r=>{e[n][r]!==t[n][r]&&o(n)})))}else e[n]!==t[n]&&o(n)})),s}(k,w.current,N,b.current,(e=>e.key));return w.current=k,b.current=N,e.length&&v.current&&!v.current.destroyed&&function(e){let{swiper:t,slides:n,passedParams:r,changedParams:i,nextEl:s,prevEl:o,scrollbarEl:a,paginationEl:l}=e;const c=i.filter((e=>"children"!==e&&"direction"!==e&&"wrapperClass"!==e)),{params:u,pagination:d,navigation:h,scrollbar:f,virtual:p,thumbs:m}=t;let g,y,v,w,b,_,S,E;i.includes("thumbs")&&r.thumbs&&r.thumbs.swiper&&u.thumbs&&!u.thumbs.swiper&&(g=!0),i.includes("controller")&&r.controller&&r.controller.control&&u.controller&&!u.controller.control&&(y=!0),i.includes("pagination")&&r.pagination&&(r.pagination.el||l)&&(u.pagination||!1===u.pagination)&&d&&!d.el&&(v=!0),i.includes("scrollbar")&&r.scrollbar&&(r.scrollbar.el||a)&&(u.scrollbar||!1===u.scrollbar)&&f&&!f.el&&(w=!0),i.includes("navigation")&&r.navigation&&(r.navigation.prevEl||o)&&(r.navigation.nextEl||s)&&(u.navigation||!1===u.navigation)&&h&&!h.prevEl&&!h.nextEl&&(b=!0);const x=e=>{t[e]&&(t[e].destroy(),"navigation"===e?(t.isElement&&(t[e].prevEl.remove(),t[e].nextEl.remove()),u[e].prevEl=void 0,u[e].nextEl=void 0,t[e].prevEl=void 0,t[e].nextEl=void 0):(t.isElement&&t[e].el.remove(),u[e].el=void 0,t[e].el=void 0))};i.includes("loop")&&t.isElement&&(u.loop&&!r.loop?_=!0:!u.loop&&r.loop?S=!0:E=!0),c.forEach((e=>{if(EI(u[e])&&EI(r[e]))Object.assign(u[e],r[e]),"navigation"!==e&&"pagination"!==e&&"scrollbar"!==e||!("enabled"in r[e])||r[e].enabled||x(e);else{const t=r[e];!0!==t&&!1!==t||"navigation"!==e&&"pagination"!==e&&"scrollbar"!==e?u[e]=r[e]:!1===t&&x(e)}})),c.includes("controller")&&!y&&t.controller&&t.controller.control&&u.controller&&u.controller.control&&(t.controller.control=u.controller.control),i.includes("children")&&n&&p&&u.virtual.enabled?(p.slides=n,p.update(!0)):i.includes("virtual")&&p&&u.virtual.enabled&&(n&&(p.slides=n),p.update(!0)),i.includes("children")&&n&&u.loop&&(E=!0),g&&m.init()&&m.update(!0);y&&(t.controller.control=u.controller.control),v&&(!t.isElement||l&&"string"!==typeof l||(l=document.createElement("div"),l.classList.add("swiper-pagination"),l.part.add("pagination"),t.el.appendChild(l)),l&&(u.pagination.el=l),d.init(),d.render(),d.update()),w&&(!t.isElement||a&&"string"!==typeof a||(a=document.createElement("div"),a.classList.add("swiper-scrollbar"),a.part.add("scrollbar"),t.el.appendChild(a)),a&&(u.scrollbar.el=a),f.init(),f.updateSize(),f.setTranslate()),b&&(t.isElement&&(s&&"string"!==typeof s||(s=document.createElement("div"),s.classList.add("swiper-button-next"),s.innerHTML=t.hostEl.constructor.nextButtonSvg,s.part.add("button-next"),t.el.appendChild(s)),o&&"string"!==typeof o||(o=document.createElement("div"),o.classList.add("swiper-button-prev"),o.innerHTML=t.hostEl.constructor.prevButtonSvg,o.part.add("button-prev"),t.el.appendChild(o))),s&&(u.navigation.nextEl=s),o&&(u.navigation.prevEl=o),h.init(),h.update()),i.includes("allowSlideNext")&&(t.allowSlideNext=r.allowSlideNext),i.includes("allowSlidePrev")&&(t.allowSlidePrev=r.allowSlidePrev),i.includes("direction")&&t.changeDirection(r.direction,!1),(_||E)&&t.loopDestroy(),(S||E)&&t.loopCreate(),t.update()}({swiper:v.current,slides:N,passedParams:k,changedParams:e,nextEl:_.current,prevEl:S.current,scrollbarEl:x.current,paginationEl:E.current}),()=>{C&&v.current&&Object.keys(C).forEach((e=>{v.current.off(e,C[e])}))}})),RI((()=>{(e=>{!e||e.destroyed||!e.params.virtual||e.params.virtual&&!e.params.virtual.enabled||(e.updateSlides(),e.updateProgress(),e.updateSlidesClasses(),e.parallax&&e.params.parallax&&e.params.parallax.enabled&&e.parallax.setTranslate())})(v.current)}),[h]),r.createElement(i,AI({ref:y,className:CI("".concat(u).concat(n?" ".concat(n):""))},I),r.createElement(LI.Provider,{value:v.current},A["container-start"],r.createElement(s,{className:NI(T.wrapperClass)},A["wrapper-start"],T.virtual?function(e,t,n){if(!n)return null;const i=e=>{let n=e;return e<0?n=t.length+e:n>=t.length&&(n-=t.length),n},s=e.isHorizontal()?{[e.rtlTranslate?"right":"left"]:"".concat(n.offset,"px")}:{top:"".concat(n.offset,"px")},{from:o,to:a}=n,l=e.params.loop?-t.length:0,c=e.params.loop?2*t.length:t.length,u=[];for(let r=l;r<c;r+=1)r>=o&&r<=a&&u.push(t[i(r)]);return u.map(((t,n)=>r.cloneElement(t,{swiper:e,style:s,key:"slide-".concat(n)})))}(v.current,N,h):N.map(((e,t)=>r.cloneElement(e,{swiper:v.current,swiperSlideIndex:t}))),A["wrapper-end"]),TI(T)&&r.createElement(r.Fragment,null,r.createElement("div",{ref:S,className:"swiper-button-prev"}),r.createElement("div",{ref:_,className:"swiper-button-next"})),II(T)&&r.createElement("div",{ref:x,className:"swiper-scrollbar"}),kI(T)&&r.createElement("div",{ref:E,className:"swiper-pagination"}),A["container-end"]))}));jI.displayName="Swiper";const FI=(0,r.forwardRef)((function(e,t){let{tag:n="div",children:i,className:s="",swiper:o,zoom:a,lazy:l,virtualIndex:c,swiperSlideIndex:u,...d}=void 0===e?{}:e;const h=(0,r.useRef)(null),[f,p]=(0,r.useState)("swiper-slide"),[m,g]=(0,r.useState)(!1);function y(e,t,n){t===h.current&&p(n)}RI((()=>{if("undefined"!==typeof u&&(h.current.swiperSlideIndex=u),t&&(t.current=h.current),h.current&&o){if(!o.destroyed)return o.on("_slideClass",y),()=>{o&&o.off("_slideClass",y)};"swiper-slide"!==f&&p("swiper-slide")}})),RI((()=>{o&&h.current&&!o.destroyed&&p(o.getSlideClasses(h.current))}),[o]);const v={isActive:f.indexOf("swiper-slide-active")>=0,isVisible:f.indexOf("swiper-slide-visible")>=0,isPrev:f.indexOf("swiper-slide-prev")>=0,isNext:f.indexOf("swiper-slide-next")>=0},w=()=>"function"===typeof i?i(v):i;return r.createElement(n,AI({ref:h,className:CI("".concat(f).concat(s?" ".concat(s):"")),"data-swiper-slide-index":c,onLoad:()=>{g(!0)}},d),a&&r.createElement(MI.Provider,{value:v},r.createElement("div",{className:"swiper-zoom-container","data-swiper-zoom":"number"===typeof a?a:void 0},w(),l&&!m&&r.createElement("div",{className:"swiper-lazy-preloader"}))),!a&&r.createElement(MI.Provider,{value:v},w(),l&&!m&&r.createElement("div",{className:"swiper-lazy-preloader"})))}));function UI(e){let{swiper:t,extendParams:n,on:r,emit:i}=e;n({navigation:{nextEl:null,prevEl:null,hideOnClick:!1,disabledClass:"swiper-button-disabled",hiddenClass:"swiper-button-hidden",lockClass:"swiper-button-lock",navigationDisabledClass:"swiper-navigation-disabled"}}),t.navigation={nextEl:null,prevEl:null};const s=e=>(Array.isArray(e)?e:[e]).filter((e=>!!e));function o(e){let n;return e&&"string"===typeof e&&t.isElement&&(n=t.el.querySelector(e),n)?n:(e&&("string"===typeof e&&(n=[...document.querySelectorAll(e)]),t.params.uniqueNavElements&&"string"===typeof e&&n.length>1&&1===t.el.querySelectorAll(e).length&&(n=t.el.querySelector(e))),e&&!n?e:n)}function a(e,n){const r=t.params.navigation;(e=s(e)).forEach((e=>{e&&(e.classList[n?"add":"remove"](...r.disabledClass.split(" ")),"BUTTON"===e.tagName&&(e.disabled=n),t.params.watchOverflow&&t.enabled&&e.classList[t.isLocked?"add":"remove"](r.lockClass))}))}function l(){const{nextEl:e,prevEl:n}=t.navigation;if(t.params.loop)return a(n,!1),void a(e,!1);a(n,t.isBeginning&&!t.params.rewind),a(e,t.isEnd&&!t.params.rewind)}function c(e){e.preventDefault(),(!t.isBeginning||t.params.loop||t.params.rewind)&&(t.slidePrev(),i("navigationPrev"))}function u(e){e.preventDefault(),(!t.isEnd||t.params.loop||t.params.rewind)&&(t.slideNext(),i("navigationNext"))}function d(){const e=t.params.navigation;if(t.params.navigation=function(e,t,n,r){return e.params.createElements&&Object.keys(r).forEach((i=>{if(!n[i]&&!0===n.auto){let s=Dk(e.el,".".concat(r[i]))[0];s||(s=Mk("div",r[i]),s.className=r[i],e.el.append(s)),n[i]=s,t[i]=s}})),n}(t,t.originalParams.navigation,t.params.navigation,{nextEl:"swiper-button-next",prevEl:"swiper-button-prev"}),!e.nextEl&&!e.prevEl)return;let n=o(e.nextEl),r=o(e.prevEl);Object.assign(t.navigation,{nextEl:n,prevEl:r}),n=s(n),r=s(r);const i=(n,r)=>{n&&n.addEventListener("click","next"===r?u:c),!t.enabled&&n&&n.classList.add(...e.lockClass.split(" "))};n.forEach((e=>i(e,"next"))),r.forEach((e=>i(e,"prev")))}function h(){let{nextEl:e,prevEl:n}=t.navigation;e=s(e),n=s(n);const r=(e,n)=>{e.removeEventListener("click","next"===n?u:c),e.classList.remove(...t.params.navigation.disabledClass.split(" "))};e.forEach((e=>r(e,"next"))),n.forEach((e=>r(e,"prev")))}r("init",(()=>{!1===t.params.navigation.enabled?f():(d(),l())})),r("toEdge fromEdge lock unlock",(()=>{l()})),r("destroy",(()=>{h()})),r("enable disable",(()=>{let{nextEl:e,prevEl:n}=t.navigation;e=s(e),n=s(n),t.enabled?l():[...e,...n].filter((e=>!!e)).forEach((e=>e.classList.add(t.params.navigation.lockClass)))})),r("click",((e,n)=>{let{nextEl:r,prevEl:o}=t.navigation;r=s(r),o=s(o);const a=n.target;if(t.params.navigation.hideOnClick&&!o.includes(a)&&!r.includes(a)){if(t.pagination&&t.params.pagination&&t.params.pagination.clickable&&(t.pagination.el===a||t.pagination.el.contains(a)))return;let e;r.length?e=r[0].classList.contains(t.params.navigation.hiddenClass):o.length&&(e=o[0].classList.contains(t.params.navigation.hiddenClass)),i(!0===e?"navigationShow":"navigationHide"),[...r,...o].filter((e=>!!e)).forEach((e=>e.classList.toggle(t.params.navigation.hiddenClass)))}}));const f=()=>{t.el.classList.add(...t.params.navigation.navigationDisabledClass.split(" ")),h()};Object.assign(t.navigation,{enable:()=>{t.el.classList.remove(...t.params.navigation.navigationDisabledClass.split(" ")),d(),l()},disable:f,update:l,init:d,destroy:h})}function VI(e){let t,n,{swiper:r,extendParams:i,on:s,emit:o,params:a}=e;r.autoplay={running:!1,paused:!1,timeLeft:0},i({autoplay:{enabled:!1,delay:3e3,waitForTransition:!0,disableOnInteraction:!1,stopOnLastSlide:!1,reverseDirection:!1,pauseOnMouseEnter:!1}});let l,c,u,d,h,f,p,m,g=a&&a.autoplay?a.autoplay.delay:3e3,y=a&&a.autoplay?a.autoplay.delay:3e3,v=(new Date).getTime();function w(e){r&&!r.destroyed&&r.wrapperEl&&e.target===r.wrapperEl&&(r.wrapperEl.removeEventListener("transitionend",w),m||T())}const b=()=>{if(r.destroyed||!r.autoplay.running)return;r.autoplay.paused?c=!0:c&&(y=l,c=!1);const e=r.autoplay.paused?l:v+y-(new Date).getTime();r.autoplay.timeLeft=e,o("autoplayTimeLeft",e,e/g),n=requestAnimationFrame((()=>{b()}))},_=e=>{if(r.destroyed||!r.autoplay.running)return;cancelAnimationFrame(n),b();let i="undefined"===typeof e?r.params.autoplay.delay:e;g=r.params.autoplay.delay,y=r.params.autoplay.delay;const s=(()=>{let e;if(e=r.virtual&&r.params.virtual.enabled?r.slides.filter((e=>e.classList.contains("swiper-slide-active")))[0]:r.slides[r.activeIndex],!e)return;return parseInt(e.getAttribute("data-swiper-autoplay"),10)})();!Number.isNaN(s)&&s>0&&"undefined"===typeof e&&(i=s,g=s,y=s),l=i;const a=r.params.speed,c=()=>{r&&!r.destroyed&&(r.params.autoplay.reverseDirection?!r.isBeginning||r.params.loop||r.params.rewind?(r.slidePrev(a,!0,!0),o("autoplay")):r.params.autoplay.stopOnLastSlide||(r.slideTo(r.slides.length-1,a,!0,!0),o("autoplay")):!r.isEnd||r.params.loop||r.params.rewind?(r.slideNext(a,!0,!0),o("autoplay")):r.params.autoplay.stopOnLastSlide||(r.slideTo(0,a,!0,!0),o("autoplay")),r.params.cssMode&&(v=(new Date).getTime(),requestAnimationFrame((()=>{_()}))))};return i>0?(clearTimeout(t),t=setTimeout((()=>{c()}),i)):requestAnimationFrame((()=>{c()})),i},S=()=>{v=(new Date).getTime(),r.autoplay.running=!0,_(),o("autoplayStart")},E=()=>{r.autoplay.running=!1,clearTimeout(t),cancelAnimationFrame(n),o("autoplayStop")},x=(e,n)=>{if(r.destroyed||!r.autoplay.running)return;clearTimeout(t),e||(p=!0);const i=()=>{o("autoplayPause"),r.params.autoplay.waitForTransition?r.wrapperEl.addEventListener("transitionend",w):T()};if(r.autoplay.paused=!0,n)return f&&(l=r.params.autoplay.delay),f=!1,void i();const s=l||r.params.autoplay.delay;l=s-((new Date).getTime()-v),r.isEnd&&l<0&&!r.params.loop||(l<0&&(l=0),i())},T=()=>{r.isEnd&&l<0&&!r.params.loop||r.destroyed||!r.autoplay.running||(v=(new Date).getTime(),p?(p=!1,_(l)):_(),r.autoplay.paused=!1,o("autoplayResume"))},k=()=>{if(r.destroyed||!r.autoplay.running)return;const e=Ek();"hidden"===e.visibilityState&&(p=!0,x(!0)),"visible"===e.visibilityState&&T()},I=e=>{"mouse"===e.pointerType&&(p=!0,m=!0,r.animating||r.autoplay.paused||x(!0))},C=e=>{"mouse"===e.pointerType&&(m=!1,r.autoplay.paused&&T())};s("init",(()=>{r.params.autoplay.enabled&&(r.params.autoplay.pauseOnMouseEnter&&(r.el.addEventListener("pointerenter",I),r.el.addEventListener("pointerleave",C)),Ek().addEventListener("visibilitychange",k),S())})),s("destroy",(()=>{r.el.removeEventListener("pointerenter",I),r.el.removeEventListener("pointerleave",C),Ek().removeEventListener("visibilitychange",k),r.autoplay.running&&E()})),s("_freeModeStaticRelease",(()=>{(d||p)&&T()})),s("_freeModeNoMomentumRelease",(()=>{r.params.autoplay.disableOnInteraction?E():x(!0,!0)})),s("beforeTransitionStart",((e,t,n)=>{!r.destroyed&&r.autoplay.running&&(n||!r.params.autoplay.disableOnInteraction?x(!0,!0):E())})),s("sliderFirstMove",(()=>{!r.destroyed&&r.autoplay.running&&(r.params.autoplay.disableOnInteraction?E():(u=!0,d=!1,p=!1,h=setTimeout((()=>{p=!0,d=!0,x(!0)}),200)))})),s("touchEnd",(()=>{if(!r.destroyed&&r.autoplay.running&&u){if(clearTimeout(h),clearTimeout(t),r.params.autoplay.disableOnInteraction)return d=!1,void(u=!1);d&&r.params.cssMode&&T(),d=!1,u=!1}})),s("slideChange",(()=>{!r.destroyed&&r.autoplay.running&&(f=!0)})),Object.assign(r.autoplay,{start:S,stop:E,pause:x,resume:T})}FI.displayName="SwiperSlide";const zI=function(){return(0,vk.jsxs)("div",{className:"h-[600px] bg-white",children:[(0,vk.jsxs)(jI,{loop:!0,spaceBetween:0,navigation:!0,modules:[UI,VI],autoplay:{delay:4500},className:"h-[50%]",children:[(0,vk.jsx)(FI,{children:(0,vk.jsx)("img",{src:"/images/carousel_1.jpg",alt:""})}),(0,vk.jsx)(FI,{children:(0,vk.jsx)("img",{src:"/images/carousel_2.jpg",alt:""})}),(0,vk.jsx)(FI,{className:"bg-black",children:(0,vk.jsx)("video",{controls:!0,muted:"muted",children:(0,vk.jsx)("source",{src:"../images/carousel_vid.mp4",type:"video/mp4"})})}),(0,vk.jsx)(FI,{children:(0,vk.jsx)("img",{src:"/images/carousel_4.jpg",alt:""})}),(0,vk.jsx)(FI,{children:(0,vk.jsx)("img",{src:"/images/carousel_5.jpg",alt:""})})]}),(0,vk.jsx)("div",{className:"h-[50%] bg-gradient-to-b from-stone-900 "})]})};const BI=function(e){let{title:t,img:n,link:r}=e;return(0,vk.jsxs)("div",{className:"h-[420px] bg-white z-30 m-3 cursor-pointer",children:[(0,vk.jsx)("div",{className:"text-lg xl:text-xl font-semibold ml-4 mt-4",children:t}),(0,vk.jsx)("div",{className:"h-[300px] m-4",children:(0,vk.jsx)("img",{className:"h-[100%] w-[100%] object-cover",src:n,alt:"home card"})}),(0,vk.jsx)("div",{className:"text-blue-400 pl-4",children:r})]})};const qI=function(){const e=Ee(),t=t=>{e({pathname:"search",search:"".concat(Be({category:"".concat(t),searchTerm:""}))})};return(0,vk.jsxs)("div",{className:"bg-white m-3",children:[(0,vk.jsx)("div",{className:"text-2xl font-semibold p-3",children:"Shop by Category"}),(0,vk.jsxs)(jI,{slidesPerView:5,spaceBetween:10,navigation:!0,modules:UI,children:[(0,vk.jsx)(FI,{onClick:()=>t("Deals"),className:"cursor-pointer",children:(0,vk.jsx)("img",{src:"../images/category_0.jpg",alt:"Deal category"})}),(0,vk.jsx)(FI,{onClick:()=>t("Amazon"),className:"cursor-pointer",children:(0,vk.jsx)("img",{src:"../images/category_1.jpg",alt:"Amazon category"})}),(0,vk.jsx)(FI,{onClick:()=>t("Fashion"),className:"cursor-pointer",children:(0,vk.jsx)("img",{src:"../images/category_2.jpg",alt:"Fashion category"})}),(0,vk.jsx)(FI,{onClick:()=>t("Computers"),className:"cursor-pointer",children:(0,vk.jsx)("img",{src:"../images/category_3.jpg",alt:"Computers category"})}),(0,vk.jsx)(FI,{onClick:()=>t("Home"),className:"cursor-pointer",children:(0,vk.jsx)("img",{src:"../images/category_4.jpg",alt:"Home category"})}),(0,vk.jsx)(FI,{onClick:()=>t("Mobiles"),className:"cursor-pointer",children:(0,vk.jsx)("img",{src:"../images/category_5.jpg",alt:"Mobiles category"})})]})]})};const WI=function(){return(0,vk.jsxs)("div",{className:"bg-white m-3",children:[(0,vk.jsx)("div",{className:"text-2xl font-semibold p-3",children:"Best Sellers"}),(0,vk.jsx)(jI,{slidesPerView:7,spaceBetween:10,navigation:!0,modules:[UI],children:Array.from({length:9},((e,t)=>(0,vk.jsx)(FI,{children:(0,vk.jsx)(Ke,{to:"/product/".concat(t),children:(0,vk.jsx)("img",{src:"../images/product_".concat(t,"_small.jpg"),alt:"Carousel product"})})},t)))})]})};const GI=r.forwardRef((function(e,t){let{title:n,titleId:i,...s}=e;return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":i},s),n?r.createElement("title",{id:i},n):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 3h1.386c.51 0 .955.343 1.087.835l.383 1.437M7.5 14.25a3 3 0 0 0-3 3h15.75m-12.75-3h11.218c1.121-2.3 2.1-4.684 2.924-7.138a60.114 60.114 0 0 0-16.536-1.84M7.5 14.25 5.106 5.272M6 20.25a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0Zm12.75 0a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0Z"}))}));const HI=r.forwardRef((function(e,t){let{title:n,titleId:i,...s}=e;return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":i},s),n?r.createElement("title",{id:i},n):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"}))}));function YI(e,t){return function(){return e.apply(t,arguments)}}const{toString:KI}=Object.prototype,{getPrototypeOf:QI}=Object,XI=(JI=Object.create(null),e=>{const t=KI.call(e);return JI[t]||(JI[t]=t.slice(8,-1).toLowerCase())});var JI;const $I=e=>(e=e.toLowerCase(),t=>XI(t)===e),ZI=e=>t=>typeof t===e,{isArray:eC}=Array,tC=ZI("undefined");const nC=$I("ArrayBuffer");const rC=ZI("string"),iC=ZI("function"),sC=ZI("number"),oC=e=>null!==e&&"object"===typeof e,aC=e=>{if("object"!==XI(e))return!1;const t=QI(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},lC=$I("Date"),cC=$I("File"),uC=$I("Blob"),dC=$I("FileList"),hC=$I("URLSearchParams");function fC(e,t){let n,r,{allOwnKeys:i=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),eC(e))for(n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else{const r=i?Object.getOwnPropertyNames(e):Object.keys(e),s=r.length;let o;for(n=0;n<s;n++)o=r[n],t.call(null,e[o],o,e)}}function pC(e,t){t=t.toLowerCase();const n=Object.keys(e);let r,i=n.length;for(;i-- >0;)if(r=n[i],t===r.toLowerCase())return r;return null}const mC="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:global,gC=e=>!tC(e)&&e!==mC;const yC=(vC="undefined"!==typeof Uint8Array&&QI(Uint8Array),e=>vC&&e instanceof vC);var vC;const wC=$I("HTMLFormElement"),bC=(e=>{let{hasOwnProperty:t}=e;return(e,n)=>t.call(e,n)})(Object.prototype),_C=$I("RegExp"),SC=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};fC(n,((n,i)=>{let s;!1!==(s=t(n,i,e))&&(r[i]=s||n)})),Object.defineProperties(e,r)},EC="abcdefghijklmnopqrstuvwxyz",xC="0123456789",TC={DIGIT:xC,ALPHA:EC,ALPHA_DIGIT:EC+EC.toUpperCase()+xC};const kC=$I("AsyncFunction"),IC={isArray:eC,isArrayBuffer:nC,isBuffer:function(e){return null!==e&&!tC(e)&&null!==e.constructor&&!tC(e.constructor)&&iC(e.constructor.isBuffer)&&e.constructor.isBuffer(e)},isFormData:e=>{let t;return e&&("function"===typeof FormData&&e instanceof FormData||iC(e.append)&&("formdata"===(t=XI(e))||"object"===t&&iC(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){let t;return t="undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&nC(e.buffer),t},isString:rC,isNumber:sC,isBoolean:e=>!0===e||!1===e,isObject:oC,isPlainObject:aC,isUndefined:tC,isDate:lC,isFile:cC,isBlob:uC,isRegExp:_C,isFunction:iC,isStream:e=>oC(e)&&iC(e.pipe),isURLSearchParams:hC,isTypedArray:yC,isFileList:dC,forEach:fC,merge:function e(){const{caseless:t}=gC(this)&&this||{},n={},r=(r,i)=>{const s=t&&pC(n,i)||i;aC(n[s])&&aC(r)?n[s]=e(n[s],r):aC(r)?n[s]=e({},r):eC(r)?n[s]=r.slice():n[s]=r};for(let i=0,s=arguments.length;i<s;i++)arguments[i]&&fC(arguments[i],r);return n},extend:function(e,t,n){let{allOwnKeys:r}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return fC(t,((t,r)=>{n&&iC(t)?e[r]=YI(t,n):e[r]=t}),{allOwnKeys:r}),e},trim:e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),inherits:(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},toFlatObject:(e,t,n,r)=>{let i,s,o;const a={};if(t=t||{},null==e)return t;do{for(i=Object.getOwnPropertyNames(e),s=i.length;s-- >0;)o=i[s],r&&!r(o,e,t)||a[o]||(t[o]=e[o],a[o]=!0);e=!1!==n&&QI(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},kindOf:XI,kindOfTest:$I,endsWith:(e,t,n)=>{e=String(e),(void 0===n||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return-1!==r&&r===n},toArray:e=>{if(!e)return null;if(eC(e))return e;let t=e.length;if(!sC(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},forEachEntry:(e,t)=>{const n=(e&&e[Symbol.iterator]).call(e);let r;for(;(r=n.next())&&!r.done;){const n=r.value;t.call(e,n[0],n[1])}},matchAll:(e,t)=>{let n;const r=[];for(;null!==(n=e.exec(t));)r.push(n);return r},isHTMLForm:wC,hasOwnProperty:bC,hasOwnProp:bC,reduceDescriptors:SC,freezeMethods:e=>{SC(e,((t,n)=>{if(iC(e)&&-1!==["arguments","caller","callee"].indexOf(n))return!1;const r=e[n];iC(r)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")}))}))},toObjectSet:(e,t)=>{const n={},r=e=>{e.forEach((e=>{n[e]=!0}))};return eC(e)?r(e):r(String(e).split(t)),n},toCamelCase:e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,(function(e,t,n){return t.toUpperCase()+n})),noop:()=>{},toFiniteNumber:(e,t)=>(e=+e,Number.isFinite(e)?e:t),findKey:pC,global:mC,isContextDefined:gC,ALPHABET:TC,generateString:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:16,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:TC.ALPHA_DIGIT,n="";const{length:r}=t;for(;e--;)n+=t[Math.random()*r|0];return n},isSpecCompliantForm:function(e){return!!(e&&iC(e.append)&&"FormData"===e[Symbol.toStringTag]&&e[Symbol.iterator])},toJSONObject:e=>{const t=new Array(10),n=(e,r)=>{if(oC(e)){if(t.indexOf(e)>=0)return;if(!("toJSON"in e)){t[r]=e;const i=eC(e)?[]:{};return fC(e,((e,t)=>{const s=n(e,r+1);!tC(s)&&(i[t]=s)})),t[r]=void 0,i}}return e};return n(e,0)},isAsyncFn:kC,isThenable:e=>e&&(oC(e)||iC(e))&&iC(e.then)&&iC(e.catch)};function CC(e,t,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i)}IC.inherits(CC,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:IC.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const NC=CC.prototype,AC={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach((e=>{AC[e]={value:e}})),Object.defineProperties(CC,AC),Object.defineProperty(NC,"isAxiosError",{value:!0}),CC.from=(e,t,n,r,i,s)=>{const o=Object.create(NC);return IC.toFlatObject(e,o,(function(e){return e!==Error.prototype}),(e=>"isAxiosError"!==e)),CC.call(o,e.message,t,n,r,i),o.cause=e,o.name=e.name,s&&Object.assign(o,s),o};const OC=CC;function PC(e){return IC.isPlainObject(e)||IC.isArray(e)}function DC(e){return IC.endsWith(e,"[]")?e.slice(0,-2):e}function RC(e,t,n){return e?e.concat(t).map((function(e,t){return e=DC(e),!n&&t?"["+e+"]":e})).join(n?".":""):t}const MC=IC.toFlatObject(IC,{},null,(function(e){return/^is[A-Z]/.test(e)}));const LC=function(e,t,n){if(!IC.isObject(e))throw new TypeError("target must be an object");t=t||new FormData;const r=(n=IC.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,(function(e,t){return!IC.isUndefined(t[e])}))).metaTokens,i=n.visitor||c,s=n.dots,o=n.indexes,a=(n.Blob||"undefined"!==typeof Blob&&Blob)&&IC.isSpecCompliantForm(t);if(!IC.isFunction(i))throw new TypeError("visitor must be a function");function l(e){if(null===e)return"";if(IC.isDate(e))return e.toISOString();if(!a&&IC.isBlob(e))throw new OC("Blob is not supported. Use a Buffer instead.");return IC.isArrayBuffer(e)||IC.isTypedArray(e)?a&&"function"===typeof Blob?new Blob([e]):Buffer.from(e):e}function c(e,n,i){let a=e;if(e&&!i&&"object"===typeof e)if(IC.endsWith(n,"{}"))n=r?n:n.slice(0,-2),e=JSON.stringify(e);else if(IC.isArray(e)&&function(e){return IC.isArray(e)&&!e.some(PC)}(e)||(IC.isFileList(e)||IC.endsWith(n,"[]"))&&(a=IC.toArray(e)))return n=DC(n),a.forEach((function(e,r){!IC.isUndefined(e)&&null!==e&&t.append(!0===o?RC([n],r,s):null===o?n:n+"[]",l(e))})),!1;return!!PC(e)||(t.append(RC(i,n,s),l(e)),!1)}const u=[],d=Object.assign(MC,{defaultVisitor:c,convertValue:l,isVisitable:PC});if(!IC.isObject(e))throw new TypeError("data must be an object");return function e(n,r){if(!IC.isUndefined(n)){if(-1!==u.indexOf(n))throw Error("Circular reference detected in "+r.join("."));u.push(n),IC.forEach(n,(function(n,s){!0===(!(IC.isUndefined(n)||null===n)&&i.call(t,n,IC.isString(s)?s.trim():s,r,d))&&e(n,r?r.concat(s):[s])})),u.pop()}}(e),t};function jC(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,(function(e){return t[e]}))}function FC(e,t){this._pairs=[],e&&LC(e,this,t)}const UC=FC.prototype;UC.append=function(e,t){this._pairs.push([e,t])},UC.toString=function(e){const t=e?function(t){return e.call(this,t,jC)}:jC;return this._pairs.map((function(e){return t(e[0])+"="+t(e[1])}),"").join("&")};const VC=FC;function zC(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function BC(e,t,n){if(!t)return e;const r=n&&n.encode||zC,i=n&&n.serialize;let s;if(s=i?i(t,n):IC.isURLSearchParams(t)?t.toString():new VC(t,n).toString(r),s){const t=e.indexOf("#");-1!==t&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+s}return e}const qC=class{constructor(){this.handlers=[]}use(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){IC.forEach(this.handlers,(function(t){null!==t&&e(t)}))}},WC={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},GC={isBrowser:!0,classes:{URLSearchParams:"undefined"!==typeof URLSearchParams?URLSearchParams:VC,FormData:"undefined"!==typeof FormData?FormData:null,Blob:"undefined"!==typeof Blob?Blob:null},protocols:["http","https","file","blob","url","data"]},HC="undefined"!==typeof window&&"undefined"!==typeof document,YC=(KC="undefined"!==typeof navigator&&navigator.product,HC&&["ReactNative","NativeScript","NS"].indexOf(KC)<0);var KC;const QC="undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"===typeof self.importScripts,XC={...t,...GC};const JC=function(e){function t(e,n,r,i){let s=e[i++];const o=Number.isFinite(+s),a=i>=e.length;if(s=!s&&IC.isArray(r)?r.length:s,a)return IC.hasOwnProp(r,s)?r[s]=[r[s],n]:r[s]=n,!o;r[s]&&IC.isObject(r[s])||(r[s]=[]);return t(e,n,r[s],i)&&IC.isArray(r[s])&&(r[s]=function(e){const t={},n=Object.keys(e);let r;const i=n.length;let s;for(r=0;r<i;r++)s=n[r],t[s]=e[s];return t}(r[s])),!o}if(IC.isFormData(e)&&IC.isFunction(e.entries)){const n={};return IC.forEachEntry(e,((e,r)=>{t(function(e){return IC.matchAll(/\w+|\[(\w*)]/g,e).map((e=>"[]"===e[0]?"":e[1]||e[0]))}(e),r,n,0)})),n}return null};const $C={transitional:WC,adapter:["xhr","http"],transformRequest:[function(e,t){const n=t.getContentType()||"",r=n.indexOf("application/json")>-1,i=IC.isObject(e);i&&IC.isHTMLForm(e)&&(e=new FormData(e));if(IC.isFormData(e))return r&&r?JSON.stringify(JC(e)):e;if(IC.isArrayBuffer(e)||IC.isBuffer(e)||IC.isStream(e)||IC.isFile(e)||IC.isBlob(e))return e;if(IC.isArrayBufferView(e))return e.buffer;if(IC.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let s;if(i){if(n.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return LC(e,new XC.classes.URLSearchParams,Object.assign({visitor:function(e,t,n,r){return XC.isNode&&IC.isBuffer(e)?(this.append(t,e.toString("base64")),!1):r.defaultVisitor.apply(this,arguments)}},t))}(e,this.formSerializer).toString();if((s=IC.isFileList(e))||n.indexOf("multipart/form-data")>-1){const t=this.env&&this.env.FormData;return LC(s?{"files[]":e}:e,t&&new t,this.formSerializer)}}return i||r?(t.setContentType("application/json",!1),function(e,t,n){if(IC.isString(e))try{return(t||JSON.parse)(e),IC.trim(e)}catch(r){if("SyntaxError"!==r.name)throw r}return(n||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){const t=this.transitional||$C.transitional,n=t&&t.forcedJSONParsing,r="json"===this.responseType;if(e&&IC.isString(e)&&(n&&!this.responseType||r)){const n=!(t&&t.silentJSONParsing)&&r;try{return JSON.parse(e)}catch(i){if(n){if("SyntaxError"===i.name)throw OC.from(i,OC.ERR_BAD_RESPONSE,this,null,this.response);throw i}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:XC.classes.FormData,Blob:XC.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};IC.forEach(["delete","get","head","post","put","patch"],(e=>{$C.headers[e]={}}));const ZC=$C,eN=IC.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),tN=Symbol("internals");function nN(e){return e&&String(e).trim().toLowerCase()}function rN(e){return!1===e||null==e?e:IC.isArray(e)?e.map(rN):String(e)}function iN(e,t,n,r,i){return IC.isFunction(r)?r.call(this,t,n):(i&&(t=n),IC.isString(t)?IC.isString(r)?-1!==t.indexOf(r):IC.isRegExp(r)?r.test(t):void 0:void 0)}class sN{constructor(e){e&&this.set(e)}set(e,t,n){const r=this;function i(e,t,n){const i=nN(t);if(!i)throw new Error("header name must be a non-empty string");const s=IC.findKey(r,i);(!s||void 0===r[s]||!0===n||void 0===n&&!1!==r[s])&&(r[s||t]=rN(e))}const s=(e,t)=>IC.forEach(e,((e,n)=>i(e,n,t)));return IC.isPlainObject(e)||e instanceof this.constructor?s(e,t):IC.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim())?s((e=>{const t={};let n,r,i;return e&&e.split("\n").forEach((function(e){i=e.indexOf(":"),n=e.substring(0,i).trim().toLowerCase(),r=e.substring(i+1).trim(),!n||t[n]&&eN[n]||("set-cookie"===n?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)})),t})(e),t):null!=e&&i(t,e,n),this}get(e,t){if(e=nN(e)){const n=IC.findKey(this,e);if(n){const e=this[n];if(!t)return e;if(!0===t)return function(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}(e);if(IC.isFunction(t))return t.call(this,e,n);if(IC.isRegExp(t))return t.exec(e);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=nN(e)){const n=IC.findKey(this,e);return!(!n||void 0===this[n]||t&&!iN(0,this[n],n,t))}return!1}delete(e,t){const n=this;let r=!1;function i(e){if(e=nN(e)){const i=IC.findKey(n,e);!i||t&&!iN(0,n[i],i,t)||(delete n[i],r=!0)}}return IC.isArray(e)?e.forEach(i):i(e),r}clear(e){const t=Object.keys(this);let n=t.length,r=!1;for(;n--;){const i=t[n];e&&!iN(0,this[i],i,e,!0)||(delete this[i],r=!0)}return r}normalize(e){const t=this,n={};return IC.forEach(this,((r,i)=>{const s=IC.findKey(n,i);if(s)return t[s]=rN(r),void delete t[i];const o=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,((e,t,n)=>t.toUpperCase()+n))}(i):String(i).trim();o!==i&&delete t[i],t[o]=rN(r),n[o]=!0})),this}concat(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.constructor.concat(this,...t)}toJSON(e){const t=Object.create(null);return IC.forEach(this,((n,r)=>{null!=n&&!1!==n&&(t[r]=e&&IC.isArray(n)?n.join(", "):n)})),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map((e=>{let[t,n]=e;return t+": "+n})).join("\n")}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e){const t=new this(e);for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return r.forEach((e=>t.set(e))),t}static accessor(e){const t=(this[tN]=this[tN]={accessors:{}}).accessors,n=this.prototype;function r(e){const r=nN(e);t[r]||(!function(e,t){const n=IC.toCamelCase(" "+t);["get","set","has"].forEach((r=>{Object.defineProperty(e,r+n,{value:function(e,n,i){return this[r].call(this,t,e,n,i)},configurable:!0})}))}(n,e),t[r]=!0)}return IC.isArray(e)?e.forEach(r):r(e),this}}sN.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),IC.reduceDescriptors(sN.prototype,((e,t)=>{let{value:n}=e,r=t[0].toUpperCase()+t.slice(1);return{get:()=>n,set(e){this[r]=e}}})),IC.freezeMethods(sN);const oN=sN;function aN(e,t){const n=this||ZC,r=t||n,i=oN.from(r.headers);let s=r.data;return IC.forEach(e,(function(e){s=e.call(n,s,i.normalize(),t?t.status:void 0)})),i.normalize(),s}function lN(e){return!(!e||!e.__CANCEL__)}function cN(e,t,n){OC.call(this,null==e?"canceled":e,OC.ERR_CANCELED,t,n),this.name="CanceledError"}IC.inherits(cN,OC,{__CANCEL__:!0});const uN=cN;const dN=XC.hasStandardBrowserEnv?{write(e,t,n,r,i,s){const o=[e+"="+encodeURIComponent(t)];IC.isNumber(n)&&o.push("expires="+new Date(n).toGMTString()),IC.isString(r)&&o.push("path="+r),IC.isString(i)&&o.push("domain="+i),!0===s&&o.push("secure"),document.cookie=o.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read:()=>null,remove(){}};function hN(e,t){return e&&!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)?function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}const fN=XC.hasStandardBrowserEnv?function(){const e=/(msie|trident)/i.test(navigator.userAgent),t=document.createElement("a");let n;function r(n){let r=n;return e&&(t.setAttribute("href",r),r=t.href),t.setAttribute("href",r),{href:t.href,protocol:t.protocol?t.protocol.replace(/:$/,""):"",host:t.host,search:t.search?t.search.replace(/^\?/,""):"",hash:t.hash?t.hash.replace(/^#/,""):"",hostname:t.hostname,port:t.port,pathname:"/"===t.pathname.charAt(0)?t.pathname:"/"+t.pathname}}return n=r(window.location.href),function(e){const t=IC.isString(e)?r(e):e;return t.protocol===n.protocol&&t.host===n.host}}():function(){return!0};const pN=function(e,t){e=e||10;const n=new Array(e),r=new Array(e);let i,s=0,o=0;return t=void 0!==t?t:1e3,function(a){const l=Date.now(),c=r[o];i||(i=l),n[s]=a,r[s]=l;let u=o,d=0;for(;u!==s;)d+=n[u++],u%=e;if(s=(s+1)%e,s===o&&(o=(o+1)%e),l-i<t)return;const h=c&&l-c;return h?Math.round(1e3*d/h):void 0}};function mN(e,t){let n=0;const r=pN(50,250);return i=>{const s=i.loaded,o=i.lengthComputable?i.total:void 0,a=s-n,l=r(a);n=s;const c={loaded:s,total:o,progress:o?s/o:void 0,bytes:a,rate:l||void 0,estimated:l&&o&&s<=o?(o-s)/l:void 0,event:i};c[t?"download":"upload"]=!0,e(c)}}const gN="undefined"!==typeof XMLHttpRequest&&function(e){return new Promise((function(t,n){let r=e.data;const i=oN.from(e.headers).normalize();let s,o,{responseType:a,withXSRFToken:l}=e;function c(){e.cancelToken&&e.cancelToken.unsubscribe(s),e.signal&&e.signal.removeEventListener("abort",s)}if(IC.isFormData(r))if(XC.hasStandardBrowserEnv||XC.hasStandardBrowserWebWorkerEnv)i.setContentType(!1);else if(!1!==(o=i.getContentType())){const[e,...t]=o?o.split(";").map((e=>e.trim())).filter(Boolean):[];i.setContentType([e||"multipart/form-data",...t].join("; "))}let u=new XMLHttpRequest;if(e.auth){const t=e.auth.username||"",n=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";i.set("Authorization","Basic "+btoa(t+":"+n))}const d=hN(e.baseURL,e.url);function h(){if(!u)return;const r=oN.from("getAllResponseHeaders"in u&&u.getAllResponseHeaders());!function(e,t,n){const r=n.config.validateStatus;n.status&&r&&!r(n.status)?t(new OC("Request failed with status code "+n.status,[OC.ERR_BAD_REQUEST,OC.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):e(n)}((function(e){t(e),c()}),(function(e){n(e),c()}),{data:a&&"text"!==a&&"json"!==a?u.response:u.responseText,status:u.status,statusText:u.statusText,headers:r,config:e,request:u}),u=null}if(u.open(e.method.toUpperCase(),BC(d,e.params,e.paramsSerializer),!0),u.timeout=e.timeout,"onloadend"in u?u.onloadend=h:u.onreadystatechange=function(){u&&4===u.readyState&&(0!==u.status||u.responseURL&&0===u.responseURL.indexOf("file:"))&&setTimeout(h)},u.onabort=function(){u&&(n(new OC("Request aborted",OC.ECONNABORTED,e,u)),u=null)},u.onerror=function(){n(new OC("Network Error",OC.ERR_NETWORK,e,u)),u=null},u.ontimeout=function(){let t=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded";const r=e.transitional||WC;e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),n(new OC(t,r.clarifyTimeoutError?OC.ETIMEDOUT:OC.ECONNABORTED,e,u)),u=null},XC.hasStandardBrowserEnv&&(l&&IC.isFunction(l)&&(l=l(e)),l||!1!==l&&fN(d))){const t=e.xsrfHeaderName&&e.xsrfCookieName&&dN.read(e.xsrfCookieName);t&&i.set(e.xsrfHeaderName,t)}void 0===r&&i.setContentType(null),"setRequestHeader"in u&&IC.forEach(i.toJSON(),(function(e,t){u.setRequestHeader(t,e)})),IC.isUndefined(e.withCredentials)||(u.withCredentials=!!e.withCredentials),a&&"json"!==a&&(u.responseType=e.responseType),"function"===typeof e.onDownloadProgress&&u.addEventListener("progress",mN(e.onDownloadProgress,!0)),"function"===typeof e.onUploadProgress&&u.upload&&u.upload.addEventListener("progress",mN(e.onUploadProgress)),(e.cancelToken||e.signal)&&(s=t=>{u&&(n(!t||t.type?new uN(null,e,u):t),u.abort(),u=null)},e.cancelToken&&e.cancelToken.subscribe(s),e.signal&&(e.signal.aborted?s():e.signal.addEventListener("abort",s)));const f=function(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(d);f&&-1===XC.protocols.indexOf(f)?n(new OC("Unsupported protocol "+f+":",OC.ERR_BAD_REQUEST,e)):u.send(r||null)}))},yN={http:null,xhr:gN};IC.forEach(yN,((e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(n){}Object.defineProperty(e,"adapterName",{value:t})}}));const vN=e=>"- ".concat(e),wN=e=>IC.isFunction(e)||null===e||!1===e,bN=e=>{e=IC.isArray(e)?e:[e];const{length:t}=e;let n,r;const i={};for(let s=0;s<t;s++){let t;if(n=e[s],r=n,!wN(n)&&(r=yN[(t=String(n)).toLowerCase()],void 0===r))throw new OC("Unknown adapter '".concat(t,"'"));if(r)break;i[t||"#"+s]=r}if(!r){const e=Object.entries(i).map((e=>{let[t,n]=e;return"adapter ".concat(t," ")+(!1===n?"is not supported by the environment":"is not available in the build")}));let n=t?e.length>1?"since :\n"+e.map(vN).join("\n"):" "+vN(e[0]):"as no adapter specified";throw new OC("There is no suitable adapter to dispatch the request "+n,"ERR_NOT_SUPPORT")}return r};function _N(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new uN(null,e)}function SN(e){_N(e),e.headers=oN.from(e.headers),e.data=aN.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1);return bN(e.adapter||ZC.adapter)(e).then((function(t){return _N(e),t.data=aN.call(e,e.transformResponse,t),t.headers=oN.from(t.headers),t}),(function(t){return lN(t)||(_N(e),t&&t.response&&(t.response.data=aN.call(e,e.transformResponse,t.response),t.response.headers=oN.from(t.response.headers))),Promise.reject(t)}))}const EN=e=>e instanceof oN?e.toJSON():e;function xN(e,t){t=t||{};const n={};function r(e,t,n){return IC.isPlainObject(e)&&IC.isPlainObject(t)?IC.merge.call({caseless:n},e,t):IC.isPlainObject(t)?IC.merge({},t):IC.isArray(t)?t.slice():t}function i(e,t,n){return IC.isUndefined(t)?IC.isUndefined(e)?void 0:r(void 0,e,n):r(e,t,n)}function s(e,t){if(!IC.isUndefined(t))return r(void 0,t)}function o(e,t){return IC.isUndefined(t)?IC.isUndefined(e)?void 0:r(void 0,e):r(void 0,t)}function a(n,i,s){return s in t?r(n,i):s in e?r(void 0,n):void 0}const l={url:s,method:s,data:s,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(e,t)=>i(EN(e),EN(t),!0)};return IC.forEach(Object.keys(Object.assign({},e,t)),(function(r){const s=l[r]||i,o=s(e[r],t[r],r);IC.isUndefined(o)&&s!==a||(n[r]=o)})),n}const TN="1.6.2",kN={};["object","boolean","number","function","string","symbol"].forEach(((e,t)=>{kN[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}}));const IN={};kN.transitional=function(e,t,n){function r(e,t){return"[Axios v1.6.2] Transitional option '"+e+"'"+t+(n?". "+n:"")}return(n,i,s)=>{if(!1===e)throw new OC(r(i," has been removed"+(t?" in "+t:"")),OC.ERR_DEPRECATED);return t&&!IN[i]&&(IN[i]=!0,console.warn(r(i," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,i,s)}};const CN={assertOptions:function(e,t,n){if("object"!==typeof e)throw new OC("options must be an object",OC.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let i=r.length;for(;i-- >0;){const s=r[i],o=t[s];if(o){const t=e[s],n=void 0===t||o(t,s,e);if(!0!==n)throw new OC("option "+s+" must be "+n,OC.ERR_BAD_OPTION_VALUE)}else if(!0!==n)throw new OC("Unknown option "+s,OC.ERR_BAD_OPTION)}},validators:kN},NN=CN.validators;class AN{constructor(e){this.defaults=e,this.interceptors={request:new qC,response:new qC}}request(e,t){"string"===typeof e?(t=t||{}).url=e:t=e||{},t=xN(this.defaults,t);const{transitional:n,paramsSerializer:r,headers:i}=t;void 0!==n&&CN.assertOptions(n,{silentJSONParsing:NN.transitional(NN.boolean),forcedJSONParsing:NN.transitional(NN.boolean),clarifyTimeoutError:NN.transitional(NN.boolean)},!1),null!=r&&(IC.isFunction(r)?t.paramsSerializer={serialize:r}:CN.assertOptions(r,{encode:NN.function,serialize:NN.function},!0)),t.method=(t.method||this.defaults.method||"get").toLowerCase();let s=i&&IC.merge(i.common,i[t.method]);i&&IC.forEach(["delete","get","head","post","put","patch","common"],(e=>{delete i[e]})),t.headers=oN.concat(s,i);const o=[];let a=!0;this.interceptors.request.forEach((function(e){"function"===typeof e.runWhen&&!1===e.runWhen(t)||(a=a&&e.synchronous,o.unshift(e.fulfilled,e.rejected))}));const l=[];let c;this.interceptors.response.forEach((function(e){l.push(e.fulfilled,e.rejected)}));let u,d=0;if(!a){const e=[SN.bind(this),void 0];for(e.unshift.apply(e,o),e.push.apply(e,l),u=e.length,c=Promise.resolve(t);d<u;)c=c.then(e[d++],e[d++]);return c}u=o.length;let h=t;for(d=0;d<u;){const e=o[d++],t=o[d++];try{h=e(h)}catch(f){t.call(this,f);break}}try{c=SN.call(this,h)}catch(f){return Promise.reject(f)}for(d=0,u=l.length;d<u;)c=c.then(l[d++],l[d++]);return c}getUri(e){return BC(hN((e=xN(this.defaults,e)).baseURL,e.url),e.params,e.paramsSerializer)}}IC.forEach(["delete","get","head","options"],(function(e){AN.prototype[e]=function(t,n){return this.request(xN(n||{},{method:e,url:t,data:(n||{}).data}))}})),IC.forEach(["post","put","patch"],(function(e){function t(t){return function(n,r,i){return this.request(xN(i||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:n,data:r}))}}AN.prototype[e]=t(),AN.prototype[e+"Form"]=t(!0)}));const ON=AN;class PN{constructor(e){if("function"!==typeof e)throw new TypeError("executor must be a function.");let t;this.promise=new Promise((function(e){t=e}));const n=this;this.promise.then((e=>{if(!n._listeners)return;let t=n._listeners.length;for(;t-- >0;)n._listeners[t](e);n._listeners=null})),this.promise.then=e=>{let t;const r=new Promise((e=>{n.subscribe(e),t=e})).then(e);return r.cancel=function(){n.unsubscribe(t)},r},e((function(e,r,i){n.reason||(n.reason=new uN(e,r,i),t(n.reason))}))}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}static source(){let e;return{token:new PN((function(t){e=t})),cancel:e}}}const DN=PN;const RN={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(RN).forEach((e=>{let[t,n]=e;RN[n]=t}));const MN=RN;const LN=function e(t){const n=new ON(t),r=YI(ON.prototype.request,n);return IC.extend(r,ON.prototype,n,{allOwnKeys:!0}),IC.extend(r,n,null,{allOwnKeys:!0}),r.create=function(n){return e(xN(t,n))},r}(ZC);LN.Axios=ON,LN.CanceledError=uN,LN.CancelToken=DN,LN.isCancel=lN,LN.VERSION=TN,LN.toFormData=LC,LN.AxiosError=OC,LN.Cancel=LN.CanceledError,LN.all=function(e){return Promise.all(e)},LN.spread=function(e){return function(t){return e.apply(null,t)}},LN.isAxiosError=function(e){return IC.isObject(e)&&!0===e.isAxiosError},LN.mergeConfig=xN,LN.AxiosHeaders=oN,LN.formToJSON=e=>JC(IC.isHTMLForm(e)?new FormData(e):e),LN.getAdapter=bN,LN.HttpStatusCode=MN,LN.default=LN;const jN=LN,FN=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}),UN={headers:{"Content-Type":"application/json",Accept:"application/json"}},VN=async e=>{try{const{data:t}=await jN.get("".concat("..","/").concat(e),UN);return t}catch(t){throw console.error("Error:",t),t}},zN=jN.create({baseURL:"https://amazon-backend-hv69.onrender.com",withCredentials:!0});const BN=function(){const[e,t]=(0,r.useState)(null),[n,i]=(0,r.useState)(""),[s,o]=(0,r.useState)("All"),a=Ee();return(0,r.useEffect)((()=>{VN("data/suggestions.json").then((e=>{t(e)}))}),[]),(0,vk.jsxs)("div",{className:"w-[100%]",children:[(0,vk.jsxs)("div",{className:"flex items-center h-10 bg-amazonclone-yellow",children:[(0,vk.jsxs)("select",{onChange:e=>o(e.target.value),className:"p-2 bg-gray-300 text-black border text-xs xl:text-sm",name:"",id:"",children:[(0,vk.jsx)("option",{value:"",children:"All"}),(0,vk.jsx)("option",{value:"",children:"Deals"}),(0,vk.jsx)("option",{value:"",children:"Amazon"}),(0,vk.jsx)("option",{value:"",children:"Fashion"}),(0,vk.jsx)("option",{value:"",children:"Computers"}),(0,vk.jsx)("option",{value:"",children:"Mobiles"})]}),(0,vk.jsx)("input",{className:"flex grow items-center h-[100%] rounded-l text-black pl-1 ",type:"text",value:n,onChange:e=>i(e.target.value),placeholder:"Search Amazon"}),(0,vk.jsx)("button",{onClick:e=>{e.preventDefault(),a({pathname:"search",search:"".concat(Be({category:"".concat(s),searchTerm:"".concat(n)}))}),i(""),o("All")},className:"w-[45px]",children:(0,vk.jsx)(HI,{className:"h-[27px] m-auto stroke-slate-900 "})})]}),e&&(0,vk.jsx)("div",{className:"bg-white text-black w-full z-40 absolute",children:e.filter((e=>{const t=n.toLowerCase(),r=e.title.toLowerCase();return t&&r.startsWith(t)&&r!==t})).slice(0,10).map((e=>(0,vk.jsx)("div",{onClick:()=>i(e.title),children:e.title},e.id)))})]})},qN=e=>{let{isSidebarOpen:t,handleToggleSidebar:n,handleSignOut:i,user:s}=e;const o=Ee();(0,r.useEffect)((()=>(t?document.body.classList.add("overflow-hidden"):document.body.classList.remove("overflow-hidden"),()=>{document.body.classList.remove("overflow-hidden")})),[t]);const a=e=>{n(),o(e)};return(0,vk.jsxs)("div",{children:[(0,vk.jsx)("div",{className:"custom-overlay fixed top-0 left-0 h-screen w-screen bg-black opacity-70 z-40 ".concat(t?"":"hidden"),onClick:n}),(0,vk.jsxs)("div",{className:"custom-sidebar fixed top-0 left-0 h-screen w-[24rem] text-white z-50 ".concat(t?"open":"closed"),children:[(0,vk.jsx)("div",{onClick:n,className:"cursor-pointer pr-50",children:(0,vk.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"h-8 mb-2 ml-auto -mr-10 custom-close-icon",children:(0,vk.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})})}),(0,vk.jsx)(Ke,{to:"/login",onClick:()=>a("/login"),children:(0,vk.jsxs)("div",{className:"flex -mt-12 text-xl font-bold items-center bg-gray-800 h-16 custom-header",children:[(0,vk.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",className:"w-8 h-8 mr-2 ml-5 custom-svg-icon",children:(0,vk.jsx)("path",{strokeLinecap:"round",d:"M17.982 18.725A7.488 7.488 0 0 0 12 15.75a7.488 7.488 0 0 0-5.982 2.975m11.963 0a9 9 0 1 0-11.963 0m11.963 0A8.966 8.966 0 0 1 12 21a8.966 8.966 0 0 1-5.982-2.275M15 9.75a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"})}),(0,vk.jsxs)("div",{className:"custom-greeting",children:["Hello, ",s?s.displayName||s.email:"Signin"]})]})}),(0,vk.jsxs)("div",{className:"bg-white text-black pl-8 max-h-screen overflow-y-auto",children:[(0,vk.jsx)("h1",{className:"custom-trending-title text-2xl bold pb-3 font-bold",children:"Trending"}),(0,vk.jsx)(Ke,{to:"/dashboard",onClick:()=>a("/dashboard"),children:(0,vk.jsx)("p",{className:"custom-link",children:" Best Seller"})}),(0,vk.jsx)(Ke,{to:"/profile",onClick:()=>a("/profile"),children:(0,vk.jsxs)("div",{className:"relative  py-3",children:[(0,vk.jsx)("p",{children:"Movers & Shakers"}),(0,vk.jsx)("div",{className:"absolute left-0 right-0 bottom-0 h-px bg-gray-500 -ml-8 "})]})}),(0,vk.jsxs)("div",{className:"relative space-y-3 py-2",children:[(0,vk.jsx)("h1",{className:"text-xl font-bold",children:"Digital Content & Devices"}),(0,vk.jsx)("p",{children:"Prime Video"}),(0,vk.jsx)("p",{children:"Amazon Music "}),(0,vk.jsx)("p",{children:"echo & Alexa"}),(0,vk.jsx)("p",{children:"Fire Tablets"}),(0,vk.jsx)("p",{children:"Fire TV"}),(0,vk.jsx)("p",{children:"Kindle E-readers & Books "}),(0,vk.jsx)("p",{children:"Audible Books & Originals"}),(0,vk.jsx)("p",{children:"Amazon Photos"}),(0,vk.jsx)("p",{children:"Amazon Appstore"}),(0,vk.jsx)("div",{className:"absolute left-0 right-0  bottom-0 h-px bg-gray-500 -ml-8 "})," "]}),(0,vk.jsxs)("div",{className:"space-y-3 relative py-3",children:[(0,vk.jsx)("h1",{className:"text-xl font-bold",children:"Shop By Department"}),(0,vk.jsx)("p",{children:"Clothing, Shoes Jewelry & watches"}),(0,vk.jsx)("p",{children:" Books "}),(0,vk.jsx)("p",{children:"Mobies, Music & Games"}),(0,vk.jsx)("p",{children:" Electronics"}),(0,vk.jsx)("div",{className:"absolute left-0 right-0  bottom-0 h-px bg-gray-500 -ml-8 "})," "]}),(0,vk.jsxs)("div",{className:"relative space-y-3 py-2",children:[(0,vk.jsx)("h1",{className:"text-xl font-bold",children:"Programs & Features"}),(0,vk.jsx)("p",{children:"Whole Foods Market"}),(0,vk.jsx)("p",{children:"Medical Care & Pharmacy"}),(0,vk.jsx)("p",{children:"Amazon physical Stores"}),(0,vk.jsx)("p",{children:"Subscribe & Save"}),(0,vk.jsx)("div",{className:"absolute left-0 right-0  bottom-0 h-px bg-gray-500 -ml-8 "})," "]}),(0,vk.jsxs)("div",{className:"mb-16",children:[(0,vk.jsxs)("div",{className:"space-y-3 py-2 ",children:[(0,vk.jsx)("h1",{children:"Help & Settings"}),(0,vk.jsx)("p",{children:"Your Account"}),(0,vk.jsx)("p",{children:"English"}),(0,vk.jsx)("p",{children:"United States"})]}),(0,vk.jsx)("div",{children:s&&(0,vk.jsx)("div",{className:" cursor-pointer custom-sign-out",onClick:async()=>{await i(),n(),o("/")},children:"Sign Out"})})]})]})]})]})};const WN=function(){const e=v((e=>e.cart.productsNumber)),t=v((e=>e.auth.user)),n=Ee(),i=C(),[s,o]=(0,r.useState)(!1),a=()=>{o(!s)},[l,c]=(0,r.useState)({city:"",zipCode:""});return(0,r.useEffect)((()=>{t&&(async()=>{try{if(t&&t.uid){const e=await yk.collection("users").doc(t.uid).get();if(e.exists){const t=e.data();c({city:t.city||"",zipCode:t.zipCode||""})}}}catch(e){console.error("Error fetching user's address:",e)}})()}),[t]),(0,vk.jsxs)("header",{className:"min-w-[1000px] mx-auto w-full",children:[(0,vk.jsxs)("div",{className:"flex bg-amazonclone-light_blue text-white h-[60px]",children:[(0,vk.jsxs)("div",{className:"flex items-center m-4",children:[(0,vk.jsx)(Ke,{to:"/",children:(0,vk.jsx)("img",{className:"h-[35px] w-[100px] m-2",src:"../images/amazon.png",alt:"Amazon logo"})}),(0,vk.jsxs)("div",{className:"pr-4 pl-4",children:[(0,vk.jsxs)("div",{className:"text-xs xl:text-sm",children:["Deliver to ",t?" ".concat(t.displayName||""):""]}),(0,vk.jsx)("div",{className:"text-sm xl:text-base font-bold",children:l.city&&l.zipCode?"".concat(l.city,", ").concat(l.zipCode):"United States"})]})]}),(0,vk.jsx)("div",{className:"flex grow relative items-center",children:(0,vk.jsx)(BN,{})}),(0,vk.jsxs)("div",{className:"flex items-center m-4",children:[(0,vk.jsx)(vk.Fragment,{children:(0,vk.jsx)("div",{className:"pr-4 pl-4",children:(0,vk.jsxs)("div",{className:"w-7 flex items-center mr-3",children:[(0,vk.jsx)("img",{src:"../images/amricanflag.jpg",alt:"American flag",className:"mr-1"}),(0,vk.jsx)("p",{children:"EN"})]})})}),(0,vk.jsxs)(vk.Fragment,{children:[(0,vk.jsx)(Ke,{to:"/login",children:(0,vk.jsxs)("div",{className:"pr-4 pl-4",children:[(0,vk.jsxs)("div",{className:"text-xs xl:text-sm",children:["Hello, ",t?t.displayName||t.email:"Signin"]}),(0,vk.jsx)("div",{className:"text-sm xl:text-base font-bold",children:"Accounts & Lists"})]})}),(0,vk.jsx)(Ke,{to:"/orders",children:(0,vk.jsxs)("div",{className:"pr-4 pl-4",children:[(0,vk.jsx)("div",{className:"text-xs xl:text-sm",children:"Returns"}),(0,vk.jsx)("div",{className:"text-sm xl:text-base font-bold",children:"& Orders"})]})})]}),(0,vk.jsx)(Ke,{to:"/checkout",children:(0,vk.jsxs)("div",{className:"flex pr-3",children:[(0,vk.jsx)(GI,{className:"h-[48px]"}),(0,vk.jsx)("div",{className:"relative",children:(0,vk.jsx)("div",{className:"absolute right-[9px] font-bold m-2 text-orange-400",children:e})}),(0,vk.jsx)("div",{className:"mt-7 text-xs xl:text-sm font-bold",children:"Cart"})]})})]})]}),(0,vk.jsxs)("div",{className:"flex items-center pb-3 bg-amazonclone-light_blue text-white",children:[(0,vk.jsxs)("div",{className:"cursor-pointer flex items-center mr-3",onClick:a,children:[(0,vk.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-8 h-8",children:(0,vk.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"})}),"All"]}),(0,vk.jsx)(qN,{isSidebarOpen:s,handleToggleSidebar:a,handleSignOut:()=>{gk.signOut().then((()=>{i(Bn(null)),c({city:"",zipCode:""}),n("/")}))},user:t}),(0,vk.jsxs)("div",{className:"flex items-center ml-3",children:[(0,vk.jsx)("div",{className:"mr-3 cursor-pointer",children:"Deals"}),(0,vk.jsx)("div",{className:"pr-3 pl-3 mr-3 cursor-pointer",children:"Medical Care"}),(0,vk.jsx)("div",{className:"mr-3 cursor-pointer",children:"Best Sellers"}),(0,vk.jsx)("div",{className:"mr-3 cursor-pointer",children:"Amazon Basics"}),(0,vk.jsx)("div",{className:"mr-3 cursor-pointer",children:"Registry"}),(0,vk.jsx)("div",{className:"mr-3 cursor-pointer",children:"Today's Deals"}),(0,vk.jsx)("div",{className:"mr-3 cursor-pointer",children:"New Releases"}),(0,vk.jsx)("div",{className:"cursor-pointer",children:"Prime"})]})]})]})},GN=Dn({name:"cart",initialState:{products:[],productsNumber:0},reducers:{addToCart:(e,t)=>{const n=e.products.find((e=>e.id===t.payload.id));n?n.quantity+=parseInt(t.payload.quantity):e.products.push({...t.payload,quantity:parseInt(t.payload.quantity)}),e.productsNumber=e.productsNumber+parseInt(t.payload.quantity)},removeFromCart:(e,t)=>{const n=e.products.find((e=>e.id===t.payload));if(n){e.productsNumber=e.productsNumber-n.quantity;const r=e.products.findIndex((e=>e.id===t.payload));e.products.splice(r,1)}},incrementInCart:(e,t)=>{const n=e.products.find((e=>e.id===t.payload));n.quantity>=1&&(n.quantity=n.quantity+1),e.productsNumber=e.productsNumber+1},decrementInCart:(e,t)=>{const n=e.products.find((e=>e.id===t.payload));n.quantity>1&&(n.quantity--,e.productsNumber=e.productsNumber-1)},emptyBasket:e=>{e.products=[],e.productsNumber=0}}}),{addToCart:HN,removeFromCart:YN,incrementInCart:KN,decrementInCart:QN,emptyBasket:XN}=GN.actions,JN=GN.reducer,$N=()=>{const{id:e}=function(){let{matches:e}=r.useContext(ve),t=e[e.length-1];return t?t.params:{}}(),[t,n]=(0,r.useState)(null),[i,s]=(0,r.useState)("1"),o=C();return(0,r.useEffect)((()=>{VN("data/products.json").then((t=>{n(t[e])})).catch((e=>{console.error("Error fetching product:",e)}))}),[]),null!==t&&void 0!==t&&t.title?t&&(0,vk.jsx)("div",{className:"h-screen bg-amazonclone-background",children:(0,vk.jsx)("div",{className:"min-w-[1000px] max-w-[1500px] m-auto p-4",children:(0,vk.jsxs)("div",{className:"grid grid-cols-10 gap-2",children:[(0,vk.jsx)("div",{className:"col-span-3 p-8 rounded bg-white m-auto",children:(0,vk.jsx)("img",{src:"".concat(t.image),alt:"Main product"})}),(0,vk.jsxs)("div",{className:"col-span-5 p-4 rounded bg-white divide-y divide-gray-400",children:[(0,vk.jsx)("div",{className:"mb-3",children:(0,vk.jsx)(nA,{product:t,ratings:!0})}),(0,vk.jsx)("div",{className:"text-base xl:text-lg mt-3",children:t.description})]}),(0,vk.jsxs)("div",{className:"col-span-2 p-4 rounded bg-white",children:[(0,vk.jsx)("div",{className:"text-xl xl:text-2xl text-red-700 text-right font-semibold",children:FN.format(t.price)}),(0,vk.jsxs)("div",{className:"text-base xl:text-lg text-gray-500 text-right font-semibold",children:["RRP:"," ",(0,vk.jsx)("span",{className:"line-through",children:FN.format(t.oldPrice)})]}),(0,vk.jsx)("div",{className:"text-sm xl:text-base text-blue-500 font-semibold mt-3",children:"FREE Returns"}),(0,vk.jsx)("div",{className:"text-sm xl:text-base text-blue-500 font-semibold mt-1",children:"FREE Delivery"}),(0,vk.jsx)("div",{className:"text-base xl:text-lg text-green-700 font-semibold mt-1",children:"In Stock"}),(0,vk.jsxs)("div",{className:"text-base xl:text-lg mt-1",children:["Quantity:",(0,vk.jsxs)("select",{onChange:e=>s(e.target.value),className:"p-2 bg-white border rounded-md focus:border-indigo-600",children:[(0,vk.jsx)("option",{children:"1"}),(0,vk.jsx)("option",{children:"2"}),(0,vk.jsx)("option",{children:"3"})]})]}),(0,vk.jsx)(Ke,{to:"/checkout",children:(0,vk.jsx)("button",{onClick:()=>o(HN((n(t.quantity=i),t))),className:"btn bg-yellow-400 w-full p-3 text-xs xl:text-sm rounded hover:bg-yellow-500 mt-3",children:"Add to Cart"})})]})]})})}):(0,vk.jsx)("h1",{children:"Loading Product ..."})};const ZN=function(e){let{badge:t}=e;return"choice"===t?(0,vk.jsxs)("span",{className:"text-xs xl:text-sm bg-slate-800 text-white p-1",children:["Amazon's ",(0,vk.jsx)("span",{className:"text-orange-500",children:"choice"})]}):"seller"===t?(0,vk.jsx)("span",{className:"text-xs xl:text-sm bg-orange-500 text-white p-1",children:"#1 Best Seller"}):"limited"===t?(0,vk.jsx)("span",{className:"text-xs xl:text-sm bg-red-500 text-white p-1",children:"Limited Time Deal"}):(0,vk.jsx)("div",{})};const eA=r.forwardRef((function(e,t){let{title:n,titleId:i,...s}=e;return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":i},s),n?r.createElement("title",{id:i},n):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.48 3.499a.562.562 0 0 1 1.04 0l2.125 5.111a.563.563 0 0 0 .475.345l5.518.442c.499.04.701.663.321.988l-4.204 3.602a.563.563 0 0 0-.182.557l1.285 5.385a.562.562 0 0 1-.84.61l-4.725-2.885a.562.562 0 0 0-.586 0L6.982 20.54a.562.562 0 0 1-.84-.61l1.285-5.386a.562.562 0 0 0-.182-.557l-4.204-3.602a.562.562 0 0 1 .321-.988l5.518-.442a.563.563 0 0 0 .475-.345L11.48 3.5Z"}))}));const tA=function(e){const t=e.avgRating,n=e.avgRating;return(0,vk.jsxs)("div",{className:"flex",children:[Array.from({length:t},((e,t)=>(0,vk.jsx)(eA,{className:"stroke-[#F1B61F] fill-[#F1B61F] h-[20px]"},t))),Array.from({length:5-t},((e,t)=>(0,vk.jsx)(eA,{className:"stroke-[#F1B61F] h-[20px]"},t))),(0,vk.jsxs)("span",{className:"ml-3 text-blue-500",children:[n," ratings"]})]})};const nA=function(e){let{product:t,ratings:n}=e;return(0,vk.jsxs)("div",{className:"mb-1",children:[(0,vk.jsx)("div",{className:"text-xl xl:text-2xl font-medium mb-1",children:t.title}),(0,vk.jsxs)("div",{className:"text-xs xl:text-base font-bold mb-1",children:["by ",(0,vk.jsx)("span",{className:"text-blue-500",children:t.brnad})]}),n&&(0,vk.jsxs)("div",{className:"text-sm xl:text-base  mb-1",children:[" ",(0,vk.jsx)(tA,{avgRating:t.avgRating,ratings:t.ratings})]}),(0,vk.jsx)("div",{className:"text-sm xl:text-base mb-1",children:t.attribute}),(0,vk.jsx)("div",{className:"",children:(0,vk.jsx)(ZN,{badge:t.badge})})]})};const rA=function(){const e=v((e=>e.cart.products)),t=v((e=>e.cart.productsNumber)),n=v((e=>e.cart.products.reduce(((e,t)=>e+t.price*t.quantity),0))),r=v((e=>null!==e.auth.user)),i=Ee(),s=C();return(0,vk.jsx)("div",{className:"h-screen bg-amazonclone-background",children:(0,vk.jsx)("div",{className:"min-w-[1000px] max-w-[1500px] m-auto pt-8",children:(0,vk.jsxs)("div",{className:"grid grid-cols-8 gap-10",children:[(0,vk.jsxs)("div",{className:"col-span-6 bg-white",children:[(0,vk.jsx)("div",{className:"text-2xl xl:text-3xl m-4",children:"Shopping Cart"}),e.map((e=>(0,vk.jsx)("div",{children:(0,vk.jsxs)("div",{className:"grid grid-cols-12 divide-y divide-gray-400 mr-4",children:[(0,vk.jsxs)("div",{className:"col-span-10 grid grid-cols-8 divide-y divide-gray-400",children:[(0,vk.jsx)("div",{className:"col-span-2",children:(0,vk.jsx)(Ke,{to:"/product/".concat(e.id),children:(0,vk.jsx)("img",{className:"p-4 m-auto",src:e.image_small,alt:"Checkout product"})})}),(0,vk.jsxs)("div",{className:"col-span-6",children:[(0,vk.jsx)("div",{className:"font-medium text-black mt-2",children:(0,vk.jsx)(Ke,{to:"/product/".concat(e.id),children:(0,vk.jsx)(nA,{product:e,ratings:!1})})}),(0,vk.jsx)("div",{children:(0,vk.jsx)("button",{className:"text-sm xl:text-base font-semibold rounded text-red-700 mt-2 mb-1 cursor-pointer",onClick:()=>s(YN(e.id)),children:"Delete"})}),(0,vk.jsxs)("div",{className:"grid grid-cols-3 w-20 text-center",children:[(0,vk.jsx)("button",{children:(0,vk.jsx)("div",{className:"text-xl xl:text-2xl bg-gray-400 rounded cursor-pointer",onClick:()=>s(QN(e.id)),children:"-"})}),(0,vk.jsx)("div",{className:"text-lg xl:text-xl bg-gray-200",children:e.quantity}),(0,vk.jsx)("button",{children:(0,vk.jsx)("div",{className:"text-xl xl:text-2xl bg-gray-400 rounded cursor-pointer",onClick:()=>s(KN(e.id)),children:"+"})})]})]})]}),(0,vk.jsx)("div",{className:"col-span-2",children:(0,vk.jsx)("div",{className:"text-lg xl:text-xl mt-2 mr-4 font-semibold",children:FN.format(e.price)})})]})},e.id))),(0,vk.jsxs)("div",{className:"text-lg xl:text-xl text-right mb-4 mr-4",children:["Subtotal (",t," items):"," ",(0,vk.jsx)("span",{className:"font-semibold",children:FN.format(n)})]})]}),(0,vk.jsx)("div",{className:"col-span-2 bg-white rounded h-[250px] p-7",children:r?(0,vk.jsxs)("div",{children:[(0,vk.jsxs)("div",{className:"text-xs xl:text-sm text-green-800 mb-2",children:["Your order qualifies for"," ",(0,vk.jsx)("span",{className:"font-bold",children:"FREE DELIVERY"}),". Delivery Details"]}),(0,vk.jsxs)("div",{className:"text-base xl:text-lg mb-4",children:["Subtotal (",t," items):"," ",(0,vk.jsx)("span",{className:"font-semibold",children:FN.format(n)})]}),(0,vk.jsx)("button",{className:"btn",onClick:e=>i("/payment"),children:"Proceed to Checkout"})]}):(0,vk.jsxs)("div",{children:[(0,vk.jsx)("p",{children:"Please log in to proceed to checkout."}),(0,vk.jsx)("button",{className:"btn",onClick:()=>i("/login"),children:"Log In"})]})})]})})})},iA=()=>{const[e]=Je(),[t,n]=(0,r.useState)(null);return(0,r.useEffect)((()=>{(()=>{const t=e.get("searchTerm"),r=e.get("category");VN("data/search.json").then((e=>{const i=e[r];if(t){const e=i.filter((e=>e.title.toLowerCase().includes(t.toLowerCase())));n(e)}else n(i)}))})()}),[e]),(0,vk.jsx)("div",{className:"min-w-[1200px] max-w-[1300px] m-auto pt-4",children:t&&t.map(((e,t)=>(0,vk.jsx)(Ke,{to:"/product/".concat(e.id),children:(0,vk.jsxs)("div",{className:"h-[250px] grid grid-cols-12 rounded mt-1 mb-1 ",children:[(0,vk.jsx)("div",{className:"col-span-2 p-4 bg-gray-200",children:(0,vk.jsx)("img",{className:"m-auto",src:e.image_small,alt:"Search result product"})}),(0,vk.jsx)("div",{className:"col-span-10 bg-gray-50 border border-gray-100 hover:bg-gray-100 ",children:(0,vk.jsxs)("div",{className:"font-medium text-black p-2",children:[(0,vk.jsx)(nA,{product:e,ratings:!0}),(0,vk.jsx)("div",{className:"text-xl xl:text-2xl pt-1",children:FN.format(e.price)})]})})]})},t)))})};const sA=function(){C();const[e,t]=(0,r.useState)(""),[n,i]=(0,r.useState)(""),[s,o]=(0,r.useState)(""),[a,l]=(0,r.useState)(""),[c,u]=(0,r.useState)(null),[d,h]=(0,r.useState)(!1),[f,p]=(0,r.useState)(null),m=Ee();return(0,vk.jsxs)("div",{className:"login",children:[(0,vk.jsx)(Ke,{to:"/",children:(0,vk.jsx)("img",{className:"login__logo",src:"../images/amazon_login_logo.svg.png",alt:"Amazon Logo"})}),(0,vk.jsxs)("div",{className:"login__container",children:[(0,vk.jsx)("h1",{children:d?"Create Account":"Sign-in"}),(0,vk.jsxs)("form",{className:"login__form",children:[d&&(0,vk.jsxs)(vk.Fragment,{children:[(0,vk.jsx)("h5",{children:"Name"}),(0,vk.jsx)("input",{type:"text",value:e,onChange:e=>t(e.target.value),className:"login__input"})]}),(0,vk.jsx)("h5",{children:"E-mail"}),(0,vk.jsx)("input",{type:"text",value:n,onChange:e=>i(e.target.value),className:"login__input"}),(0,vk.jsx)("h5",{children:"Password"}),(0,vk.jsx)("input",{type:"password",value:s,onChange:e=>o(e.target.value),className:"login__input"}),d&&(0,vk.jsxs)(vk.Fragment,{children:[(0,vk.jsx)("h5",{children:"Re-enter Password"}),(0,vk.jsx)("input",{type:"password",value:a,onChange:e=>l(e.target.value),className:"login__input"})]}),c&&(0,vk.jsx)("div",{className:"error-message",children:c}),f?(0,vk.jsxs)("button",{className:"login__signInButton",disabled:!0,children:["Welcome, ",f.displayName]}):(0,vk.jsx)("button",{type:"submit",onClick:d?t=>{t.preventDefault(),s===a?ta(gk,n,s).then((t=>{const n=t.user;oa(n,{displayName:e}).then((()=>{p(n),m("/")})).catch((e=>u(e.message)))})).catch((e=>u(e.message))):u("Passwords do not match")}:e=>{e.preventDefault(),na(gk,n,s).then((e=>{const t=e.user;p(t),m("/")})).catch((e=>u("Invalid email or password ")))},className:"login__signInButton",children:d?"Create Account":"Sign In"})]}),(0,vk.jsx)("p",{children:d?"Already have an account? ":"By signing-in you agree to the AMAZON FAKE CLONE Conditions of Use & Sale. Please see our Privacy Notice, our Cookies Notice and our Interest-Based Ads Notice."}),(0,vk.jsx)("button",{onClick:()=>{h(!d),u(null)},className:"login__registerButton",children:d?"Already have an account? Sign in":"Create your Amazon Account"})]})]})};const oA=function(){const e=v((e=>e.cart.products)),t=v((e=>e.cart.productsNumber)),n=C(),i=(0,$e.useStripe)(),s=(0,$e.useElements)(),o=Ee(),a=v((e=>e.auth.user)),l=v((e=>e.cart.products.reduce(((e,t)=>e+t.price*t.quantity),0))),[c,u]=(0,r.useState)(null),[d,h]=(0,r.useState)(!0),[f,p]=(0,r.useState)(!1),[m,g]=(0,r.useState)(""),[y,w]=(0,r.useState)(!0),[b,_]=(0,r.useState)(!1),[S,E]=(0,r.useState)(null),[x,T]=(0,r.useState)({country:"",fullName:"",streetAddress:"",aptSuite:"",city:"",state:"",zipCode:""});(0,r.useEffect)((()=>{a&&!b&&(async()=>{try{const e=await yk.collection("users").doc(null===a||void 0===a?void 0:a.uid).get();if(e.exists){const t=e.data();b||T((e=>({...e,country:t.country||"",fullName:t.fullName||"",streetAddress:t.streetAddress||"",aptSuite:t.aptSuite||"",city:t.city||"",state:t.state||"",zipCode:t.zipCode||""})))}}catch(c){console.error("Error fetching user's address:",c)}})()}),[a,b]);const k=()=>{T({country:"",fullName:"",streetAddress:"",aptSuite:"",city:"",state:"",zipCode:""}),_(!0)};(0,r.useEffect)((()=>{(async()=>{try{console.log("Subtotal:",l),console.log("Axios Request Data:",{total:100*l});const e=await zN.post("/payments/create",{total:100*l});console.log("Response from backend:",e.data),w(e.data.clientSecret),console.log("Client Secret:",e.data.clientSecret)}catch(c){console.error("Error fetching client secret:",c)}})()}),[l]);const I=!x.country||!x.fullName||!x.streetAddress||!x.city||!x.state||!x.zipCode;return(0,vk.jsx)("div",{className:"payment",children:(0,vk.jsxs)("div",{className:"payment__container",children:[(0,vk.jsxs)("h1",{className:"text-xl",children:["Checkout (",(0,vk.jsx)(Ke,{to:"/checkout",children:(0,vk.jsxs)("span",{className:"text-blue-600 cursor-pointer",children:[t," items"]})}),")"]}),(0,vk.jsx)("div",{className:"payment__title ml-5",children:(0,vk.jsx)("h3",{children:"Review items and delivery"})}),(0,vk.jsxs)("div",{className:"payment__section new__address",children:[(0,vk.jsxs)("div",{className:"payment__title",children:[(0,vk.jsx)("h3",{className:"itmes",children:"Shippping address"}),(0,vk.jsx)("h3",{className:"itmes",onClick:k,children:x.streetAddress?"Change Address":"Add Delivery Address"})]}),(0,vk.jsxs)("div",{className:"payment__address",children:[(null===a||void 0===a?void 0:a.displayName)&&!b&&(0,vk.jsxs)("div",{children:[(0,vk.jsx)("p",{children:null===a||void 0===a?void 0:a.displayName}),I?(0,vk.jsx)("p",{children:(0,vk.jsx)("strong",{children:"Please add a delivery address"})}):(0,vk.jsxs)(vk.Fragment,{children:[(0,vk.jsx)("p",{children:x.streetAddress}),(0,vk.jsx)("p",{children:x.aptSuite}),(0,vk.jsxs)("p",{children:[x.city,", ",x.state," ",x.zipCode]})]})]}),!b&&!S&&(0,vk.jsx)("button",{onClick:k,children:x.streetAddress?"Change Address":"Add Delivery Address"}),b&&(0,vk.jsx)("div",{className:"new-address-overlay",onClick:e=>{e.target.closest(".new-address-form")||_(!1)},children:(0,vk.jsx)("div",{className:"new-address-form",children:(0,vk.jsxs)("form",{onSubmit:async e=>{e.preventDefault();try{await yk.collection("users").doc(null===a||void 0===a?void 0:a.uid).set(x,{merge:!0}),_(!1)}catch(c){console.error("Error saving user's address:",c)}},children:[(0,vk.jsx)("label",{htmlFor:"country",children:"Country/Region"}),(0,vk.jsx)("input",{type:"text",id:"country",value:x.country,onChange:e=>T({...x,country:e.target.value})}),(0,vk.jsx)("label",{htmlFor:"fullName",children:"Full Name"}),(0,vk.jsx)("input",{type:"text",id:"fullName",value:x.fullName,onChange:e=>T({...x,fullName:e.target.value})}),(0,vk.jsx)("label",{htmlFor:"streetAddress",children:"Street Address"}),(0,vk.jsx)("input",{type:"text",id:"streetAddress",value:x.streetAddress,onChange:e=>T({...x,streetAddress:e.target.value})}),(0,vk.jsx)("label",{htmlFor:"aptSuite",children:"Apt, Suite, Building, Floor"}),(0,vk.jsx)("input",{type:"text",id:"aptSuite",value:x.aptSuite,onChange:e=>T({...x,aptSuite:e.target.value})}),(0,vk.jsx)("label",{htmlFor:"city",children:"City"}),(0,vk.jsx)("input",{type:"text",id:"city",value:x.city,onChange:e=>T({...x,city:e.target.value})}),(0,vk.jsx)("label",{htmlFor:"state",children:"State"}),(0,vk.jsx)("input",{type:"text",id:"state",value:x.state,onChange:e=>T({...x,state:e.target.value})}),(0,vk.jsx)("label",{htmlFor:"zipCode",children:"Zip Code"}),(0,vk.jsx)("input",{type:"text",id:"zipCode",value:x.zipCode,onChange:e=>T({...x,zipCode:e.target.value})}),(0,vk.jsx)("button",{type:"submit",children:"Save Address"})]})})})]})]}),(0,vk.jsxs)("div",{className:"payment__section",children:[(0,vk.jsx)("div",{className:"col-span-6 bg-white",children:e.map((e=>(0,vk.jsx)("div",{children:(0,vk.jsxs)("div",{className:"grid grid-cols-12 divide-y divide-gray-400 mr-4",children:[(0,vk.jsxs)("div",{className:"col-span-10 grid grid-cols-8 divide-y divide-gray-400",children:[(0,vk.jsx)("div",{className:"col-span-2",children:(0,vk.jsx)(Ke,{to:"/product/".concat(e.id),children:(0,vk.jsx)("img",{className:"p-4 m-auto",src:e.image_small,alt:"Checkout product"})})}),(0,vk.jsxs)("div",{className:"col-span-6",children:[(0,vk.jsx)("div",{className:"font-medium text-black mt-2",children:(0,vk.jsx)(Ke,{to:"/product/".concat(e.id),children:(0,vk.jsx)(nA,{product:e,ratings:!1})})}),(0,vk.jsx)("div",{children:(0,vk.jsx)("button",{className:"text-sm xl:text-base font-semibold rounded text-red-700 mt-2 mb-1 cursor-pointer",onClick:()=>n(YN(e.id)),children:"Delete"})}),(0,vk.jsxs)("div",{className:"grid grid-cols-3 w-20 text-center",children:[(0,vk.jsx)("div",{className:"text-xl xl:text-2xl bg-gray-400 rounded cursor-pointer",onClick:()=>n(QN(e.id)),children:"-"}),(0,vk.jsx)("div",{className:"text-lg xl:text-xl bg-gray-200",children:e.quantity}),(0,vk.jsx)("div",{className:"text-xl xl:text-2xl bg-gray-400 rounded cursor-pointer",onClick:()=>n(KN(e.id)),children:"+"})]})]})]}),(0,vk.jsx)("div",{className:"col-span-2",children:(0,vk.jsx)("div",{className:"text-lg xl:text-xl mt-2 mr-4 font-semibold",children:FN.format(e.price)})})]})},e.id)))}),(0,vk.jsxs)("div",{className:"w-[400px] ml-20 text-sm border border-solid",children:[(0,vk.jsxs)("div",{className:"text-center",children:[(0,vk.jsx)("p",{className:"bg-yellow-400",children:"use this payment method"}),(0,vk.jsx)("p",{children:"Choose a payment method to continue checking out. You'll still have a chance to review and edit your order before it's final."})]}),(0,vk.jsxs)("div",{className:"ml-5",children:[(0,vk.jsx)("h1",{className:"text-2xl",children:"Order Summary"}),(0,vk.jsxs)("p",{children:[" Items: ",FN.format(l)]}),(0,vk.jsx)("p",{children:"Shipping & Handling: ---"}),(0,vk.jsx)("p",{children:"Total before tax: --"}),(0,vk.jsx)("p",{children:"Estimated tex to be collected --"}),(0,vk.jsxs)("h2",{className:"text-2xl font-bold ",children:["Order Total: ",FN.format(l)]})]}),(0,vk.jsxs)("div",{className:"payment__section",children:[(0,vk.jsx)("div",{className:"payment__title",children:(0,vk.jsx)("h3",{className:"text-xl font-semibold pr-2",children:"Payment Method"})}),(0,vk.jsx)("div",{className:"payment__details",children:(0,vk.jsxs)("form",{onSubmit:async t=>{t.preventDefault(),g(!0);await i.confirmCardPayment(y,{payment_method:{card:s.getElement($e.CardElement)}});const r=e.map((e=>({id:e.id,title:e.title,image:e.image_small,price:e.price,quantity:e.quantity}))),d={amount:100*l,created:Math.floor(Date.now()/1e3),subtotal:l,basket:r},h="pi_".concat(Math.random().toString(36).substring(2,15));try{await yk.collection("users").doc(null===a||void 0===a?void 0:a.uid).collection("orders").doc(h).set(d),p(!0),u(null),g(!1),n(XN()),o("/orders")}catch(c){console.error("Error processing payment:",c),u("Failed to process payment. Please try again."),g(!1)}},children:[(0,vk.jsx)($e.CardElement,{onChange:e=>{h(e.empty),u(e.error?e.error.message:"")}}),(0,vk.jsx)("div",{className:"payment__priceContainer m-3",children:(0,vk.jsx)("button",{disabled:m||d||f,children:(0,vk.jsx)("span",{children:m?(0,vk.jsx)("p",{children:"Processing"}):"Buy Now"})})}),c&&(0,vk.jsx)("div",{children:c})]})})]})]})]})]})})};var aA=n(426),lA=n.n(aA);const cA=function(e){let{order:t}=e;const{amount:n,created:r,basket:i}=t.data;return(0,vk.jsx)("div",{className:"order",children:(0,vk.jsxs)("div",{className:"order__container",children:[(0,vk.jsx)("h1",{className:"text-xl",children:" Order"}),(0,vk.jsxs)("div",{className:"order__section text-lg",children:[(0,vk.jsxs)("p",{className:"pb-2",children:["Ordered date: ",lA().unix(r).format("MMMM Do YYYY, h:mma")]}),(0,vk.jsxs)("p",{className:"order__id ",children:["Confirmation: ",t.id]})]}),(0,vk.jsxs)("div",{className:"order__section ",children:[(0,vk.jsx)("div",{className:"order__details ",children:i&&i.length>0?i.map((e=>(0,vk.jsxs)("div",{className:"order__item flex p-6",children:[(0,vk.jsx)("img",{className:"w-60 ",src:e.image,alt:e.title}),(0,vk.jsxs)("div",{className:"order__itemInfo pl-6 text-3xl",children:[(0,vk.jsxs)("p",{children:[" ",e.title]}),(0,vk.jsxs)("p",{className:"order__itemPrice pb-2",children:["Price : ",FN.format(e.price)]})]})]},e.id))):(0,vk.jsx)("p",{children:"No items in the order."})}),(0,vk.jsxs)("h2",{className:"text-2xl font-bold",children:["Order Total: ",FN.format(n/100)]})]})]})})},uA=()=>{const e=v((e=>e.auth.user)),[t,n]=(0,r.useState)([]);return(0,r.useEffect)((()=>{if(e){const t=yk.collection("users").doc(null===e||void 0===e?void 0:e.uid).collection("orders").orderBy("created","desc").onSnapshot((e=>n(e.docs.map((e=>({id:e.id,data:e.data()}))))));return()=>{t()}}n([])}),[e]),(0,vk.jsxs)("div",{className:"orders",children:[(0,vk.jsx)("h1",{className:"text-2xl ",children:"Your Orders"}),(0,vk.jsx)("div",{className:"orders__order",children:t.length>0?t.map((e=>(0,vk.jsx)("div",{children:(0,vk.jsx)(cA,{order:e})},e.id))):(0,vk.jsx)("p",{className:"text-2xl text-center",children:"You haven't placed any orders yet."})})]})};const dA=function(){const e=C(),[t,n]=(v((e=>e.auth.user)),(0,r.useState)(null));return(0,r.useEffect)((()=>{(async()=>{try{const e=await function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];lt=!0;var r=Date.now();return at.then((function(e){return function(e,t,n){if(null===e)return null;var r=e.apply(void 0,t);return function(e,t){e&&e._registerWrapper&&e._registerWrapper({name:"stripe-js",version:"2.2.2",startTime:t})}(r,n),r}(e,t,r)}))}("pk_test_51OPvWsE20rTG9mx1Sd2vvcDhqLQNQNZBpOzGK5Q8Bqclnz8MXOcVLKkXtcXw8aF9L58QxIlFv3x4RAzAP84NdjpZ00lZK1aYup");n(e)}catch(e){console.error("Error initializing Stripe:",e)}})()}),[]),(0,r.useEffect)((()=>{const t=gk.onAuthStateChanged((t=>{e(Bn(t||null))}));return()=>t()}),[e]),(0,vk.jsxs)(Ge,{children:[(0,vk.jsx)(WN,{}),(0,vk.jsxs)(Fe,{children:[(0,vk.jsx)(Le,{exact:!0,path:"/",element:(0,vk.jsx)(wk,{})}),(0,vk.jsx)(Le,{path:"/search",element:(0,vk.jsx)(iA,{})}),(0,vk.jsx)(Le,{path:"/product/:id",element:(0,vk.jsx)($N,{})}),(0,vk.jsx)(Le,{path:"/checkout",element:(0,vk.jsx)(rA,{})}),(0,vk.jsx)(Le,{path:"/login",element:(0,vk.jsx)(sA,{})}),(0,vk.jsx)(Le,{path:"/payment",element:t?(0,vk.jsx)($e.Elements,{stripe:t,children:(0,vk.jsx)(oA,{})}):null}),(0,vk.jsx)(Le,{path:"/orders",element:(0,vk.jsx)(uA,{})})]})]})},hA=function(e){const t=function(e){const{thunk:t=!0,immutableCheck:n=!0,serializableCheck:r=!0,actionCreatorCheck:i=!0}=null!==e&&void 0!==e?e:{};let s=new Sn;return t&&(function(e){return"boolean"===typeof e}(t)?s.push(vn):s.push(wn(t.extraArgument))),s},{reducer:n,middleware:r,devTools:i=!0,preloadedState:s,enhancers:o}=e||{};let a,l;if("function"===typeof n)a=n;else{if(!fn(n))throw new Error(Vn(1));a=mn(n)}l="function"===typeof r?r(t):t();let c=gn;i&&(c=bn({trace:!1,..."object"===typeof i&&i}));const u=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return e=>(n,r)=>{const i=e(n,r);let s=()=>{throw new Error(cn(15))};const o={getState:i.getState,dispatch:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return s(e,...n)}},a=t.map((e=>e(o)));return s=gn(...a)(i.dispatch),{...i,dispatch:s}}}(...l),d=Cn(u);let h="function"===typeof o?o(d):d();return pn(a,s,c(...h))}({reducer:{cart:JN,auth:Wn}});s.createRoot(document.getElementById("root")).render((0,vk.jsx)(E,{store:hA,children:(0,vk.jsx)(r.StrictMode,{children:(0,vk.jsx)(dA,{})})}))})()})();
//# sourceMappingURL=main.21f7df64.js.map